<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Arrays</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Smalltalk "
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Dates and Times"
HREF="datesandtimes.html"><LINK
REL="NEXT"
TITLE="Hashes"
HREF="hashes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Smalltalk </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ARRAYS"
>4. Arrays</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN170"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">&quot;Arrays are also objects in Smalltalk.</span>
<span class="c">The class Array is a subclass (though not an immediate subclass) of</span>
<span class="c">Collection.  All collections share enumeration and mutation abilities,</span>
<span class="c">though some kinds of collection impose limits.  For example, Arrays are</span>
<span class="c">of a fixed size, so it is not possible to add more elements to an Array</span>
<span class="c">than it&#39;s current size - with other kinds of collection, any number of</span>
<span class="c">elements can be added (until you hit a system limit, like running out of</span>
<span class="c">memory).&quot;</span>

<span class="c">&quot;Arrays have a literal form, unlike other kinds of collection.&quot;</span>
<span class="o">|</span><span class="nv">myArray</span><span class="o">|</span>
<span class="c">&quot;First we assign a litteral Array containing four Strings to the</span>
<span class="c">variable myArray.&quot;</span>
<span class="nv">myArray</span> <span class="o">:=</span> <span class="ss">#(</span><span class="s">&#39;this&#39;</span> <span class="s">&#39;that&#39;</span> <span class="s">&#39;the&#39;</span> <span class="s">&#39;other&#39;</span><span class="ss">)</span><span class="p">.</span>
<span class="c">&quot;Now we create a nested Array in a similar way.  We end up with an Array</span>
<span class="c">with three elements, the first two being Strings and the third being a</span>
<span class="c">distinct instance of class Array in turn containing two Strings.&quot;</span>
<span class="nv">myArray</span> <span class="o">:=</span> <span class="ss">#(</span><span class="s">&#39;this&#39;</span> <span class="s">&#39;that&#39;</span> <span class="ss">#(</span><span class="s">&#39;the&#39;</span> <span class="s">&#39;other&#39;</span><span class="ss">))</span><span class="p">.</span>

<span class="c">&quot;We can also create arrays by message passing.  So, to repeat the last</span>
<span class="c">last example:&quot;</span>
<span class="o">|</span><span class="nv">outer nested</span><span class="o">|</span>
<span class="nv">nested</span> <span class="o">:=</span> <span class="nc">Array</span> <span class="nf">with:</span> <span class="s">&#39;the&#39;</span> <span class="nf">with:</span> <span class="s">&#39;other&#39;</span><span class="p">.</span>
<span class="nv">outer</span> <span class="o">:=</span> <span class="nc">Array</span> <span class="nf">with:</span> <span class="s">&#39;this&#39;</span> <span class="nf">with:</span> <span class="s">&#39;that&#39;</span> <span class="nf">with:</span> <span class="nv">nested</span><span class="p">.</span>
 </PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN173"
>Specifying a List In Your Program</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="o">|</span><span class="nv">a lines</span><span class="o">|</span>
<span class="nv">a</span> <span class="o">:=</span> <span class="ss">#(</span><span class="s">&#39;quick&#39;</span> <span class="s">&#39;brown&#39;</span> <span class="s">&#39;fox&#39;</span><span class="ss">)</span><span class="p">.</span>
<span class="c">&quot;The following send &gt;&gt;subStrings to a String.  The result of this is an</span>
<span class="c">OrderedCollection with 5 elements, each element being a String.  To get</span>
<span class="c">an Array, we send &gt;&gt;asArray to the OrderedCollection.&quot;</span>
<span class="nv">a</span> <span class="o">:=</span> <span class="s">&#39;Why are you teasing me?&#39;</span> <span class="nf">subStrings</span> <span class="nf">asArray</span><span class="p">.</span>

<span class="c">&quot;In the next example I&#39;m forcing the cr character into the string to</span>
<span class="c">make the code work either from a code file, or in an image workspace.</span>
<span class="c">The cr in a literal String *should* be respected, but in GNU Smalltalk</span>
<span class="c">2.1.8 it does not seem to be in an image worksheet.&quot;</span>
<span class="nv">lines</span> <span class="o">:=</span> (
    (<span class="s">&#39;The boy stood on the burning deck.%1&#39;</span> <span class="nf">bindWith:</span> <span class="nc">Character</span> <span class="nf">cr</span>)<span class="nf">,</span>
     <span class="s">&#39;It was as hot as glass.&#39;</span> <span class="nf">subStrings:</span> <span class="nc">Character</span> <span class="nf">cr</span>) <span class="nf">asArray</span><span class="p">.</span>

<span class="c">&quot;Here we create a large array by reading the contents of a file.  The</span>
<span class="c">contents of the file is an instance of class String in this case.</span>
<span class="c">&gt;&gt;contents is crude, but works fine in this case ... if you have</span>
<span class="c">a file called &#39;mydatafile&#39; in the current directory that contains</span>
<span class="c">printable characters.&quot;</span>
<span class="o">|</span><span class="nv">bigArray</span><span class="o">|</span>
<span class="nv">bigArray</span> <span class="o">:=</span> ((<span class="nc">File</span> <span class="nf">name:</span> <span class="s">&#39;mydatafile&#39;</span>) <span class="nf">contents</span>) <span class="nf">asArray</span><span class="p">.</span>

<span class="c">&quot;Now we concatenate some Strings and convert them to Arrays&quot;</span>
<span class="o">|</span><span class="nv">name banner</span><span class="o">|</span>
<span class="nv">name</span> <span class="o">:=</span> <span class="s">&#39;Gandalf&#39;</span><span class="p">.</span>
<span class="nv">banner</span> <span class="o">:=</span> (<span class="s">&#39;Speak, &#39;</span><span class="nf">,</span> <span class="nv">name</span><span class="nf">,</span> <span class="s">&#39;, and enter!&#39;</span>) <span class="nf">asArray</span><span class="p">.</span>
<span class="nv">banner</span> <span class="o">:=</span> (<span class="s">&#39;Speak, %1, and enter!&#39;</span> <span class="nf">bindWithArguments:</span> (<span class="nc">Array</span> <span class="nf">with:</span>
<span class="nv">name</span>)) <span class="nf">asArray</span><span class="p">.</span>
</pre></div>
</body>
</html></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN176"
>Printing a List with Commas</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN179"
>Changing Array Size</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182"
>Doing Something with Every Element in a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN185"
>Iterating Over an Array by Reference</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN188"
>Extracting Unique Elements from a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN191"
>Finding Elements in One Array but Not Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN194"
>Computing Union, Intersection, or Difference of Unique Lists</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN197"
>Appending One Array to Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN200"
>Reversing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN203"
>Processing Multiple Elements of an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>Finding the First List Element That Passes a Test</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>Finding All Elements in an Array Matching Certain Criteria</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN212"
>Sorting an Array Numerically</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN215"
>Sorting a List by Computable Field</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN218"
>Implementing a Circular List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN221"
>Randomizing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN224"
>Program: words</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN227"
>Program: permute</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dates and Times</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Hashes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>