<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Numbers</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Smalltalk "
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Strings"
HREF="strings.html"><LINK
REL="NEXT"
TITLE="Dates and Times"
HREF="datesandtimes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Smalltalk </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="strings.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="NUMBERS"
>2. Numbers</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN73"
>Checking Whether a String Is a Valid Number</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">&quot;Even numbers are objects in Smalltalk.  There is no special syntax for</span>
<span class="c">manipulating numbers other than the literal forms of numbers.</span>

<span class="c">For example, evaluating &#39;1 + 2&#39; results in the object 1 being sent the</span>
<span class="c">message &#39;+&#39; with the single argument 2.  The &#39;+&#39; method returns the</span>
<span class="c">object 3.</span>

<span class="c">An object is either a subclass of Number (in which case it is a number)</span>
<span class="c">or it&#39;s not.  An instance of String is not a number, though it might</span>
<span class="c">contain the literal form of a number.</span>

<span class="c">So let&#39;s say we have an instance of class String which we think might</span>
<span class="c">contain a number in some form or other...&quot;</span>

<span class="o">|</span><span class="nv">result</span><span class="o">|</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="s">&#39;123.45&#39;</span> <span class="nf">isNumber</span><span class="p">.</span>   <span class="c">&quot;false is assigned to result. &#39;123.45&#39; is</span>
<span class="c">a String, not a Number.&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="m">123.45</span> <span class="nf">isNumber</span><span class="p">.</span>  <span class="c">&quot;true is assigned to result. 123.45 is</span>
<span class="c">indeed a number.&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nc">Number</span> <span class="nf">readFrom:</span> (<span class="s">&#39;123.45&#39;</span> <span class="nf">readStream</span>)<span class="p">.</span> <span class="c">&quot;result is the</span>
<span class="c">Fraction(!) 2469/20&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nv">result</span> <span class="nf">asFloat</span><span class="p">.</span> <span class="c">&quot;result is now the Float 123.45&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nc">Number</span> <span class="nf">readFrom:</span> (<span class="s">&#39;this is not a number&#39;</span> <span class="nf">readStream</span>)<span class="p">.</span> <span class="c">&quot;result</span>
<span class="c">is the Integer zero.&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nc">Number</span> <span class="nf">readFrom:</span> (<span class="s">&#39;123abc&#39;</span> <span class="nf">readStream</span>)<span class="p">.</span> <span class="c">&quot;result is the Integer</span>
<span class="c">123&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="s">&#39;This is not a number&#39;</span> <span class="nf">isNumeric</span><span class="p">.</span> <span class="c">&quot;result is false&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="s">&#39;123&#39;</span> <span class="nf">isNumeric</span><span class="p">.</span> <span class="c">&quot;result is true&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="s">&#39;123abc&#39;</span> <span class="nf">isNumeric</span><span class="p">.</span> <span class="c">&quot;result is false&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="s">&#39;123&#39;</span> <span class="nf">asNumber</span><span class="p">.</span> <span class="c">&quot;result is the Integer 123&quot;</span>

<span class="o">|</span><span class="nv">number result</span><span class="o">|</span>
<span class="nv">number</span> <span class="o">:=</span> <span class="s">&#39;123&#39;</span> <span class="nf">asNumber</span><span class="p">.</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nv">number</span> <span class="nf">isInteger</span><span class="p">.</span>  <span class="c">&quot;result is true&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nv">number</span> <span class="nf">isRational</span><span class="p">.</span> <span class="c">&quot;result is true&quot;</span>
<span class="nv">number</span> <span class="o">:=</span> <span class="m">123</span> <span class="nf">/</span> <span class="m">456</span><span class="p">.</span> <span class="c">&quot;result is the Fraction 41/152&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nv">number</span> <span class="nf">isInteger</span><span class="p">.</span> <span class="c">&quot;result is false&quot;</span>
<span class="nv">result</span> <span class="o">:=</span> <span class="nv">number</span> <span class="nf">isRational</span><span class="p">.</span> <span class="c">&quot;result is true&quot;</span>

<span class="c">&quot;Other tests that all Number objects respond to are:</span>
<span class="c">&gt;&gt;isFinite</span>
<span class="c">&gt;&gt;isInfinite</span>
<span class="c">&gt;&gt;odd</span>
<span class="c">&gt;&gt;positive&quot;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN76"
>Comparing Floating-Point Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN79"
>Rounding Floating-Point Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN82"
>Converting Between Binary and Decimal</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN85"
>Operating on a Series of Integers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN88"
>Working with Roman Numerals</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN91"
>Generating Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN94"
>Generating Different Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN97"
>Making Numbers Even More Random</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN100"
>Generating Biased Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN103"
>Doing Trigonometry in Degrees, not Radians</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN106"
>Calculating More Trigonometric Functions</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN109"
>Taking Logarithms</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN112"
>Multiplying Matrices</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN115"
>Using Complex Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN118"
>Converting Between Octal and Hexadecimal</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN121"
>Putting Commas in Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN124"
>Printing Correct Plurals</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN127"
>Program: Calculating Prime Factors</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="strings.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Strings</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Dates and Times</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>