<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=latin1">
  <style type="text/css">
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }
body .hll { background-color: #ffffcc }
body  { background: #f8f8f8; }
body .c { color: #408080; font-style: italic } /* Comment */
body .err { border: 1px solid #FF0000 } /* Error */
body .k { color: #008000; font-weight: bold } /* Keyword */
body .o { color: #666666 } /* Operator */
body .cm { color: #408080; font-style: italic } /* Comment.Multiline */
body .cp { color: #BC7A00 } /* Comment.Preproc */
body .c1 { color: #408080; font-style: italic } /* Comment.Single */
body .cs { color: #408080; font-style: italic } /* Comment.Special */
body .gd { color: #A00000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #FF0000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #00A000 } /* Generic.Inserted */
body .go { color: #888888 } /* Generic.Output */
body .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #0044DD } /* Generic.Traceback */
body .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
body .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
body .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
body .kp { color: #008000 } /* Keyword.Pseudo */
body .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #B00040 } /* Keyword.Type */
body .m { color: #666666 } /* Literal.Number */
body .s { color: #BA2121 } /* Literal.String */
body .na { color: #7D9029 } /* Name.Attribute */
body .nb { color: #008000 } /* Name.Builtin */
body .nc { color: #0000FF; font-weight: bold } /* Name.Class */
body .no { color: #880000 } /* Name.Constant */
body .nd { color: #AA22FF } /* Name.Decorator */
body .ni { color: #999999; font-weight: bold } /* Name.Entity */
body .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
body .nf { color: #0000FF } /* Name.Function */
body .nl { color: #A0A000 } /* Name.Label */
body .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
body .nt { color: #008000; font-weight: bold } /* Name.Tag */
body .nv { color: #19177C } /* Name.Variable */
body .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mf { color: #666666 } /* Literal.Number.Float */
body .mh { color: #666666 } /* Literal.Number.Hex */
body .mi { color: #666666 } /* Literal.Number.Integer */
body .mo { color: #666666 } /* Literal.Number.Oct */
body .sb { color: #BA2121 } /* Literal.String.Backtick */
body .sc { color: #BA2121 } /* Literal.String.Char */
body .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #BA2121 } /* Literal.String.Double */
body .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #BA2121 } /* Literal.String.Heredoc */
body .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
body .sx { color: #008000 } /* Literal.String.Other */
body .sr { color: #BB6688 } /* Literal.String.Regex */
body .s1 { color: #BA2121 } /* Literal.String.Single */
body .ss { color: #19177C } /* Literal.String.Symbol */
body .bp { color: #008000 } /* Name.Builtin.Pseudo */
body .vc { color: #19177C } /* Name.Variable.Class */
body .vg { color: #19177C } /* Name.Variable.Global */
body .vi { color: #19177C } /* Name.Variable.Instance */
body .il { color: #666666 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<h2></h2>

<div class="highlight"><pre><span class="c1">-- -*- Ada -*-</span>

<span class="c1">-- @@PLEAC@@_NAME</span>
<span class="c1">-- @@SKIP@@ Ada</span>

<span class="c1">-- @@PLEAC@@_WEB</span>
<span class="c1">-- @@SKIP@@ http://www.adapower.com/</span>

<span class="c1">-- @@PLEAC@@_INTRO</span>
<span class="c1">-- @@SKIP@@ Ada requires data items to be declared in a declarative region at</span>
<span class="c1">-- @@SKIP@@ the beginning of a code block, before the &quot;begin&quot; reserved word.</span>
<span class="c1">-- @@SKIP@@ Many of the PLEAC subsections are implemented in their own unnamed</span>
<span class="c1">-- @@SKIP@@ code block to define local variables, functions, and procedures</span>
<span class="c1">-- @@SKIP@@ close to their usage, as would be done in Perl.</span>

<span class="c1">-- @@PLEAC@@_APPENDIX</span>
<span class="kn">with</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Integer_Text_IO</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Float_Text_Io</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Characters.Latin_1</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Characters.Latin_1</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Numerics.Discrete_Random</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Numerics.Float_Random</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Numerics.Generic_Complex_Types</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Text_IO.Editing</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Strings.Bounded</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Gnat.Regpat</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_1.0</span>
<span class="c1">----------------------------------------------------------------------------</span>
<span class="c1">---- Charater are enumeration values and use single quotes for delimiters</span>
<span class="c1">-- except for non-printing characters, which have their own labels</span>
<span class="n">c</span> <span class="p">:</span> <span class="kt">character</span> <span class="p">:=</span> <span class="n">LF</span><span class="p">;</span>
<span class="c1">-- a newline (line feed) character</span>
<span class="c1">----------------------------------------------------------------------------</span>
<span class="c1">---- Strings are fixed length arrays of characters with no NULL terminator</span>
<span class="n">s1</span> <span class="p">:</span> <span class="kt">string</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span> <span class="p">:=</span> <span class="p">(</span><span class="mi">1</span> <span class="p">=&gt;</span> <span class="n">LF</span><span class="p">);</span>   <span class="c1">-- A string containing only a line feed</span>
<span class="n">s2</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;Jon &quot;</span> <span class="o">&amp;</span> <span class="s-Character">&#39;&quot;&#39;</span> <span class="o">&amp;</span>
               <span class="s">&quot;Maddog&quot;</span> <span class="o">&amp;</span> <span class="s-Character">&#39;&quot;&#39;</span> <span class="o">&amp;</span> <span class="s">&quot;Orwant&quot;</span><span class="p">;</span> <span class="c1">-- a string containing double quotes</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Jon &#39;Maddog&#39; Orwant&quot;</span><span class="p">);</span> <span class="c1">-- a string containing single quotes</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">s</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;This is a multiline string declaration &quot;</span>
            <span class="o">&amp;</span> <span class="s">&quot;using the concatenation operator &quot;</span>
            <span class="o">&amp;</span> <span class="s">&quot;to append separate parts.&quot;</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_1.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- accessing substrings</span>
<span class="n">s1</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="n">start</span><span class="p">..</span><span class="n">ending</span><span class="p">);</span>
<span class="c1">-- &quot;end&quot; is a reserved word in Ada</span>
<span class="n">s2</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="n">start</span><span class="p">..</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span> <span class="c1">-- substrings accessed through array slices</span>
<span class="c1">-----------------------------------------------------------------------------</span>
<span class="c1">-- different string types</span>
<span class="c1">-- Bounded strings have a fixed maximum length and may vary in size up to the</span>
<span class="c1">-- maximum length.</span>
<span class="kd">package</span> <span class="nc">Bounded</span> <span class="kr">is new</span> <span class="nc">Ada.Strings.Bounded.Generic_Bounded_Length</span><span class="p">(</span>80<span class="p">);</span>
<span class="n">s</span> <span class="p">:</span> <span class="n">Bounded</span><span class="p">.</span><span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">Bounded</span><span class="p">.</span><span class="n">To_Bounded_String</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
<span class="c1">-- Unbounded strings have no maximum size and may vary in size and content</span>
<span class="kn">use</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span>
<span class="n">s</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- No pack/unpack equivalents exist in standard Ada libraries.</span>
<span class="c1">-- Examples here use a custom implementation to split an original string into</span>
<span class="c1">-- chunks of specified length.</span>

<span class="c1">-- TO BE DONE</span>

<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Aggregates repeating a basic pattern s :</span>
<span class="kt">string</span> <span class="p">:=</span> <span class="mi">5</span> <span class="o">*</span> <span class="s">&quot;Wow! &quot;</span><span class="p">;</span>
<span class="c1">-- result: &quot;Wow! Wow! Wow! Wow! Wow! &quot;</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">data</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;This is what you have&quot;</span><span class="p">;</span>
<span class="c1">-- forward        123456789012345678901</span>
<span class="c1">-- Any data element can be accessed directly through its index.</span>
<span class="c1">-- Substrings can be accessed directly through array slices.</span>
<span class="n">first</span> <span class="p">:</span> <span class="kt">character</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>                    <span class="c1">-- &#39;T&#39;</span>
<span class="n">start</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mf">6.</span><span class="p">.</span><span class="mi">7</span><span class="p">);</span>                    <span class="c1">-- &quot;is&quot;</span>
<span class="n">rest</span>  <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mf">14.</span><span class="p">.</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span>           <span class="c1">-- &quot;you have&quot;</span>
<span class="n">last</span>  <span class="p">:</span> <span class="kt">character</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span>            <span class="c1">-- &#39;e&#39;</span>
<span class="n">final</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span> <span class="o">-</span> <span class="mf">3.</span><span class="p">.</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span><span class="c1">-- &quot;have&quot;</span>
<span class="n">piece</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mf">14.</span><span class="p">.</span><span class="mi">16</span><span class="p">);</span>                  <span class="c1">-- &quot;you&quot;</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- String contents can be rearranged as long as the length of the string does</span>
<span class="c1">-- not change. If you want to change the length then use either Bounded or</span>
<span class="c1">-- Unbounded strings.</span>
<span class="n">data</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;This is what you have&quot;</span><span class="p">;</span>
<span class="n">data</span><span class="p">(</span><span class="mf">18.</span><span class="p">.</span><span class="mi">21</span><span class="p">)</span> <span class="p">:=</span> <span class="s">&quot;were&quot;</span><span class="p">;</span>  <span class="c1">-- &quot;This is what you were&quot;</span>
<span class="n">data</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">7</span><span class="p">)</span> <span class="p">:=</span> <span class="s">&quot;Is this&quot;</span><span class="p">;</span> <span class="c1">-- &quot;Is this what you were&quot;</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kn">use</span> <span class="nn">GNAT.Regpat</span><span class="p">;</span>

<span class="c1">-- roughly the same set of regular expressions as are available in Perl or</span>
<span class="c1">-- Python.</span>

<span class="n">Match_Position</span> <span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>

<span class="n">Match_Position</span> <span class="p">:=</span> <span class="n">Match</span><span class="p">(</span><span class="n">Compile</span><span class="p">(</span><span class="s">&quot;pattern&quot;</span><span class="p">),</span><span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">&#39;</span><span class="na">last</span> <span class="o">-</span> <span class="mf">9.</span><span class="p">.</span><span class="n">data</span><span class="p">&#39;</span><span class="na">last</span><span class="p">));</span>
<span class="kr">if</span> <span class="n">Match_Position</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="kr">then</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Pattern matches in last 10 characters&quot;</span><span class="p">);</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="c1">-- substitute &quot;at&quot; for &quot;is&quot;, restricted to the first five characters</span>
<span class="kr">declare</span>
   <span class="n">Matches</span> <span class="p">:</span> <span class="n">Match_Array</span><span class="p">(</span><span class="mf">0.</span><span class="p">.</span><span class="mi">4</span><span class="p">);</span>
   <span class="n">Regexp</span>  <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;is&quot;</span><span class="p">;</span>
   <span class="n">Data</span>    <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;This is what you have&quot;</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Match</span><span class="p">(</span><span class="n">Regexp</span><span class="p">,</span> <span class="n">Data</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span> <span class="n">Matches</span><span class="p">);</span>
   <span class="kr">if</span> <span class="n">Matches</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">First</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="kr">then</span>
      <span class="n">Data</span><span class="p">(</span><span class="n">Matches</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">First</span> <span class="p">..</span> <span class="n">Matches</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">Last</span><span class="p">)</span> <span class="p">:=</span> <span class="s">&quot;at&quot;</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-- exchange the first and last letters in a string</span>
<span class="n">data</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;make a hat&quot;</span><span class="p">;</span>
<span class="n">temp</span> <span class="p">:</span> <span class="kt">character</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span>
<span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">)</span> <span class="p">:=</span> <span class="n">temp</span><span class="p">;</span> <span class="c1">-- &quot;take a ham&quot;</span>
<span class="c1">-- extract a column with array slicing</span>
<span class="n">data</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;to be or not to be&quot;</span><span class="p">;</span>
<span class="n">a1</span>   <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mf">7.</span><span class="p">.</span><span class="mi">12</span><span class="p">);</span> <span class="c1">-- &quot;or not&quot;</span>
<span class="c1">-- forward 6, grab 2, backward 5, grab 2</span>
<span class="n">a2</span>   <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">data</span><span class="p">(</span><span class="mf">7.</span><span class="p">.</span><span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">data</span><span class="p">(</span><span class="mf">4.</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span> <span class="c1">-- &quot;orbe&quot;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_1.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- boolean values</span>
<span class="c1">-- use b if b is true, else use c</span>
<span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">:</span> <span class="kt">boolean</span><span class="p">;</span>
<span class="c1">-- [..]</span>
<span class="n">a</span> <span class="p">:</span> <span class="kt">boolean</span> <span class="p">:=</span> <span class="n">b</span> <span class="ow">or else</span> <span class="n">c</span><span class="p">;</span> <span class="c1">-- lazy evaluation</span>

<span class="c1">-- set x to y unless x is already true</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">:</span> <span class="kt">boolean</span><span class="p">;</span>
<span class="c1">-- [..]</span>
<span class="n">x</span> <span class="p">:=</span> <span class="n">x</span> <span class="ow">or else</span> <span class="n">y</span><span class="p">;</span> <span class="c1">-- Ada has no ternary operator</span>
<span class="c1">-------------------------------------</span>
<span class="c1">-- find the user name on Unix systems</span>
<span class="kn">with</span> <span class="nn">Gnat.Os_Lib</span><span class="p">;</span> <span class="c1">-- Gnat.Os_Lib is a Gnat extension</span>

<span class="n">username</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">Gnat</span><span class="p">.</span><span class="n">Os_Lib</span><span class="p">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">&quot;USER&quot;</span><span class="p">);</span>
<span class="n">logname</span>  <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="n">Gnat</span><span class="p">.</span><span class="n">Os_Lib</span><span class="p">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">&quot;LOGNAME&quot;</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_1.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada always requires temporary variables to swap values</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_1.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">num</span> <span class="p">:</span> <span class="kt">integer</span> <span class="p">:=</span> <span class="kt">character</span><span class="p">&#39;</span><span class="na">Pos</span><span class="p">(</span><span class="n">char</span><span class="p">);</span>
<span class="n">char</span> <span class="p">:</span> <span class="kt">character</span> <span class="p">:=</span> <span class="kt">character</span><span class="p">&#39;</span><span class="na">Val</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_1.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">s</span> <span class="p">:</span> <span class="kt">string</span> <span class="p">:=</span> <span class="s">&quot;Some value&quot;</span><span class="p">;</span> <span class="n">c</span> <span class="p">:</span> <span class="kt">character</span><span class="p">;</span>
<span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">S</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
   <span class="n">c</span> <span class="p">:=</span> <span class="n">s</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_2.0</span>
<span class="kd">procedure</span> <span class="nf">Pleac_Numbers</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Small_Int</span> <span class="kr">is</span> <span class="kr">range</span> <span class="o">-</span><span class="mf">10.</span><span class="p">.</span><span class="mi">10</span><span class="p">;</span>
   <span class="n">Numeric_String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">80</span><span class="p">)</span> <span class="p">:=</span> <span class="p">(</span><span class="mi">1</span><span class="p">=&gt;</span> <span class="p">&#39;</span><span class="na">6</span><span class="p">&#39;,</span> <span class="kr">Others</span> <span class="p">=&gt;</span> <span class="s-Character">&#39; &#39;</span><span class="p">);</span>
<span class="c1">-- Ada defaults to fixed length strings.</span>
   <span class="n">Int</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
   <span class="n">Flt</span> <span class="p">:</span> <span class="kt">Float</span><span class="p">;</span>
   <span class="n">Small</span> <span class="p">:</span> <span class="n">Small_Int</span><span class="p">;</span>


<span class="c1">-- @@PLEAC@@_2.1</span>
   <span class="kr">begin</span>
      <span class="n">Int</span> <span class="p">:=</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not an Integer&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="n">Flt</span> <span class="p">:=</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not a float&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>

<span class="c1">-- Ada also allows you to define your own numeric types and check</span>
<span class="c1">-- for valid conversion from a string, including out of range</span>
<span class="c1">-- errors</span>
   <span class="kr">begin</span>
      <span class="n">Small</span> <span class="p">:=</span> <span class="n">Small_Int</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not a Small_Int&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.2</span>
<span class="kd">function</span> <span class="nf">equal</span><span class="p">(</span><span class="nv">Num1</span><span class="p">,</span> <span class="nv">Num2</span> <span class="p">: </span><span class="nv">Float</span><span class="p">;</span> <span class="nv">Accuracy</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Boolean</span> <span class="kr">is</span>
   <span class="n">My_Delta</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">10.0</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">Accuracy</span><span class="p">);</span>
   <span class="n">Diff</span>     <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="kr">abs</span> <span class="p">(</span><span class="n">Num1</span> <span class="o">-</span> <span class="n">Num2</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="kr">return</span> <span class="n">Diff</span> <span class="o">&lt;</span> <span class="n">My_Delta</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">equal</span><span class="p">;</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="c1">-- Ada offers another form of Real numbers : Fixed point types</span>
<span class="c1">-- You specify the fixed precision of the type in the &quot;delta&quot;</span>
<span class="c1">-- parameter for the type</span>
<span class="c1">-- The following type will have a clearly specified range:</span>
<span class="c1">-- -999_999_999.999 to 999_999_999.999</span>

<span class="kd">type</span> <span class="kt">Real</span> <span class="kr">is</span> <span class="kr">delta</span> <span class="mf">0.001</span> <span class="kr">digits</span> <span class="mi">12</span><span class="p">;</span>

<span class="n">R1</span><span class="p">,</span> <span class="n">R2</span> <span class="p">:</span> <span class="n">Real</span><span class="p">;</span>
<span class="c1">-- [...]</span>
<span class="kr">if</span> <span class="n">R1</span> <span class="o">=</span> <span class="n">R2</span> <span class="kr">then</span>
   <span class="n">Ada</span><span class="p">.</span><span class="n">Text_Io</span><span class="p">.</span><span class="n">Put_Line</span> <span class="p">(</span><span class="n">Real</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">R1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; equals&quot;</span>
                       <span class="o">&amp;</span> <span class="n">Real</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">R2</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>

<span class="n">wage</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">5.36</span><span class="p">;</span>
<span class="n">week</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">40.0</span> <span class="o">*</span> <span class="n">wage</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;One week&#39;s wage is: $&quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">week</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.3</span>
<span class="kr">declare</span>
   <span class="n">a</span> <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">0.255</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Unrounded: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Rounded: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">------</span>

<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">vals</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">4</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">float</span><span class="p">;</span>
   <span class="n">a</span> <span class="p">:</span> <span class="n">vals</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.3</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="kr">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">&#39;</span><span class="na">range</span> <span class="kr">loop</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Truncation</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Floor</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span><span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Ceiling</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span><span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">New_Line</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">------------</span>

<span class="c1">-- @@PLEAC@@_2.4</span>
<span class="c1">-- Ada uses the notation Base#value# for a non-decimal value</span>
<span class="c1">-- Thus, a binary number is defined as 2#0011_0110#.</span>
<span class="c1">-- The underscores are optional, for readability only.</span>

<span class="kr">declare</span>
   <span class="n">num</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">2</span><span class="err">#</span><span class="mi">0011_0110</span><span class="err">#</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Decimal: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Binary: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.5</span>
<span class="kr">declare</span>
   <span class="n">x</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">5</span><span class="p">;</span>
   <span class="n">y</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">..</span><span class="n">y</span> <span class="kr">loop</span>
   <span class="c1">-- i is set to every Integer from x to y, inclusive</span>
      <span class="kc">null</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="kr">declare</span>
   <span class="n">x</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">5</span><span class="p">;</span>
   <span class="n">y</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">12</span><span class="p">;</span>
   <span class="n">num</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">x</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">loop</span>
   <span class="c1">-- operate on num</span>
      <span class="n">num</span> <span class="p">:=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">-- step size = 7</span>
      <span class="kr">exit</span> <span class="kr">when</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="n">Put</span><span class="p">(</span><span class="s">&quot;Childhood is: &quot;</span><span class="p">);</span>
<span class="kr">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="mf">5.</span><span class="p">.</span><span class="mi">12</span> <span class="kr">loop</span>
   <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">num</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="n">New_Line</span><span class="p">;</span>
<span class="c1">---------------</span>

<span class="c1">-- @@PLEAC@@_2.6</span>
<span class="c1">---------------</span>
<span class="c1">-- No standard roman numeral package available</span>
<span class="c1">---------------</span>

<span class="c1">-- @@PLEAC@@_2.7</span>
<span class="c1">-- Generating random discrete values</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Rand_Range</span> <span class="kr">is</span> <span class="kr">range</span> <span class="mf">25.</span><span class="p">.</span><span class="mi">75</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">Rand_Int</span> <span class="kr">is new</span> <span class="nc">Ada.Numerics.Discrete_Random</span><span class="p">(</span>Rand_Range<span class="p">);</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Rand_Int</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
   <span class="n">Num</span> <span class="p">:</span> <span class="n">Rand_Range</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Rand_Int</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Num</span> <span class="p">:=</span> <span class="n">Rand_Int</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="n">Rand_Range</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-- Generating a random 8 character password</span>
<span class="kr">declare</span>
   <span class="kd">subtype</span> <span class="kt">alphas</span> <span class="kr">is</span> <span class="kt">Character</span> <span class="kr">range</span> <span class="p">&#39;</span><span class="na">A</span><span class="p">&#39;..&#39;</span><span class="na">z</span><span class="p">&#39;;</span>
   <span class="kd">package</span> <span class="nc">Rand_Alpha</span> <span class="kr">is new</span> <span class="nc">Ada.Numerics.Discrete_Random</span><span class="p">(</span>alphas<span class="p">);</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Rand_Alpha</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
   <span class="n">Password</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">8</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Rand_Alpha</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Password</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
      <span class="n">Password</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Rand_Alpha</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Random Password: &quot;</span> <span class="o">&amp;</span> <span class="n">Password</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- Generating Random Floating Point Numbers</span>
<span class="kr">declare</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Random Float: &quot;</span> <span class="o">&amp;</span>
         <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">--------</span>

<span class="c1">-- @@PLEAC@@_2.8</span>
<span class="c1">------------</span>
<span class="c1">-- Ada random number generators are required to yield a period of</span>
<span class="c1">-- at least (2^31)-2 or greater.</span>
<span class="c1">--------</span>

<span class="c1">-- @@PLEAC@@_2.9</span>
<span class="c1">------------</span>
<span class="c1">-- Ada does not provide a standard biased random number package</span>
<span class="c1">------------</span>

<span class="c1">-- @@PLEAC@@_2.10</span>
<span class="c1">------------</span>
<span class="c1">-- Using the Cycle parameter of the Elementary Functions to define</span>
<span class="c1">-- a cycle of 0.0..359.99</span>
<span class="kr">declare</span>
   <span class="kn">use</span> <span class="nn">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
   <span class="n">angle</span>   <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">45.0</span><span class="p">;</span>
   <span class="no">degrees</span> <span class="p">:</span> <span class="kr">constant</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">360.0</span><span class="p">;</span>
   <span class="n">degreeSine</span> <span class="p">:</span> <span class="kt">float</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">DegreeSine</span> <span class="p">:=</span> <span class="n">sin</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="n">angle</span><span class="p">,</span> <span class="n">Cycle</span> <span class="p">=&gt;</span> <span class="n">degrees</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Sine of &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">&amp;</span>
            <span class="s">&quot; degrees is &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">degreeSine</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.11</span>
<span class="kr">declare</span>
   <span class="n">y</span><span class="p">:</span> <span class="kt">float</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">Elm</span> <span class="kr">renames</span> <span class="nc">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">y</span> <span class="p">:=</span> <span class="n">Elm</span><span class="p">.</span><span class="n">Arccos</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="mf">0.7</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;arccos(0.7) = &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.12</span>
<span class="c1">-- The Ada.Numerics.Elementary_Functions.Log function returns</span>
<span class="c1">-- a natural logarithm when no base is specified, and a log to</span>
<span class="c1">-- the specified base when a base is specified.</span>
<span class="kr">declare</span>
   <span class="kn">use</span> <span class="nn">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
   <span class="n">answer</span> <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="n">log</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="mf">10000.0</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mf">10.0</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Log10(10000) = &quot;</span> <span class="o">&amp;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">answer</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.13</span>
<span class="c1">-- Compute the multiplication of two given matrices.</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Data</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;,</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="kt">Integer</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Matrix</span><span class="p">(</span><span class="nv">Rows</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">;</span> <span class="nv">Cols</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">)</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Mat</span> <span class="p">:</span> <span class="n">Data</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">Rows</span><span class="p">,</span><span class="mf">1.</span><span class="p">.</span><span class="n">Cols</span><span class="p">);</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="n">Matrix_Mismatch</span> <span class="p">:</span> <span class="kr">exception</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">Mat_Mult</span><span class="p">(</span><span class="nv">Matrix1</span> <span class="p">: </span><span class="nv">Matrix</span><span class="p">;</span>
                     <span class="nv">Matrix2</span> <span class="p">: </span><span class="nv">Matrix</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Matrix</span> <span class="kr">is</span>
      <span class="n">result</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span><span class="p">,</span> <span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span><span class="p">);</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span> <span class="o">/=</span> <span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">then</span>
         <span class="kr">raise</span> <span class="n">Matrix_Mismatch</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span> <span class="kr">loop</span>
         <span class="kr">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">loop</span>
            <span class="kr">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">loop</span>
               <span class="n">result</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="p">:=</span> <span class="n">result</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">+</span> <span class="p">(</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span>
                         <span class="n">Matrix2</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">));</span>
            <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
         <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">return</span> <span class="n">result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Mat_Mult</span><span class="p">;</span>

   <span class="n">Mat1</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
   <span class="n">Mat2</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">Mat3</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Mat1</span><span class="p">.</span><span class="n">Mat</span> <span class="p">:=</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">));</span>
   <span class="n">Mat2</span><span class="p">.</span><span class="n">Mat</span> <span class="p">:=</span> <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
   <span class="n">Mat3</span> <span class="p">:=</span> <span class="n">Mat_Mult</span><span class="p">(</span><span class="n">Mat1</span><span class="p">,</span> <span class="n">Mat2</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.14</span>
<span class="kr">declare</span>
   <span class="kd">package</span> <span class="nc">Cmplx_Flt</span> <span class="kr">is new</span>
        <span class="nc">Ada.Numerics.Generic_Complex_Types</span><span class="p">(</span>float<span class="p">);</span>
   <span class="kn">use</span> <span class="nn">Cmplx_Flt</span><span class="p">;</span>
   <span class="n">a</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">);</span>
   <span class="n">b</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">);</span>
   <span class="n">c</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">c</span> <span class="p">:=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.15</span>
<span class="c1">-- Ada allows representation of any base from 2 through 16 on output</span>
<span class="c1">-- all Integers are stored internally as binary.</span>
<span class="kr">declare</span>
   <span class="n">Num</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Gimme a number in decimal, octal, or hex:&quot;</span><span class="p">);</span>
   <span class="n">Get</span><span class="p">(</span><span class="n">Num</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Decimal value: &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Octal Value: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">8</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Hexadecimal Value: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">16</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="c1">------</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Enter a file permission in octal: &quot;</span><span class="p">);</span>
   <span class="n">Get</span><span class="p">(</span><span class="n">Num</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Decimal Value:&quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.16</span>
<span class="c1">-- The Text Editing routines in Ada work for fixed decimal types</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Large_Type</span> <span class="kr">is</span> <span class="kr">delta</span> <span class="mf">0.01</span> <span class="kr">digits</span> <span class="mi">10</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">with_Commas</span> <span class="kr">is new</span>
            <span class="nc">Ada.Text_Io.Editing.Decimal_Output</span><span class="p">(</span>Large_Type<span class="p">);</span>
   <span class="kn">use</span> <span class="nn">with_Commas</span><span class="p">;</span>
   <span class="kn">use</span> <span class="nn">Ada.Text_IO.Editing</span><span class="p">;</span>

   <span class="n">Val</span> <span class="p">:</span> <span class="n">Large_Type</span> <span class="p">:=</span> <span class="mf">12345678.90</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">put</span><span class="p">(</span><span class="n">Val</span><span class="p">,</span> <span class="n">To_Picture</span><span class="p">(</span><span class="s">&quot;ZZ_ZZZ_ZZ9.99&quot;</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">----------------</span>

<span class="c1">-- @@PLEAC@@_2.17</span>
<span class="c1">-----------------</span>
<span class="c1">-- There are no standard Ada regular expression packages,</span>
<span class="c1">-- however, then GNAT compiler does provide some regular expression</span>
<span class="c1">-- packages as extensions.</span>

<span class="kr">end</span> <span class="nf">Pleac_Numbers</span><span class="p">;</span>

<span class="c1">-- @@PLEAC@@_2.18</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">------- Program Calculating Prime Factors</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">-----with Ada.Text_Io; use Ada.Text_IO;</span>

<span class="kn">with</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">Prime_Factors</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Found_List</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Factor_List</span> <span class="p">(</span><span class="nv">Max_Size</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">)</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Factors</span> <span class="p">:</span> <span class="n">Found_List</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">Max_Size</span><span class="p">)</span> <span class="p">:=</span> <span class="p">(</span><span class="kr">Others</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Num_Found</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">getFactors</span><span class="p">(</span><span class="nv">n</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Factor_List</span> <span class="kr">is</span>
   <span class="n">orig</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">n</span><span class="p">;</span>
   <span class="n">new_n</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">n</span><span class="p">;</span>
   <span class="n">Temp</span> <span class="p">:</span> <span class="n">Factor_List</span><span class="p">(</span><span class="n">Max_Size</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">sqi</span>  <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">4</span><span class="p">;</span>
   <span class="n">i</span>    <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">while</span> <span class="n">sqi</span> <span class="o">&lt;=</span> <span class="n">new_n</span> <span class="kr">loop</span>
     <span class="kr">while</span> <span class="p">(</span><span class="n">new_n</span> <span class="ow">mod</span> <span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">loop</span>
        <span class="n">new_n</span> <span class="p">:=</span> <span class="n">new_n</span> <span class="o">/</span> <span class="n">i</span><span class="p">;</span>
        <span class="kr">if</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">then</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kr">else</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">sqi</span> <span class="p">:=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span>
      <span class="n">i</span> <span class="p">:=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="kr">if</span> <span class="p">(</span><span class="n">new_n</span> <span class="o">/=</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">new_n</span> <span class="o">/=</span> <span class="n">orig</span><span class="p">)</span> <span class="kr">then</span>
      <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">new_n</span><span class="p">)</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">return</span> <span class="n">Temp</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">getFactors</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">Display_Factors</span><span class="p">(</span><span class="nv">Num</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Factor_List</span><span class="p">)</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;: &quot;</span><span class="p">);</span>
   <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">then</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;PRIME&quot;</span><span class="p">);</span>
   <span class="kr">else</span>
      <span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
         <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">/=</span> <span class="mi">0</span> <span class="kr">then</span>
            <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">index</span><span class="p">,</span> <span class="n">width</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
            <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="kr">then</span>
               <span class="n">Put</span><span class="p">(</span><span class="s">&quot;^&quot;</span><span class="p">);</span>
               <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">width</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
            <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
            <span class="n">Ada</span><span class="p">.</span><span class="n">Text_Io</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
         <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">New_Line</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Display_Factors</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="kr">if</span> <span class="n">Argument_Count</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="kr">then</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Usage: &quot;</span> <span class="o">&amp;</span> <span class="n">Command_Name</span> <span class="o">&amp;</span> <span class="s">&quot; number...&quot;</span><span class="p">);</span>
      <span class="kr">return</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Argument_Count</span> <span class="kr">loop</span>
     <span class="n">Display_Factors</span><span class="p">(</span><span class="kt">Positive</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Argument</span><span class="p">(</span><span class="n">arg</span><span class="p">)),</span>
                     <span class="n">getFactors</span><span class="p">(</span><span class="kt">Positive</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Argument</span><span class="p">(</span><span class="n">arg</span><span class="p">))));</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Prime_Factors</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- All standard Ada date / time subprograms are defined in the packages</span>
<span class="c1">-- Ada.Calendar and Ada.Real_Time</span>
<span class="c1">--</span>
<span class="c1">-- Time values can be split into a Year number, a Month number, a Day</span>
<span class="c1">-- (of the month) number, and a Seconds number.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">Now</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Now</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- A parameter-less function returning the current time value.</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;The current date is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Month</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">The</span> <span class="n">current</span> <span class="n">date</span> <span class="kr">is</span> <span class="mi">2002</span>  <span class="mi">2</span> <span class="mi">25</span>
<span class="c1">------------------------------</span>
<span class="n">Now</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">This_Year</span>  <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">This_Month</span> <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">This_Day</span>   <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">This_Seconds</span> <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>

<span class="n">Split</span><span class="p">(</span><span class="n">Date</span> <span class="p">=&gt;</span> <span class="n">Now</span><span class="p">,</span> <span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span>
      <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">This_Seconds</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;The current date is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">The</span> <span class="n">current</span> <span class="n">date</span> <span class="kr">is</span> <span class="mi">2002</span>  <span class="mi">2</span> <span class="mi">25</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada does not directly deal with minutes. Minutes are contained in the</span>
<span class="c1">-- Seconds value, which is the number of seconds into the day for the current</span>
<span class="c1">-- time. Seconds is a value from 0.0 through 86400.0</span>
<span class="n">This_Year</span>    <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">This_Month</span>   <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">This_Day</span>     <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">This_Seconds</span> <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>
<span class="n">The_Time</span>     <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span>
                    <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">This_Seconds</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Year_Number is an integer from 1901 through 2099</span>
<span class="c1">-- Month_Number is an integer from 1 through 12</span>
<span class="c1">-- Day_Number is an integer from 1 through 31</span>
<span class="c1">-- Day_Duration is a Fixed Point type from 0.0 through 86400.0</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">The_Time</span>     <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">The_Year</span>     <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">The_Month</span>    <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">The_Day</span>      <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">The_Seconds</span>  <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>
<span class="n">The_Minutes</span>  <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="n">The_Hour</span>     <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="n">Seconds</span>      <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="n">Split</span><span class="p">(</span><span class="n">Date</span> <span class="p">=&gt;</span> <span class="n">The_Time</span><span class="p">,</span> <span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span>
      <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">The_Seconds</span><span class="p">);</span>
<span class="n">The_Hour</span> <span class="p">:=</span> <span class="n">The_Seconds</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">;</span>
<span class="n">The_Minutes</span> <span class="p">:=</span> <span class="p">(</span><span class="n">The_Seconds</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3600</span> <span class="o">*</span> <span class="n">The_Hour</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
<span class="n">Seconds</span> <span class="p">:=</span> <span class="n">The_Seconds</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Time addition involves adding a Duration to a Time.</span>
<span class="c1">-- A Duration is a total number of seconds.</span>
<span class="n">Birthtime</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">Interval</span>  <span class="p">:</span> <span class="kt">Duration</span><span class="p">;</span>
<span class="kr">Then</span>      <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Birthtime</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="mi">1973</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Day</span> <span class="p">=&gt;</span> <span class="mi">18</span><span class="p">,</span>
             <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="mf">3.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">)</span> <span class="o">+</span>  <span class="c1">-- 3:45:50</span>
                         <span class="p">(</span><span class="mf">45.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">50.0</span><span class="p">));</span>
<span class="n">Interval</span> <span class="p">:=</span> <span class="mf">5.0</span> <span class="o">+</span>               <span class="c1">-- 5 seconds</span>
            <span class="p">(</span><span class="mf">17.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span>     <span class="c1">-- 17 minutes</span>
            <span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">)</span> <span class="o">+</span>    <span class="c1">-- 2 hours</span>
            <span class="p">(</span><span class="mf">55.0</span> <span class="o">*</span> <span class="mf">86400.0</span><span class="p">);</span>   <span class="c1">-- 55 days</span>
<span class="kr">Then</span> <span class="p">:=</span> <span class="n">Birthtime</span> <span class="o">+</span> <span class="n">Interval</span><span class="p">;</span> <span class="c1">--</span>
<span class="c1">-- or</span>
<span class="kr">Then</span> <span class="p">:=</span> <span class="n">Interval</span> <span class="o">+</span> <span class="n">Birthtime</span><span class="p">;</span>

<span class="n">Put</span><span class="p">(</span><span class="s">&quot;Then is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Month</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">5</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">New_Line</span><span class="p">;</span>

<span class="kr">Then</span> <span class="kr">is</span> <span class="mi">3</span> <span class="mi">14</span> <span class="mi">1973</span>  <span class="mi">6</span><span class="p">:</span> <span class="mi">2</span><span class="p">:</span><span class="mi">55</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">Seconds</span> <span class="p">:</span> <span class="kt">Duration</span><span class="p">;</span>
<span class="n">Recent</span>  <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">Earlier</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Seconds</span> <span class="p">:=</span> <span class="n">Recent</span> <span class="o">-</span> <span class="n">Earlier</span><span class="p">;</span>

<span class="n">Earlier</span> <span class="p">:=</span> <span class="n">Recent</span> <span class="o">-</span> <span class="n">Seconds</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.6</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no standard subprogram for calculation of week number, day of</span>
<span class="c1">-- week, Julian Date, or Month name.</span>
<span class="c1">-- Those calculations can be performed, with month names localized to the</span>
<span class="c1">-- current locale, by simple user defined functions.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.7</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">date</span> <span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">&quot;1998-06-03&quot;</span><span class="p">;</span> <span class="c1">-- YYYY-MM-DD format</span>
<span class="n">The_Year</span> <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">The_Month</span> <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">The_Day</span> <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">Index</span> <span class="p">:</span> <span class="kt">Positive</span><span class="p">;</span>

<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span> <span class="c1">-- Get YYYY as an integer</span>
<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">(</span><span class="n">Index</span> <span class="o">+</span> <span class="mf">2.</span><span class="p">.</span><span class="n">date</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">),</span>  <span class="c1">-- Get MM skipping first &quot;-&quot;</span>
    <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span>
<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">(</span><span class="n">Index</span> <span class="o">+</span> <span class="mf">2.</span><span class="p">.</span><span class="n">date</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">),</span>  <span class="c1">-- Get DD skipping second &quot;-&quot;</span>
    <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span>
<span class="c1">-- Calculate the time value at midnight of that date</span>
<span class="n">The_Time</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span>
                    <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="mf">0.0</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.8</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">function</span> <span class="nf">Month_Name</span><span class="p">(</span><span class="nv">Month</span> <span class="p">: </span><span class="nv">Month_Number</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Months</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">JAN</span><span class="p">,</span> <span class="nv">FEB</span><span class="p">,</span> <span class="nv">MAR</span><span class="p">,</span> <span class="nv">APR</span><span class="p">,</span> <span class="nv">MAY</span><span class="p">,</span> <span class="nv">JUN</span><span class="p">,</span> <span class="nv">JUL</span><span class="p">,</span> <span class="nv">AUG</span><span class="p">,</span> <span class="nv">SEP</span><span class="p">,</span> <span class="nv">OCT</span><span class="p">,</span>
                        <span class="nv">NOV</span><span class="p">,</span> <span class="nv">DEC</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="c1">-- convert month number to enumeration value then convert enumeration</span>
   <span class="c1">-- value to a string</span>
   <span class="kr">return</span> <span class="n">Months</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Months</span><span class="p">&#39;</span><span class="na">Val</span><span class="p">(</span><span class="n">Month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
<span class="kr">end</span> <span class="nf">Month_Name</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">SEP</span> <span class="mi">21</span> <span class="mi">15</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">36</span> <span class="mi">1997</span>
<span class="c1">-------------------------------</span>
<span class="n">The_Time</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="mi">1997</span><span class="p">,</span>
                    <span class="n">Month</span> <span class="p">=&gt;</span> <span class="mi">9</span><span class="p">,</span>
                    <span class="n">Day</span>   <span class="p">=&gt;</span> <span class="mi">21</span><span class="p">,</span>
                    <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="mf">36.0</span> <span class="o">+</span>
                               <span class="p">(</span><span class="mf">33.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span>
                               <span class="p">(</span><span class="mf">15.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">));</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Month_Name</span><span class="p">(</span><span class="n">Month</span><span class="p">(</span><span class="n">The_Time</span><span class="p">))</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="n">The_Time</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="n">The_Time</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">5</span><span class="p">);</span>
<span class="n">New_Line</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.9</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- High resolution time is provided by the Ada.Real_Time package.</span>
<span class="c1">-- High resolution time values shall be sufficient to uniquely represent the</span>
<span class="c1">-- range of real times from program start up to 50 years later.</span>
<span class="c1">-- Tick (the avearage time interval during which the clock value remains constant)</span>
<span class="c1">-- shall be no greater than 1 millisecond. Time_Unit (the smallest amount of real</span>
<span class="c1">-- time representable by the time type) shall be less than or equal to 20</span>
<span class="c1">-- microseconds.</span>

<span class="kn">with</span> <span class="nn">Ada.Real_Time</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Real_Time</span><span class="p">;</span>

<span class="n">t0</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">t1</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">t0</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- Get initial time stamp;</span>
<span class="c1">-- Perform some operation</span>
<span class="n">t1</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- Get ending time stamp;</span>

<span class="n">elapsed</span> <span class="p">:</span> <span class="n">Time_Span</span><span class="p">;</span>

<span class="n">elapsed</span> <span class="p">:=</span> <span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">;</span> <span class="c1">-- Time in seconds i.e 0.0015</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.10</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- sleeps are achieved in Ada using the &quot;delay&quot; statement.</span>
<span class="c1">-- The parameter to the delay command is a Duration expressing a number of</span>
<span class="c1">-- seconds.</span>

<span class="kr">delay</span> <span class="mf">0.0025</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_3.11</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- To Be Done</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Normal textual input and output is accomplished using the pacakge</span>
<span class="c1">-- Ada.Text_IO. The following I/O routines are taken from that package</span>

<span class="n">file</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">file</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="s">&quot;/usr/local/widgets/data&quot;</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">In_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">file</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>
<span class="n">length</span> <span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>
<span class="n">line</span>   <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">1024</span><span class="p">);</span> <span class="c1">-- some string large enough to hold any line in</span>
                          <span class="c1">-- the file</span>
<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">file</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="s">&quot;/usr/local/widgets/data&quot;</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">In_File</span><span class="p">);</span>
   <span class="kr">while</span> <span class="ow">not</span> <span class="n">End_Of_File</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="kr">loop</span>
      <span class="n">Get_Line</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">line</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">length</span><span class="p">);</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">line</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">length</span><span class="p">));</span> <span class="c1">-- writes to stdout</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="n">Close</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>  <span class="c1">-- writes to stderr</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">num</span> <span class="p">:</span> <span class="kt">float</span><span class="p">;</span>

<span class="kr">while</span> <span class="ow">not</span> <span class="n">End_Of_File</span> <span class="kr">loop</span>
   <span class="kr">begin</span>
      <span class="n">Get</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">);</span> <span class="c1">-- read a float from stdin</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">num</span><span class="p">));</span> <span class="c1">-- write to stdout</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Data_Error</span> <span class="o">=</span><span class="p">.</span>
         <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="c1">-- write to stderr</span>
             <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File contains non-numeric data&quot;</span><span class="p">);</span>
         <span class="n">Skip_Line</span><span class="p">;</span> <span class="c1">-- skip the rest of the current input line</span>
   <span class="kr">end</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">logfile</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">logfile</span><span class="p">,</span>
        <span class="n">Name</span> <span class="p">=&gt;</span> <span class="s">&quot;/tmp/log&quot;</span><span class="p">,</span>
        <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">Out_File</span><span class="p">);</span>  <span class="c1">-- open for output</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>  <span class="c1">-- writes to stderr</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">oldfile</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="n">oldfile</span> <span class="p">:=</span> <span class="n">Current_Output</span><span class="p">;</span> <span class="c1">-- save old file handle</span>
<span class="n">Set_Output</span><span class="p">(</span><span class="n">logfile</span><span class="p">);</span> <span class="c1">-- switch standard output</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Countdown initiated ...&quot;</span><span class="p">);</span>
<span class="n">Set_Output</span><span class="p">(</span><span class="n">oldfile</span><span class="p">);</span> <span class="c1">-- return to original output</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;You have 30 seconds to reach maximum safety distance.&quot;</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">--@@PLEAC@@_7.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">source</span> <span class="p">:</span> <span class="kt">file_type</span><span class="p">;</span>
<span class="n">sink</span>   <span class="p">:</span> <span class="kt">file_type</span><span class="p">;</span>

<span class="c1">-- open file for reading</span>
<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">source</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">In_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- open file for writing</span>
<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">sink</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">Out_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- Open file for writing, creating a new file</span>
<span class="kr">begin</span>
   <span class="n">Create</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">sink</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- You must instantiate the package Ada.Direct_Io to perform both input</span>
<span class="c1">-- and output on a file.</span>
<span class="kd">package</span> <span class="nc">dir_text</span> <span class="kr">is new</span> <span class="nc">Ada.Direct_Io</span><span class="p">(</span>Character<span class="p">);</span>
<span class="kn">use</span> <span class="nn">dir_text</span><span class="p">;</span>

<span class="n">direct</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">direct</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">InOut_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">sink</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">sink</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">Append_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada does not provide any rules about file names. Unusual file names are</span>
<span class="c1">-- opened the same as common file names.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no facilities for expanding tildes in file names.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- (The Ada equivalent)</span>
<span class="n">sink</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">sink</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">path</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">Append_File</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File &quot;</span> <span class="o">&amp;</span> <span class="n">path</span> <span class="s">&quot; not found.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File &quot;</span> <span class="o">&amp;</span> <span class="n">path</span> <span class="o">&amp;</span> <span class="s">&quot; already open.&quot;</span><span class="p">);</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open file &quot;</span> <span class="o">&amp;</span> <span class="n">path</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Passing in a null string for the file name creates a temporary file</span>

<span class="kr">begin</span>
   <span class="n">Create</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">sink</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
          <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.6</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Not allowed in Ada.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.7</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">line</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">256</span><span class="p">);</span>
<span class="n">length</span> <span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>

<span class="kr">while</span> <span class="ow">not</span> <span class="n">End_Of_File</span> <span class="kr">loop</span>
   <span class="n">Get_Line</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">line</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">length</span><span class="p">);</span>
   <span class="c1">-- ...  -- do something with the input line</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- The GNAT extension package Gnat.Command_Line provides some high level</span>
<span class="c1">-- command line parsing capabilities.</span>
<span class="c1">-- Simple command line parsing is provided by the standard package</span>
<span class="c1">-- Ada.Command_Line.</span>

<span class="n">source</span> <span class="p">:</span> <span class="kt">File_Type</span><span class="p">;</span>
<span class="kr">for</span> <span class="n">argnum</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Argument_Count</span> <span class="kr">loop</span>
   <span class="kr">begin</span>
      <span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Source</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">Argument</span><span class="p">(</span><span class="n">argnum</span><span class="p">),</span>
           <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">In_File</span><span class="p">);</span>
      <span class="kr">while</span> <span class="ow">not</span> <span class="n">End_Of_File</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="kr">loop</span>
         <span class="c1">-- process the file from the command line</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Name_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File name not found.&quot;</span><span class="p">);</span>
      <span class="kr">when</span> <span class="n">Status_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;File already open.&quot;</span><span class="p">);</span>
      <span class="kr">when</span> <span class="n">Use_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Standard_Error</span><span class="p">,</span>
             <span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot;You do not have permission to open the file&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- arg demo 1: Process optional -c flag</span>
<span class="kr">loop</span>
   <span class="kr">case</span> <span class="n">GetOpt</span><span class="p">(</span><span class="s">&quot;-c&quot;</span><span class="p">)</span> <span class="kr">is</span>
      <span class="kr">when</span> <span class="n">ASCII</span><span class="p">.</span><span class="n">NUL</span> <span class="p">=&gt;</span>
         <span class="kr">exit</span><span class="p">;</span> <span class="c1">-- exit loop</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">c</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- set whatever internal flag corresponds to the &quot;-c&quot; option</span>
      <span class="kr">when</span> <span class="kr">Others</span> <span class="p">=&gt;</span>
         <span class="kr">raise</span> <span class="n">Program_Error</span><span class="p">;</span> <span class="c1">-- cannot occur!</span>
   <span class="kr">end</span> <span class="kr">case</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- arg demo 2: Process optional -NUMBER flag</span>
<span class="kr">loop</span>
   <span class="kr">case</span> <span class="n">GetOpt</span><span class="p">(</span><span class="s">&quot;1 2 3 4 5 6 7 8 9&quot;</span><span class="p">)</span> <span class="kr">is</span>
      <span class="kr">when</span> <span class="n">ASCII</span><span class="p">.</span><span class="n">NUL</span> <span class="p">=&gt;</span>
         <span class="kr">exit</span><span class="p">;</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">1</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 1</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">2</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 2</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">3</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 3</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">4</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 4</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">5</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 5</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">6</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 6</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">7</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 7</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">8</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 8</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">9</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="c1">-- process 9</span>
      <span class="kr">when</span> <span class="kr">Others</span> <span class="p">=&gt;</span>
         <span class="kr">raise</span> <span class="n">Program_Error</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">case</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- arg demo 3: Process clustering -a, -i, -n, or -u flags</span>

<span class="kr">loop</span>
   <span class="kr">case</span> <span class="n">Get_Opt</span><span class="p">(</span><span class="s">&quot;a i n u&quot;</span><span class="p">)</span> <span class="kr">is</span>
      <span class="kr">when</span> <span class="n">ASCII</span><span class="p">.</span><span class="n">NUL</span> <span class="p">=&gt;</span>
         <span class="kr">exit</span><span class="p">;</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">a</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="n">append</span> <span class="p">:=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">i</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="n">ignore_ints</span> <span class="p">:=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">n</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="n">nostdout</span> <span class="p">:=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="kr">when</span> <span class="p">&#39;</span><span class="na">u</span><span class="p">&#39;</span> <span class="p">=&gt;</span>
         <span class="n">unbuffer</span> <span class="p">:=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="kr">when</span> <span class="kr">Others</span> <span class="p">=&gt;</span>
         <span class="kr">raise</span> <span class="n">Program_Error</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">case</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_7.8</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada has no &quot;rename&quot; built in. It can, however, call existing programs</span>
<span class="c1">-- to achieve the same purpose.</span>
<span class="kn">with</span> <span class="nn">Interfaces.C</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Interfaces.C</span><span class="p">;</span>
<span class="kd">procedure</span> <span class="nf">Rename_File</span><span class="p">(</span><span class="nv">From</span><span class="p">,</span> <span class="nv">To</span> <span class="p">: </span><span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kd">function</span> <span class="nf">system</span><span class="p">(</span><span class="nv">Command</span> <span class="p">: </span><span class="nv">Char_Array</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Int</span><span class="p">;</span>
   <span class="kr">pragma</span> <span class="cp">Import</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="s">&quot;system&quot;</span><span class="p">);</span>
   <span class="n">rc</span> <span class="p">:</span> <span class="n">Int</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">rc</span> <span class="p">:=</span> <span class="n">system</span><span class="p">(</span><span class="n">To_C</span><span class="p">(</span><span class="s">&quot;mv &quot;</span> <span class="o">&amp;</span> <span class="n">From</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span> <span class="o">&amp;</span> <span class="n">To</span><span class="p">));</span>
<span class="kr">end</span> <span class="nf">Rename_File</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">Open</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Old</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">old_file</span><span class="p">,</span> <span class="n">Mode</span> <span class="p">=&gt;</span> <span class="n">In_File</span><span class="p">);</span>
<span class="n">Create</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="kr">New</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">new_file</span><span class="p">);</span>
<span class="kr">while</span> <span class="ow">not</span> <span class="n">End_Of_File</span><span class="p">(</span><span class="n">Old</span><span class="p">)</span> <span class="kr">loop</span>
   <span class="n">Get_Line</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="n">Old</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Line</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Length</span><span class="p">);</span>
   <span class="c1">-- process the data in Line</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="n">File</span> <span class="p">=&gt;</span> <span class="kr">New</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Line</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="n">Close</span><span class="p">(</span><span class="n">Old</span><span class="p">);</span>
<span class="n">Close</span><span class="p">(</span><span class="kr">New</span><span class="p">);</span>
<span class="n">Rename_File</span><span class="p">(</span><span class="n">old_file</span><span class="p">,</span> <span class="n">old_file</span> <span class="o">&amp;</span> <span class="s">&quot;.orig&quot;</span><span class="p">);</span>
<span class="n">Rename_File</span><span class="p">(</span><span class="n">new_file</span><span class="p">,</span> <span class="n">old_file</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada makes a distinction between functions and procedures.</span>
<span class="c1">-- Functions always return a value and never alter their parameters.</span>
<span class="c1">-- Procedures never return a value and may alter their parameters</span>
<span class="kd">procedure</span> <span class="nf">Hello</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;hi there!&quot;</span><span class="p">);</span>
<span class="kr">end</span> <span class="nf">Hello</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">Hello</span><span class="p">;</span> <span class="c1">-- Calling Hello with no parameters</span>
<span class="c1">-------------------------------</span>
<span class="kd">function</span> <span class="nf">Sum</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="kr">return</span> <span class="n">A</span> <span class="o">+</span> <span class="n">B</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Sum</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">C</span> <span class="p">:=</span> <span class="n">Sum</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">);</span> <span class="c1">-- Calling a function</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada subroutine parmameters must have one of three modes.</span>
<span class="c1">-- IN, OUT, IN OUT</span>
<span class="c1">-- IN is read-only inside the subroutine. All function parameters are IN</span>
<span class="c1">-- OUT is write-only inside a subroutine</span>
<span class="c1">-- IN OUT is read and write within the subroutine</span>
<span class="kd">function</span> <span class="nf">Hypotenuse</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span> <span class="p">: </span><span class="nv">Float</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Float</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="kr">return</span> <span class="n">sqrt</span><span class="p">((</span><span class="n">A</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">B</span><span class="o">**</span><span class="mi">2</span><span class="p">));</span>
<span class="kr">end</span> <span class="nf">Hypotenuse</span><span class="p">;</span>

<span class="n">diag</span> <span class="p">:=</span> <span class="n">Hypotenuse</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">);</span> <span class="c1">-- diag is 5.0</span>
<span class="c1">-------------------------------</span>
<span class="n">Ada</span><span class="p">.</span><span class="n">Float_Text_Io</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="n">Hypotenuse</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">));</span> <span class="c1">-- prints 5.0E00</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">--@@PLEAC@@_10.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">procedure</span> <span class="nf">Swap</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Integer</span><span class="p">)</span> <span class="kr">is</span>
   <span class="n">Temp</span> <span class="p">:=</span> <span class="n">A</span><span class="p">;</span> <span class="c1">-- Temp is visible only within the Swap procedure</span>
<span class="kr">begin</span>
   <span class="n">A</span> <span class="p">:=</span> <span class="n">B</span><span class="p">;</span>
   <span class="n">B</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Swap</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Persistent private variables are declared inside a package body</span>
<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Counter</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Numbers</span> <span class="kr">is</span> <span class="ow">mod</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">-- will only have a value from 0 through 99</span>
   <span class="kt">Count</span> <span class="p">:</span> <span class="n">Numbers</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">-- Count is persistent across calls, and is</span>
                         <span class="c1">-- initialized to 0</span>
   <span class="kd">function</span> <span class="nf">Take_Number</span> <span class="nf">return</span> <span class="nf">Integer</span> <span class="kr">is</span>
      <span class="n">Result</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="kt">Integer</span><span class="p">(</span><span class="kt">Count</span><span class="p">);</span>
   <span class="kr">begin</span>
      <span class="kt">Count</span> <span class="p">:=</span> <span class="kt">Count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">-- modular arithmetic. 99 + 1 =&gt; 0</span>
      <span class="kr">return</span> <span class="n">Result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Take_Number</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Counter</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no way to determine a function&#39;s name at run time</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada parameter modes will always pass arrays by reference</span>
<span class="c1">-- The GNAT compiler provides a Hash as an extension, but the Ada language</span>
<span class="c1">-- does not define a Hash as part of its standard.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.6</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada return context is always determined at compile time.</span>
<span class="c1">-- There is no way to determine return context at run time.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.7</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Age</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Age</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Age</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="kd">function</span> <span class="nf">Put</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">Width</span> <span class="p">: </span><span class="nv">Positive</span> <span class="p">:=</span> <span class="nv">1</span><span class="p">)</span> <span class="kr">is</span>
<span class="kr">begin</span>
 <span class="err">[</span><span class="p">...</span><span class="err">]</span>
<span class="kr">end</span> <span class="nf">Put</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.8</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada functions must return exactly one value. Skipping values does not</span>
<span class="c1">-- occur in Ada.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.9</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada allows you to return a single item from a function.</span>
<span class="c1">-- That item may be of a compound type, such as an array, an array of arrays,</span>
<span class="c1">-- or a record.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.10</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- There is no standard Ada failure value. Raise an exception upon failure.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.11</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Functions and procedures are prototyped in a package specification</span>
<span class="c1">-- The prototype includes the exact signature of the function or procedure</span>
<span class="kd">function</span> <span class="nf">Take_Number</span> <span class="nf">return</span> <span class="nf">Integer</span><span class="p">;</span>
<span class="kd">procedure</span> <span class="nf">Swap</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Integer</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">--@@PLEAC@@_10.12</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kr">raise</span> <span class="n">Buffer_Empty_Error</span><span class="p">;</span> <span class="c1">-- raise an exception</span>
<span class="c1">-------------------------------</span>
<span class="kr">begin</span>
   <span class="err">[</span><span class="p">...</span><span class="err">]</span>
<span class="kr">exception</span>
   <span class="kr">when</span> <span class="n">Buffer_Empty_Exception</span> <span class="p">=&gt;</span>
       <span class="err">[</span><span class="p">...</span><span class="err">]</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="kr">when</span> <span class="kr">Others</span><span class="p">=&gt;</span>
   <span class="n">Clean_Up</span><span class="p">;</span>
   <span class="kr">raise</span><span class="p">;</span> <span class="c1">-- reraise unknown error</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.13</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada global variables are declared within a package specification</span>
<span class="kd">package</span> <span class="nc">Globals</span> <span class="kr">is</span>
   <span class="n">age</span> <span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Globals</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">New_Age</span> <span class="p">: </span><span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="n">age</span> <span class="p">:=</span> <span class="n">New_Age</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.14</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada does not allow redefinition of functions at run time.</span>
<span class="c1">-- Ada does allow functions and procedures to be overloaded.</span>
<span class="c1">-- Many functions or procedures can have the same name with a different list</span>
<span class="c1">-- of parameters, or a different return type.</span>
<span class="kd">type</span> <span class="kt">Real_Nums</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">100</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">Float</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Int_Nums</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">200</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">Average</span><span class="p">(</span><span class="nv">Nums</span> <span class="p">: </span><span class="nv">Real_Nums</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Float</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">Average</span><span class="p">(</span><span class="nv">Nums</span> <span class="p">: </span><span class="nv">Real_Nums</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">Average</span><span class="p">(</span><span class="nv">Nums</span> <span class="p">: </span><span class="nv">Int_Nums</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">Average</span><span class="p">(</span><span class="nv">Nums</span> <span class="p">: </span><span class="nv">Int_Nums</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Float</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.15</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Undefined function and procedure calls are detected as errors by the</span>
<span class="c1">-- Ada compiler. No run time detection is possible.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.16</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">function</span> <span class="nf">Outer</span><span class="p">(</span><span class="nv">Num</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span> <span class="kr">is</span>
   <span class="kd">function</span> <span class="nf">Inner</span><span class="p">(</span><span class="nv">Arg</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Arg</span> <span class="o">*</span> <span class="mi">19</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Inner</span><span class="p">;</span>
<span class="kr">begin</span> <span class="c1">-- Outer</span>
   <span class="kr">return</span> <span class="n">Num</span> <span class="o">+</span> <span class="n">Inner</span><span class="p">(</span><span class="n">Num</span><span class="p">);</span>
<span class="kr">end</span> <span class="nf">Outer</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_10.17</span>
<span class="c1">-- @@SKIP@@ Program: Sorting Your Mail</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- To Be Done</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Int_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kr">all</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="n">ref</span> <span class="p">:</span> <span class="n">Int_Ptr</span><span class="p">;</span>
<span class="n">num</span> <span class="p">:</span> <span class="kr">aliased</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">ref</span> <span class="p">:=</span> <span class="n">num</span><span class="p">&#39;</span><span class="na">Access</span><span class="p">;</span>

<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">ref</span><span class="p">.</span><span class="kr">all</span><span class="p">);</span> <span class="c1">-- Print the value ref refers to</span>
<span class="n">ref</span><span class="p">.</span><span class="kr">all</span> <span class="p">:=</span> <span class="mi">3</span><span class="p">;</span>         <span class="c1">-- Assign to ref&#39;s referant</span>
<span class="c1">-------------------------------</span>
<span class="kd">type</span> <span class="kt">Flt_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kr">all</span> <span class="kt">Float</span><span class="p">;</span>
<span class="n">ref</span> <span class="p">:</span> <span class="n">Flt_Ptr</span><span class="p">;</span>
<span class="n">pi</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">3.14159</span><span class="p">;</span>
<span class="n">pi</span><span class="p">&#39;</span><span class="na">Access</span> <span class="p">:=</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">-- Compile time error. The Access attribute cannot be used</span>
                <span class="c1">-- on the left hand side of an assignment.</span>
                <span class="c1">-- Also, &quot;pi&quot; is not defined as &quot;aliased&quot;. This will also</span>
                <span class="c1">-- generate a compiler error</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- There is no direct relationship between arrays and references in Ada.</span>
<span class="c1">-- An array is a collection of like objects. An array name is NOT an</span>
<span class="c1">-- access or reference to the first element of the array as in C.</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada provides two kinds of access types, general access types and</span>
<span class="c1">-- pool-specific acess types. Referants for pool-specific access types</span>
<span class="c1">-- must always be dynamically allocated. Referants for general access</span>
<span class="c1">-- types may be dynamically allocated, or may refer to aliased objects</span>
<span class="c1">-- generated on the stack.</span>
<span class="kd">type</span> <span class="kt">Pool_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kt">Float</span><span class="p">;</span> <span class="c1">-- Pool specific access type</span>
<span class="kd">type</span> <span class="kt">Gen_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kr">all</span> <span class="kt">Float</span><span class="p">;</span> <span class="c1">-- General access type</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Sales</span> <span class="kr">is</span> <span class="kr">array</span> <span class="p">(</span><span class="kt">Integer</span> <span class="kr">range</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">7</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">Float</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Sales_Access</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Sales</span><span class="p">;</span> <span class="c1">-- Pool specific example</span>

<span class="n">Weekly_Sales</span> <span class="p">:</span> <span class="n">Sales_Access</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Sales</span><span class="p">;</span> <span class="c1">-- dynamically allocate</span>
                                          <span class="c1">-- the Sales array</span>
                                          <span class="c1">-- and assign its reference to</span>
                                          <span class="c1">-- Weekly_Sales</span>
<span class="c1">-------------------------------</span>
<span class="n">last_index</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">Sales</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">;</span>
<span class="n">first_index</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">Sales</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
<span class="n">num_items</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">Sales</span><span class="p">&#39;</span><span class="na">Length</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada arrays are all fixed size. They cannot be enlarged after creation</span>
<span class="c1">-- Ada array types may be unconstrained in size, allowing the size of a</span>
<span class="c1">-- particular instance to be specified upon creation.</span>

<span class="kd">type</span> <span class="kt">String</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="kt">Character</span><span class="p">;</span>
<span class="n">s1</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">10</span><span class="p">);</span> <span class="c1">-- s1 is a 10 element string</span>
<span class="n">s2</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">34</span><span class="p">);</span> <span class="c1">-- s2 is a 34 element string</span>
<span class="n">s3</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">11.</span><span class="p">.</span><span class="mi">20</span><span class="p">);</span> <span class="c1">-- s3 is a 10 element string with a</span>
                     <span class="c1">-- a starting index of 11</span>
<span class="c1">-------------------------------</span>
<span class="kd">type</span> <span class="kt">String_Ref</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kt">String</span><span class="p">;</span>
<span class="n">r1</span> <span class="p">:</span> <span class="n">String_Ref</span><span class="p">;</span>

<span class="n">r1</span> <span class="p">:=</span> <span class="kr">new</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">20</span><span class="p">);</span> <span class="c1">-- Dynamically allocate an array</span>
<span class="n">Put</span><span class="p">(</span><span class="n">r1</span><span class="p">(</span><span class="n">N</span><span class="p">));</span> <span class="c1">-- Print the character at index N</span>
<span class="c1">-------------------------------</span>
<span class="n">r1</span><span class="p">(</span><span class="mf">3.</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>  <span class="c1">-- Array slice</span>
<span class="c1">-------------------------------</span>
<span class="n">r1</span><span class="p">(</span><span class="mf">3.</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="p">:=</span> <span class="n">r1</span><span class="p">(</span><span class="mf">9.</span><span class="p">.</span><span class="mi">11</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada provides no way to make a reference to a slice</span>
<span class="c1">-------------------------------</span>
<span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
  <span class="c1">-- iterate through all elements in the array</span>
  <span class="c1">-- referenced by r1</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">s1</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
   <span class="c1">-- iterate through all elements in array s1</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no standard implementation of hashes</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no standard implemenation of hashes</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Define an access type to a function taking two integer parameters and</span>
<span class="c1">-- returning a boolean</span>
<span class="kd">type</span> <span class="kt">func_ref</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kd">function</span> <span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Boolean</span><span class="p">;</span>

<span class="c1">-- Define an access type to a procedure taking no parameters</span>
<span class="kd">type</span> <span class="kt">proc_ref</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kd">procedure</span><span class="p">;</span>

<span class="c1">-- Define a function taking two integers and returning a boolean</span>
<span class="kd">function</span> <span class="nf">Less_Than</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">Y</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Boolean</span><span class="p">;</span>

<span class="c1">-- Define an instance of the func_ref access type</span>
<span class="n">compare</span> <span class="p">:</span> <span class="n">func_ref</span><span class="p">;</span>

<span class="n">compare</span> <span class="p">:=</span> <span class="n">Less_Than</span><span class="p">&#39;</span><span class="na">Access</span><span class="p">;</span> <span class="c1">-- Less than matches the signature defined in</span>
                             <span class="c1">-- the func_ref type declaration</span>
<span class="c1">-- Calling the function through the referenc</span>
<span class="kr">if</span> <span class="n">compare</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span> <span class="kr">then</span>
   <span class="p">...</span>  <span class="c1">-- act on the comparison</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>

<span class="c1">-- Define a procedure taking no parameters</span>
<span class="kd">procedure</span> <span class="nf">Print_Header</span><span class="p">;</span>

<span class="c1">-- Define an instance of proc_ref access type</span>

<span class="n">action</span> <span class="p">:</span> <span class="n">proc_ref</span> <span class="p">:=</span> <span class="n">Print_Header</span><span class="p">&#39;</span><span class="na">Access</span><span class="p">;</span>

<span class="c1">-- Call the parameter-less procedure</span>
<span class="n">action</span><span class="p">.</span><span class="kr">all</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada does not provide closures, or functions with static data</span>
<span class="c1">-- The same effect can be produced using Ada tasks.</span>
<span class="kd">package</span> <span class="nc">counters</span> <span class="kr">is</span>
   <span class="kd">task</span> <span class="kd">type</span> <span class="kt">Counter_Maker</span> <span class="kr">is</span>
      <span class="kd">entry</span> <span class="nf">Get_Count</span><span class="p">(</span><span class="nv">Num</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Integer</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">Counter_Maker</span>
   <span class="nf">type</span> <span class="nf">Counter_Ref</span> <span class="nf">is</span> <span class="nf">access</span> <span class="nf">Counter_Maker</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">counters</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">counters</span> <span class="kr">is</span>
   <span class="kd">task</span> <span class="kr">body</span> <span class="n">Counter_Maker</span> <span class="kr">is</span>
      <span class="n">start</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="kr">loop</span>
         <span class="kr">accept</span> <span class="n">Get_Count</span><span class="p">(</span><span class="n">Num</span> <span class="p">:</span> <span class="kr">out</span> <span class="kt">Integer</span><span class="p">)</span>
         <span class="kr">do</span>
            <span class="n">Num</span> <span class="p">:=</span> <span class="n">start</span><span class="p">;</span>
         <span class="kr">end</span> <span class="nf">Get_Count</span><span class="p">;</span>
         <span class="n">start</span> <span class="p">:=</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Counter_Maker</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">counters</span><span class="p">;</span>

<span class="n">counter1</span> <span class="p">:</span> <span class="n">Counter_Ref</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Counter</span><span class="p">;</span>
<span class="n">the_count</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="kr">for</span> <span class="n">iter</span> <span class="ow">in</span> <span class="mf">0.</span><span class="p">.</span><span class="mi">4</span> <span class="kr">loop</span>
   <span class="n">counter1</span><span class="p">.</span><span class="n">Get_Count</span><span class="p">(</span><span class="n">the_count</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">the_count</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">counter1</span> <span class="p">:</span> <span class="n">Counter_Ref</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Counter</span><span class="p">;</span>
<span class="n">counter2</span> <span class="p">:</span> <span class="n">Counter_Ref</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Counter</span><span class="p">;</span>
<span class="n">count1</span><span class="p">,</span> <span class="n">count2</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="kr">for</span> <span class="n">iter</span> <span class="ow">in</span> <span class="mf">0.</span><span class="p">.</span><span class="mi">4</span> <span class="kr">loop</span>
   <span class="n">counter1</span><span class="p">.</span><span class="n">Get_Count</span><span class="p">(</span><span class="n">count1</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">count1</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="n">counter1</span><span class="p">.</span><span class="n">Get_Count</span><span class="p">(</span><span class="n">count1</span><span class="p">);</span>
<span class="n">counter2</span><span class="p">.</span><span class="n">Get_Count</span><span class="p">(</span><span class="n">count2</span><span class="p">);</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">count1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span> <span class="o">&amp;</span>
         <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">count2</span><span class="p">));</span>
<span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="mi">4</span>
<span class="mi">5</span> <span class="mi">0</span>
<span class="c1">-------------------------------</span>
<span class="kd">function</span> <span class="nf">Time_Diff</span><span class="p">(</span><span class="nv">Base_Time</span> <span class="p">: </span><span class="nv">Time</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Duration</span> <span class="kr">is</span>
   <span class="n">Now</span> <span class="p">:</span> <span class="n">Time</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">return</span> <span class="n">Now</span> <span class="o">-</span> <span class="n">Base_Time</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Time_Diff</span><span class="p">;</span>

<span class="n">early</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">later</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">early</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span>
<span class="kr">delay</span> <span class="mf">20.0</span><span class="p">;</span>
<span class="n">later</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span>
<span class="kr">delay</span> <span class="mf">10.0</span><span class="p">;</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;It&#39;s been &quot;</span> <span class="o">&amp;</span> <span class="kt">Duration</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Time_Diff</span><span class="p">(</span><span class="n">early</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot; seconds since early.&quot;</span><span class="p">);</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;It&#39;s been &quot;</span> <span class="o">&amp;</span> <span class="kt">Duration</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Time_Diff</span><span class="p">(</span><span class="n">later</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot; seconds since later&quot;</span><span class="p">);</span>
<span class="c1">-- It&#39;s been  30.007172430 seconds since early.</span>
<span class="c1">-- It&#39;s been  10.003749644 seconds since later.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada does not provide special syntax for obtaining reference to scalars</span>
<span class="c1">-- compared to vectors.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.6</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Num_Ref</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kr">all</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Ref_Array</span> <span class="kr">is</span> <span class="kr">array</span> <span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span> <span class="kr">of</span> <span class="n">Num_Ref</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">array_of_refs</span> <span class="p">:</span> <span class="n">Ref_Array</span><span class="p">;</span>
<span class="n">array_of_refs</span> <span class="p">:=</span> <span class="p">(</span><span class="kr">Others</span> <span class="p">=&gt;</span> <span class="kc">null</span><span class="p">);</span> <span class="c1">-- Set all values to null references</span>

<span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Ref_Array</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
   <span class="n">array_of_refs</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="p">:=</span> <span class="kr">new</span> <span class="kt">Integer</span><span class="p">&#39;(</span><span class="n">index</span><span class="p">);</span>
<span class="kr">end</span> <span class="kr">loop</span>
<span class="err">-------------------------------</span>
<span class="nf">for</span> <span class="nf">index</span> <span class="nf">in</span> <span class="nf">Ref_Array</span><span class="err">&#39;</span><span class="nf">Range</span> <span class="kr">loop</span>
   <span class="nf">Put_Line</span><span class="err">(</span><span class="nf">Integer</span><span class="err">&#39;</span><span class="nf">Image</span><span class="err">(</span><span class="nf">array_of_refs</span><span class="err">(</span><span class="nf">index</span><span class="err">)</span><span class="nf">.all</span><span class="err">))</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Ref_Array</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
   <span class="n">array_of_refs</span><span class="p">(</span><span class="n">index</span><span class="p">).</span><span class="kr">all</span> <span class="p">:=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_11.7</span>
<span class="c1">------------------------------------------------------------------------------</span>




<span class="c1">-- @@PLEAC@@_11.15</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-------------------------------------------------------------------------------</span>
<span class="c1">-- Binary Tree Example</span>
<span class="c1">-------------------------------------------------------------------------------</span>

<span class="kd">package</span> <span class="nc">Binary_Trees</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Tree</span> <span class="kr">is</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">insert</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Integer</span><span class="p">;</span> <span class="nv">Into</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Tree</span><span class="p">);</span>
   <span class="kd">procedure</span> <span class="nf">in_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">);</span>
   <span class="kd">procedure</span> <span class="nf">pre_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">);</span>
   <span class="kd">procedure</span> <span class="nf">post_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">search</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Integer</span><span class="p">;</span> <span class="nv">From</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">boolean</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">node</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Tree</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Node</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Node</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Value</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
      <span class="n">Left</span>  <span class="p">:</span> <span class="n">Tree</span> <span class="p">:=</span> <span class="kc">Null</span><span class="p">;</span>
      <span class="n">Right</span> <span class="p">:</span> <span class="n">Tree</span> <span class="p">:=</span> <span class="kc">Null</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Binary_Trees</span><span class="p">;</span>

<span class="kn">with</span> <span class="nn">Ada.Text_IO</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Binary_Trees</span> <span class="kr">is</span>

   <span class="kd">procedure</span> <span class="nf">insert</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Integer</span><span class="p">;</span> <span class="nv">Into</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Tree</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
     <span class="kr">if</span> <span class="n">Into</span> <span class="o">/=</span> <span class="kc">null</span> <span class="kr">then</span>
        <span class="kr">if</span> <span class="n">Into</span><span class="p">.</span><span class="n">Value</span> <span class="o">&gt;</span> <span class="n">Item</span> <span class="kr">then</span>
           <span class="n">insert</span><span class="p">(</span><span class="n">Item</span><span class="p">,</span> <span class="n">Into</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
        <span class="kr">elsif</span> <span class="n">Into</span><span class="p">.</span><span class="n">Value</span> <span class="o">&lt;</span> <span class="n">Item</span> <span class="kr">then</span>
           <span class="n">insert</span><span class="p">(</span><span class="n">Item</span><span class="p">,</span> <span class="n">Into</span><span class="p">.</span><span class="n">Right</span><span class="p">);</span>
        <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span> <span class="c1">-- Do nothing if duplicate</span>
     <span class="kr">else</span>
        <span class="n">Into</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Node</span><span class="p">;</span>
        <span class="n">Into</span><span class="p">.</span><span class="n">Value</span> <span class="p">:=</span> <span class="n">Item</span><span class="p">;</span>
     <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
        <span class="kr">end</span> <span class="nf">insert</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">in_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
     <span class="kr">if</span> <span class="n">Item</span> <span class="o">=</span> <span class="kc">null</span> <span class="kr">then</span>
        <span class="kr">return</span><span class="p">;</span>
     <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
     <span class="n">in_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
     <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Value</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
     <span class="n">in_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Right</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">in_order</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">pre_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">Item</span> <span class="o">=</span> <span class="kc">null</span> <span class="kr">then</span>
         <span class="kr">return</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Value</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
      <span class="n">pre_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
      <span class="n">pre_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Right</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">pre_order</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">post_order</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Tree</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">Item</span> <span class="o">=</span> <span class="kc">null</span> <span class="kr">then</span>
         <span class="kr">return</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="n">post_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
      <span class="n">post_order</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Right</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">Value</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">post_order</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">search</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">From</span> <span class="p">: </span><span class="nv">Tree</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Boolean</span> <span class="kr">is</span>
      <span class="n">Result</span> <span class="p">:</span> <span class="kt">Boolean</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">From</span> <span class="o">/=</span> <span class="kc">null</span> <span class="kr">then</span>
         <span class="kr">if</span> <span class="n">From</span><span class="p">.</span><span class="n">Value</span> <span class="o">=</span> <span class="n">Item</span> <span class="kr">then</span>
            <span class="n">Result</span> <span class="p">:=</span> <span class="kc">True</span><span class="p">;</span>
         <span class="kr">elsif</span> <span class="n">From</span><span class="p">.</span><span class="n">Value</span> <span class="o">&gt;</span> <span class="n">Item</span> <span class="kr">then</span>
            <span class="n">Result</span> <span class="p">:=</span> <span class="n">search</span><span class="p">(</span><span class="n">Item</span><span class="p">,</span> <span class="n">From</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
         <span class="kr">else</span>
            <span class="n">Result</span> <span class="p">:=</span> <span class="n">search</span><span class="p">(</span><span class="n">Item</span><span class="p">,</span> <span class="n">From</span><span class="p">.</span><span class="n">Right</span><span class="p">);</span>
         <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">else</span>
         <span class="n">Result</span> <span class="p">:=</span> <span class="kc">False</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">return</span> <span class="n">Result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">search</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Binary_Trees</span><span class="p">;</span>

<span class="kn">with</span> <span class="nn">Binary_Trees</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Binary_Trees</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Numerics.Discrete_Random</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">Tree_Test</span> <span class="kr">is</span>
   <span class="kd">package</span> <span class="nc">Rand_Num</span> <span class="kr">is new</span> <span class="nc">Ada.Numerics.Discrete_Random</span><span class="p">(</span>Integer<span class="p">);</span>
   <span class="kn">use</span> <span class="nn">Rand_Num</span><span class="p">;</span>
   <span class="n">Seed</span> <span class="p">:</span> <span class="kt">Generator</span><span class="p">;</span>
   <span class="n">Val</span>  <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
   <span class="n">The_Tree</span> <span class="p">:</span> <span class="n">Tree</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Reset</span><span class="p">(</span><span class="n">Seed</span><span class="p">);</span>
   <span class="kr">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">20</span> <span class="kr">loop</span>
      <span class="n">Val</span> <span class="p">:=</span> <span class="n">Random</span><span class="p">(</span><span class="n">Seed</span><span class="p">);</span>
      <span class="n">insert</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Val</span><span class="p">,</span> <span class="n">Into</span> <span class="p">=&gt;</span> <span class="n">The_Tree</span><span class="p">);</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
        <span class="c1">-- now dump out the tree all three ways</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Pre Order: &quot;</span><span class="p">);</span>
   <span class="n">pre_order</span><span class="p">(</span><span class="n">The_Tree</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;In order: &quot;</span><span class="p">);</span>
   <span class="n">in_order</span><span class="p">(</span><span class="n">The_Tree</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Post_Order: &quot;</span><span class="p">);</span>
   <span class="n">post_order</span><span class="p">(</span><span class="n">The_Tree</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>

        <span class="c1">-- prompt until EOF</span>
   <span class="kr">loop</span>
      <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Search? &quot;</span><span class="p">);</span>
      <span class="kr">exit</span> <span class="kr">when</span> <span class="n">Ada</span><span class="p">.</span><span class="n">Text_IO</span><span class="p">.</span><span class="n">End_Of_File</span><span class="p">;</span>
      <span class="n">Get</span><span class="p">(</span><span class="n">Val</span><span class="p">);</span> <span class="c1">-- read input as an integer</span>
      <span class="kr">if</span> <span class="n">search</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Val</span><span class="p">,</span> <span class="n">From</span> <span class="p">=&gt;</span> <span class="n">The_Tree</span><span class="p">)</span> <span class="kr">then</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Found &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Val</span><span class="p">));</span>
      <span class="kr">else</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;No &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Val</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; in tree&quot;</span><span class="p">);</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Tree_Test</span><span class="p">;</span>



<span class="c1">-- @@PLEAC@@_12.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada packages provide both namespace and encapsulation. As such they act</span>
<span class="c1">-- both as perl packages and perl modules.</span>

<span class="kd">package</span> <span class="nc">Alpha</span> <span class="kr">is</span>
   <span class="n">name</span> <span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">&quot;First&quot;</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Alpha</span><span class="p">;</span>

<span class="kd">package</span> <span class="nc">Omega</span> <span class="kr">is</span>
   <span class="n">name</span> <span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">&quot;Last&quot;</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Omega</span><span class="p">;</span>

<span class="kn">With</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Text_IO</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Alpha</span><span class="p">,</span> <span class="n">Omega</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">main</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Alpha is &quot;</span> <span class="o">&amp;</span> <span class="n">Alpha</span><span class="p">.</span><span class="n">name</span> <span class="o">&amp;</span> <span class="s">&quot; ,&quot;</span> <span class="o">&amp;</span>
            <span class="s">&quot;Omega is &quot;</span> <span class="o">&amp;</span> <span class="n">Omega</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="kr">end</span> <span class="nf">main</span><span class="p">;</span>
<span class="c1">----------------------</span>
<span class="kn">with</span> <span class="nn">Cards</span><span class="p">;</span> <span class="c1">-- Make the Cards package visible</span>
<span class="kn">use</span> <span class="nn">Cards</span><span class="p">;</span>  <span class="c1">-- Place the Cards package within the current scope</span>
<span class="c1">-- Both operations happen only at compile time.</span>
<span class="c1">----------------------</span>

<span class="kd">package</span> <span class="nc">Cards</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Card</span> <span class="kr">is</span> <span class="kd">private</span><span class="p">;</span>
   <span class="c1">-- Print the value of a card</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Card</span><span class="p">);</span>
   <span class="kd">type</span> <span class="kt">Deck</span> <span class="kr">is</span> <span class="kd">private</span><span class="p">;</span>

   <span class="c1">-- Create an initial deck (open a new deck of cards)</span>
   <span class="kd">function</span> <span class="nf">Fill_Deck</span> <span class="nf">return</span> <span class="nf">Deck</span><span class="p">;</span>

   <span class="c1">-- Print all the cards remaining in a deck</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Shuffle the deck (randomize the order of the cards in the deck)</span>
   <span class="kd">procedure</span> <span class="nf">Shuffle</span><span class="p">(</span><span class="nv">The_Deck</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Deal the next card from the deck</span>
   <span class="kd">procedure</span> <span class="nf">Deal</span><span class="p">(</span><span class="nv">The_Card</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Card</span><span class="p">;</span> <span class="nv">From</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Return the number of cards left in the deck</span>
     <span class="kd">function</span> <span class="nf">Cards_Left</span><span class="p">(</span><span class="nv">In_Deck</span> <span class="p">: </span><span class="nv">Deck</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>

   <span class="c1">-- Deck_Empty exception raised when trying to deal from an empty deck.</span>
   <span class="n">Deck_Empty</span> <span class="p">:</span> <span class="kr">Exception</span><span class="p">;</span>

<span class="kd">private</span>
   <span class="c1">-- Define the face values of the cards</span>
   <span class="kd">type</span> <span class="kt">Pips</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">Two</span><span class="p">,</span> <span class="nv">Three</span><span class="p">,</span> <span class="nv">Four</span><span class="p">,</span> <span class="nv">Five</span><span class="p">,</span> <span class="nv">Six</span><span class="p">,</span> <span class="nv">Seven</span><span class="p">,</span> <span class="nv">Eight</span><span class="p">,</span> <span class="nv">Nine</span><span class="p">,</span> <span class="nv">Ten</span><span class="p">,</span>
                 <span class="nv">Jack</span><span class="p">,</span> <span class="nv">Queen</span><span class="p">,</span> <span class="nv">King</span><span class="p">,</span> <span class="nv">Ace</span><span class="p">);</span>
   <span class="c1">-- Define the card suits</span>
   <span class="kd">type</span> <span class="kt">Suits</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">Hearts</span><span class="p">,</span> <span class="nv">Spades</span><span class="p">,</span> <span class="nv">Clubs</span><span class="p">,</span> <span class="nv">Diamonds</span><span class="p">);</span>

   <span class="c1">-- A card is defined by its combination of face value</span>
   <span class="c1">-- and suit.</span>
   <span class="kd">type</span> <span class="kt">Card</span> <span class="kr">is</span> <span class="kr">record</span>
     <span class="n">Pip</span>  <span class="p">:</span> <span class="n">Pips</span><span class="p">;</span>
     <span class="n">Suit</span> <span class="p">:</span> <span class="n">Suits</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="c1">-- Define the number of cards in a standard deck.</span>
   <span class="kd">subtype</span> <span class="kt">Deck_Index</span> <span class="kr">is</span> <span class="kt">integer</span> <span class="kr">range</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">52</span><span class="p">;</span>
   <span class="c1">-- Cards in the deck are accessed through an order list.</span>
   <span class="c1">-- The values in the order list are sorted to create a</span>
   <span class="c1">-- shuffled deck.</span>
   <span class="kd">type</span> <span class="kt">Order_List</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="n">Deck_Index</span><span class="p">)</span> <span class="kr">of</span> <span class="n">Deck_Index</span><span class="p">;</span>

   <span class="c1">-- A deck is an order list, an index into the order list</span>
   <span class="c1">-- indicating the next card to deal, and a count of the</span>
   <span class="c1">-- number of cards left (not yeat dealt) in the deck.</span>
   <span class="kd">type</span> <span class="kt">Deck</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">This_Order</span> <span class="p">:</span> <span class="n">Order_List</span><span class="p">;</span>
      <span class="n">Deal_Next</span>  <span class="p">:</span> <span class="n">Deck_Index</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
      <span class="n">Num_Left</span>   <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Cards</span><span class="p">;</span>
<span class="c1">-------------------------</span>

<span class="c1">-- @@PLEAC@@_12.1</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="c1">-- Cards.ads</span>
<span class="c1">-- Package implementing a standard deck of playing cards</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="kd">package</span> <span class="nc">Cards</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Card</span> <span class="kr">is</span> <span class="kd">private</span><span class="p">;</span>
   <span class="c1">-- Print the value of a card</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Card</span><span class="p">);</span>
   <span class="kd">type</span> <span class="kt">Deck</span> <span class="kr">is</span> <span class="kd">private</span><span class="p">;</span>
   <span class="c1">-- Create an initial deck (open a new deck of cards)</span>
   <span class="kd">function</span> <span class="nf">Fill_Deck</span> <span class="nf">return</span> <span class="nf">Deck</span><span class="p">;</span>

   <span class="c1">-- Print all the cards remaining in a deck</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Shuffle the deck (randomize the order of the cards in the deck)</span>
   <span class="kd">procedure</span> <span class="nf">Shuffle</span><span class="p">(</span><span class="nv">The_Deck</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Deal the next card from the deck</span>
   <span class="kd">procedure</span> <span class="nf">Deal</span><span class="p">(</span><span class="nv">The_Card</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Card</span><span class="p">;</span> <span class="nv">From</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">);</span>

   <span class="c1">-- Return the number of cards left in the deck</span>

   <span class="kd">function</span> <span class="nf">Cards_Left</span><span class="p">(</span><span class="nv">In_Deck</span> <span class="p">: </span><span class="nv">Deck</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>

   <span class="c1">-- Deck_Empty exception raised when trying to deal from an empty deck.</span>
   <span class="n">Deck_Empty</span> <span class="p">:</span> <span class="kr">Exception</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="c1">-- Define the face values of the cards</span>
   <span class="kd">type</span> <span class="kt">Pips</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">Two</span><span class="p">,</span> <span class="nv">Three</span><span class="p">,</span> <span class="nv">Four</span><span class="p">,</span> <span class="nv">Five</span><span class="p">,</span> <span class="nv">Six</span><span class="p">,</span> <span class="nv">Seven</span><span class="p">,</span> <span class="nv">Eight</span><span class="p">,</span> <span class="nv">Nine</span><span class="p">,</span> <span class="nv">Ten</span><span class="p">,</span>
                 <span class="nv">Jack</span><span class="p">,</span> <span class="nv">Queen</span><span class="p">,</span> <span class="nv">King</span><span class="p">,</span> <span class="nv">Ace</span><span class="p">);</span>
   <span class="c1">-- Define the card suits</span>
   <span class="kd">type</span> <span class="kt">Suits</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">Hearts</span><span class="p">,</span> <span class="nv">Spades</span><span class="p">,</span> <span class="nv">Clubs</span><span class="p">,</span> <span class="nv">Diamonds</span><span class="p">);</span>

   <span class="c1">-- A card is defined by its combination of face value</span>
   <span class="c1">-- and suit.</span>
   <span class="kd">type</span> <span class="kt">Card</span> <span class="kr">is</span> <span class="kr">record</span>
     <span class="n">Pip</span>  <span class="p">:</span> <span class="n">Pips</span><span class="p">;</span>
     <span class="n">Suit</span> <span class="p">:</span> <span class="n">Suits</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="c1">-- Define the number of cards in a standard deck.</span>
   <span class="kd">subtype</span> <span class="kt">Deck_Index</span> <span class="kr">is</span> <span class="kt">integer</span> <span class="kr">range</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">52</span><span class="p">;</span>

   <span class="c1">-- Cards in the deck are accessed through an order list.</span>
   <span class="c1">-- The values in the order list are sorted to create a</span>
   <span class="c1">-- shuffled deck.</span>

   <span class="kd">type</span> <span class="kt">Order_List</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="n">Deck_Index</span><span class="p">)</span> <span class="kr">of</span> <span class="n">Deck_Index</span><span class="p">;</span>

   <span class="c1">-- A deck is an order list, an index into the order list</span>
   <span class="c1">-- indicating the next card to deal, and a count of the</span>
   <span class="c1">-- number of cards left (not yeat dealt) in the deck.</span>
   <span class="kd">type</span> <span class="kt">Deck</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">This_Order</span> <span class="p">:</span> <span class="n">Order_List</span><span class="p">;</span>
      <span class="n">Deal_Next</span>  <span class="p">:</span> <span class="n">Deck_Index</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
      <span class="n">Num_Left</span>   <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Cards</span><span class="p">;</span>
<span class="c1">--------------------</span>

<span class="c1">-- @@PLEAC@@_12.2</span>
<span class="c1">--------------------</span>
<span class="c1">-- No error trapping required in Ada, since all errors are detected</span>
<span class="c1">-- at compile time.</span>
<span class="c1">--------------------</span>

<span class="c1">-- @@PLEAC@@_12.3</span>
<span class="c1">--------------------</span>
<span class="c1">-- Not possible in Ada</span>
<span class="c1">--------------------</span>

<span class="c1">-- @@PLEAC@@_12.4</span>
<span class="c1">-------------------</span>
<span class="c1">-- Place the variables in the package implementation, or &quot;body&quot;</span>


<span class="kn">with</span> <span class="nn">Ada.Numerics.Float_Random</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Ada.Numerics.Float_Random</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Text_Io</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Cards</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Card_Deck</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="n">Deck_Index</span><span class="p">)</span> <span class="kr">of</span> <span class="n">Card</span><span class="p">;</span>
<span class="c1">-------------</span>
<span class="c1">-- Internal Function: Initialize</span>
<span class="c1">-- Purpose: Initialize the value of the common Card_Deck</span>
<span class="c1">-------------</span>
   <span class="kd">function</span> <span class="nf">Initialize</span> <span class="nf">return</span> <span class="nf">Card_Deck</span> <span class="kr">is</span>
      <span class="n">Result</span> <span class="p">:</span> <span class="n">Card_Deck</span><span class="p">;</span>
      <span class="n">Temp_Index</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="kr">for</span> <span class="n">The_Suit</span> <span class="ow">in</span> <span class="n">Suits</span> <span class="kr">loop</span>
         <span class="kr">for</span> <span class="n">The_Pip</span> <span class="ow">in</span> <span class="n">Pips</span> <span class="kr">loop</span>
            <span class="n">Result</span><span class="p">(</span><span class="n">Temp_Index</span><span class="p">)</span> <span class="p">:=</span> <span class="p">(</span><span class="n">The_Pip</span><span class="p">,</span> <span class="n">The_Suit</span><span class="p">);</span>
            <span class="n">Temp_Index</span> <span class="p">:=</span> <span class="n">Temp_Index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
         <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">return</span> <span class="n">Result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Initialize</span><span class="p">;</span>

   <span class="no">All_Decks</span> <span class="p">:</span> <span class="kr">constant</span> <span class="n">Card_Deck</span> <span class="p">:=</span> <span class="n">Initialize</span><span class="p">;</span>
<span class="c1">-- private to the Cards package</span>
<span class="c1">----------</span>
<span class="c1">-- Procedure: Print</span>
<span class="c1">-- Purpose: Print the value of a card on standard output</span>
<span class="c1">----------</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Card</span><span class="p">)</span> <span class="kr">is</span>
      <span class="kd">package</span> <span class="nc">Pip_Io</span> <span class="kr">is new</span> <span class="nc">Ada.Text_Io.Enumeration_IO</span><span class="p">(</span>Pips<span class="p">);</span>
      <span class="kd">package</span> <span class="nc">Suit_Io</span> <span class="kr">is new</span> <span class="nc">Ada.Text_Io.Enumeration_Io</span><span class="p">(</span>Suits<span class="p">);</span>
   <span class="kr">begin</span>
      <span class="n">Pip_Io</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Item</span><span class="p">.</span><span class="n">Pip</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="s">&quot; of &quot;</span><span class="p">);</span>
      <span class="n">Suit_Io</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Item</span><span class="p">.</span><span class="n">Suit</span><span class="p">);</span>
      <span class="n">New_Line</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Print</span><span class="p">;</span>
<span class="c1">----------------</span>
<span class="c1">-- Function: Fill_Deck</span>
<span class="c1">-- Purpose: Create a new card deck with all cards in order</span>
<span class="c1">---------------</span>
   <span class="kd">function</span> <span class="nf">Fill_Deck</span> <span class="nf">return</span> <span class="nf">Deck</span> <span class="kr">is</span>
      <span class="n">Result</span> <span class="p">:</span> <span class="n">Deck</span><span class="p">;</span>
      <span class="n">Temp_Index</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="kr">for</span> <span class="n">Temp_Index</span> <span class="ow">in</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
          <span class="n">Result</span><span class="p">.</span><span class="n">This_Order</span><span class="p">(</span><span class="n">Temp_Index</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Temp_Index</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">Result</span><span class="p">.</span><span class="n">Num_Left</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">;</span>
      <span class="kr">return</span> <span class="n">Result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Fill_Deck</span><span class="p">;</span>
<span class="c1">--------</span>
<span class="c1">-- Procedure: Print</span>
<span class="c1">-- Purpose: Print all the cards remaining in the deck</span>
<span class="c1">--------</span>
   <span class="kd">procedure</span> <span class="nf">Print</span><span class="p">(</span><span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Deck</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Num_Left</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="kr">then</span>
         <span class="kr">for</span> <span class="n">Temp_Index</span> <span class="ow">in</span> <span class="n">Item</span><span class="p">.</span><span class="n">Deal_Next</span><span class="p">..</span><span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span> <span class="kr">loop</span>
            <span class="n">Print</span><span class="p">(</span><span class="n">All_Decks</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="n">This_Order</span><span class="p">(</span><span class="n">Temp_Index</span><span class="p">)));</span>
         <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">else</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;The deck is empty.&quot;</span><span class="p">);</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Print</span><span class="p">;</span>

<span class="c1">-----------</span>
<span class="c1">-- Procedure Swap</span>
<span class="c1">-- Exchange two Deck_Index values</span>
<span class="c1">-------------</span>
   <span class="kd">procedure</span> <span class="nf">Swap</span><span class="p">(</span><span class="nv">Left</span><span class="p">,</span> <span class="nv">Right</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck_Index</span><span class="p">)</span> <span class="kr">is</span>
      <span class="n">Temp</span> <span class="p">:</span> <span class="n">Deck_Index</span> <span class="p">:=</span> <span class="n">Left</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="n">Left</span> <span class="p">:=</span> <span class="n">Right</span><span class="p">;</span>
      <span class="n">Right</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Swap</span><span class="p">;</span>
<span class="c1">------------</span>
<span class="c1">-- Procedure: Shuffle</span>
<span class="c1">-- Purpose: Randomize the This_Order array for a deck to force</span>
<span class="c1">-- random access to the deck of cards</span>
<span class="c1">--  This algorithm is order O(n) and will work with any discrete</span>
<span class="c1">--  index type.</span>
<span class="c1">--  The Ada.Numerics.Float_Random routine is used so that the</span>
<span class="c1">--  random number generator is reset only once per shuffle. This</span>
<span class="c1">--  produces more random results than can be achieved by</span>
<span class="c1">--  resetting the generator for each iteration as would be needed</span>
<span class="c1">--  if the Ada.Numerics.Discrete_Random package had been used.</span>
<span class="c1">-----------</span>
   <span class="kd">procedure</span> <span class="nf">Shuffle</span><span class="p">(</span><span class="nv">The_Deck</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">)</span> <span class="kr">is</span>
      <span class="kn">use</span> <span class="nn">Ada.Numerics.Float_Random</span><span class="p">;</span>
      <span class="n">Seed</span>       <span class="p">:</span> <span class="kt">Generator</span><span class="p">;</span>
      <span class="n">Max_Search</span> <span class="p">:</span> <span class="n">Deck_Index</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Pred</span><span class="p">(</span><span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">);</span>
      <span class="n">Difference</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
      <span class="n">Rand_Value</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
      <span class="n">Swap_Val</span>   <span class="p">:</span> <span class="n">Deck_Index</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="n">Reset</span><span class="p">(</span><span class="n">Seed</span><span class="p">);</span>
      <span class="n">The_Deck</span><span class="p">.</span><span class="n">Deal_Next</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
      <span class="n">The_Deck</span><span class="p">.</span><span class="n">Num_Left</span>  <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">;</span>
      <span class="kr">for</span> <span class="n">Index</span> <span class="ow">in</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span> <span class="p">..</span> <span class="n">Max_Search</span> <span class="kr">loop</span>
         <span class="n">Difference</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Pos</span><span class="p">(</span><span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">)</span> <span class="o">-</span>
                       <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Pos</span><span class="p">(</span><span class="n">Index</span><span class="p">);</span>
         <span class="n">Rand_Value</span> <span class="p">:=</span> <span class="kt">Integer</span><span class="p">(</span> <span class="n">Random</span><span class="p">(</span><span class="n">Seed</span><span class="p">)</span> <span class="o">*</span> <span class="kt">Float</span><span class="p">(</span><span class="n">Difference</span><span class="p">))</span> <span class="o">+</span>
                       <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Pos</span><span class="p">(</span><span class="n">Index</span><span class="p">);</span>
         <span class="n">Swap_Val</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Val</span><span class="p">(</span><span class="n">Rand_Value</span><span class="p">);</span>
         <span class="n">Swap</span><span class="p">(</span><span class="n">The_Deck</span><span class="p">.</span><span class="n">This_Order</span><span class="p">(</span><span class="n">Index</span><span class="p">),</span> <span class="n">The_Deck</span><span class="p">.</span><span class="n">This_Order</span><span class="p">(</span><span class="n">Swap_Val</span><span class="p">));</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">The_Deck</span><span class="p">.</span><span class="n">Num_Left</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">;</span>
      <span class="n">The_Deck</span><span class="p">.</span><span class="n">Deal_Next</span> <span class="p">:=</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">First</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Shuffle</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">Deal</span><span class="p">(</span><span class="nv">The_Card</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Card</span><span class="p">;</span> <span class="nv">From</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">out</span> <span class="nv">Deck</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">From</span><span class="p">.</span><span class="n">Num_Left</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="kr">then</span>
         <span class="n">The_Card</span> <span class="p">:=</span> <span class="n">All_Decks</span><span class="p">(</span><span class="n">From</span><span class="p">.</span><span class="n">This_Order</span><span class="p">(</span><span class="n">From</span><span class="p">.</span><span class="n">Deal_Next</span><span class="p">));</span>
         <span class="n">From</span><span class="p">.</span><span class="n">Num_Left</span> <span class="p">:=</span> <span class="n">From</span><span class="p">.</span><span class="n">Num_Left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
         <span class="kr">if</span> <span class="n">From</span><span class="p">.</span><span class="n">Deal_Next</span> <span class="o">&lt;</span> <span class="n">Deck_Index</span><span class="p">&#39;</span><span class="na">Last</span> <span class="kr">then</span>
            <span class="n">From</span><span class="p">.</span><span class="n">Deal_Next</span> <span class="p">:=</span> <span class="n">From</span><span class="p">.</span><span class="n">Deal_Next</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
         <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">else</span>
         <span class="kr">raise</span> <span class="n">Deck_Empty</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Deal</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">Cards_Left</span><span class="p">(</span><span class="nv">In_Deck</span> <span class="p">: </span><span class="nv">Deck</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">In_Deck</span><span class="p">.</span><span class="n">Num_Left</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Cards_Left</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Cards</span><span class="p">;</span>
<span class="c1">------------------</span>

<span class="c1">-- @@PLEAC@@_12.5</span>
<span class="c1">------------------</span>
<span class="c1">-- Not possible in Ada. All such determinations are done at compile time</span>
<span class="c1">------------------</span>


<span class="c1">-- @@PLEAC@@_13.0</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada separates aspects of classes into packages, for encapsulation, and</span>
<span class="c1">-- tagged types, for type inheritance and type expansion.</span>
<span class="c1">-- Ada does not have constructors or destructors.</span>

<span class="kn">with</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span>

<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Creating an instance of a class</span>

<span class="n">Charley</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>

<span class="c1">-- Using a class</span>

<span class="n">SetName</span><span class="p">(</span><span class="n">Charley</span><span class="p">,</span> <span class="s">&quot;Charles&quot;</span><span class="p">);</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">Charley</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>

<span class="n">Put_Line</span><span class="p">(</span><span class="n">GetName</span><span class="p">(</span><span class="n">Charley</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; is &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">GetAge</span><span class="p">(</span><span class="n">Charley</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot; years old.&quot;</span><span class="p">);</span>
<span class="c1">-- Charles is 15 years old.</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.1</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Objects can be constructed on the stack, or dynamically</span>

<span class="c1">-- Constructing an object on the stack</span>
<span class="n">Student</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>

<span class="c1">-- Constructing an object dynamically</span>
<span class="kd">type</span> <span class="kt">Person_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Person</span><span class="p">;</span>

<span class="n">Student_P</span> <span class="p">:</span> <span class="n">Person_Ptr</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Person</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.2</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Only dynamically allocated objects need to be destroyed.</span>
<span class="c1">-- Instantiate an instance of Unchecked_Deallocation for the type</span>

<span class="kd">procedure</span> <span class="nf">free</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Ada</span><span class="p">.</span><span class="n">Unchecked_Deallocation</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">Person_Ptr</span><span class="p">);</span>

<span class="n">Student_P</span> <span class="p">:</span> <span class="n">Person_Ptr</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Person</span><span class="p">;</span>

<span class="n">free</span><span class="p">(</span><span class="n">Student_p</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.3</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Public instance data can be accessed directly</span>
<span class="c1">-- Private instance data can only be accessed directly by subprograms defined</span>
<span class="c1">-- in the same package as the type definition.</span>

<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.4</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Class data is defined in the package body, and is not accessable by any</span>
<span class="c1">-- subprograms outside the package body.</span>
<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Counters</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Modular_Counter</span> <span class="kr">is</span> <span class="ow">mod</span> <span class="mi">100</span><span class="p">;</span>
   <span class="n">Internal_Counter</span> <span class="p">:</span> <span class="n">Modular_Counter</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="c1">--....</span>
<span class="kr">end</span> <span class="nf">Counters</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>


<span class="c1">-- @@PLEAC@@_13.5</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada allows public definition of records without tags.</span>
<span class="c1">-- These approximate structs in C.</span>

<span class="kd">package</span> <span class="nc">Complex_Nums</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Complex_Number</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Real</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
      <span class="n">Imaginary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Complex_Nums</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.6</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- cloning dynamically allocated objects</span>
<span class="n">P1</span> <span class="p">:</span> <span class="kr">new</span> <span class="n">Person_Ptr</span><span class="p">;</span>
<span class="n">P2</span> <span class="p">:</span> <span class="kr">new</span> <span class="n">Person_Ptr</span><span class="p">;</span>
<span class="n">P2</span><span class="p">.</span><span class="kr">all</span> <span class="p">:=</span> <span class="n">P1</span><span class="p">.</span><span class="kr">all</span><span class="p">;</span>

<span class="c1">-- cloning stack based objects</span>
<span class="n">P1</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>
<span class="n">P2</span> <span class="p">:</span> <span class="n">Person</span> <span class="p">:=</span> <span class="n">P1</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.7</span>


<span class="c1">-- @@PLEAC@@_13.8</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Salaried_Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Employee</span> <span class="kr">with</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Person_Pointer</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Person</span><span class="p">&#39;</span><span class="na">Class</span><span class="p">;</span>

<span class="n">P</span> <span class="p">:</span> <span class="n">Person_Pointer</span><span class="p">;</span>

<span class="kr">if</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">Employee</span> <span class="kr">then</span>
   <span class="c1">-- P points to a member of Employee or Salaried_Employee</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.9</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">Dude</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>
<span class="n">SetName</span><span class="p">(</span><span class="n">Dude</span><span class="p">,</span> <span class="s">&quot;Jason&quot;</span><span class="p">);</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">Dude</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- inheriting from Person</span>
<span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kr">record</span>
   <span class="n">Salary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="kr">end record</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">emp1</span> <span class="p">:</span> <span class="n">Employee</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">SetName</span><span class="p">(</span><span class="n">emp1</span><span class="p">,</span> <span class="s">&quot;Jason&quot;</span><span class="p">);</span> <span class="c1">-- call the inherited procedures</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">emp1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>       <span class="c1">-- to access the inherited private fields</span>
<span class="n">emp1</span><span class="p">.</span><span class="n">Salary</span> <span class="p">:=</span> <span class="mf">200.0</span><span class="p">;</span> <span class="c1">-- access the public salary field</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="n">GetName</span><span class="p">(</span><span class="n">emp1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; is age &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">GetAge</span><span class="p">(</span><span class="n">emp1</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot;, the salary is &quot;</span> <span class="o">&amp;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">emp1</span><span class="p">.</span><span class="n">Salary</span><span class="p">));</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada does not provide any built in tagged types</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.10</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">package</span> <span class="nc">Employees</span> <span class="kr">is</span>
   <span class="kd">subtype</span> <span class="kt">Title_String</span> <span class="kr">is</span> <span class="kt">string</span><span class="p">(</span><span class="nv">1</span><span class="p">..</span><span class="nv">20</span><span class="p">);</span>
   <span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kr">record</span>
      <span class="n">Salary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Title</span>  <span class="p">:</span> <span class="n">Title_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Employee</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Employees</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Employees</span> <span class="kr">is</span>
   <span class="kd">function</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Employee</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="c1">-- call the inherited GetName function:</span>
      <span class="kr">return</span> <span class="n">GetName</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">Subject</span><span class="p">))</span> <span class="o">&amp;</span> <span class="s">&quot; : &quot;</span> <span class="o">&amp;</span> <span class="n">Title</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Employees</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>

<span class="c1">-- @@PLEAC@@_13.14</span>
<span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Nums_Array</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="c1">-- Overload the &quot;+&quot; operator to allow addition of integers and items of</span>
<span class="c1">-- type Num_Array</span>

<span class="kd">function</span> <span class="nf">&quot;+&quot;</span> <span class="p">(</span><span class="nv">left</span> <span class="p">: </span><span class="nv">Num_Array</span><span class="p">;</span> <span class="nv">Right</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Num_Array</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">&quot;+&quot;</span> <span class="p">(</span><span class="nv">left</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">Right</span> <span class="p">: </span><span class="nv">Num_Array</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Num_Array</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>
</pre></div>
</body>
</html>
