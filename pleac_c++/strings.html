<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Strings</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-C++/STL/Boost"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="PLEAC-C++/STL/Boost"
HREF="index.html"><LINK
REL="NEXT"
TITLE="Numbers"
HREF="numbers.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-C++/STL/Boost</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="index.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="numbers.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="STRINGS"
>1. Strings</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN14"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// NOTE: Whilst it is perfectly valid to use Standard C Library, or GNU</span>
<span class="c1">// C Library, routines in C++ programs, the code examples here will, as</span>
<span class="c1">// far as possible, avoid doing so, instead using C++-specific functionality</span>
<span class="c1">// and idioms. In general:</span>
<span class="c1">// * I/O will be iostream-based [i.e. no &#39;scanf&#39;, &#39;printf&#39;, &#39;fgets&#39; etc]</span>
<span class="c1">// * Container / iterator idioms based on the Standard Template Library [STL]</span>
<span class="c1">//   will replace the built-in array / raw pointer idioms typically used in C</span>
<span class="c1">// * Boost Library functionality utilised wherever possible [the reason for</span>
<span class="c1">//   this is that much of this functionality is likely to appear in the next</span>
<span class="c1">//   C++ standard]</span>
<span class="c1">// * Error detection/handling will generally be exception-based [this is done</span>
<span class="c1">//   to keep examples simple. Exception use is optional in C++, and is not as</span>
<span class="c1">//   pervasive as it is in other languages like Java or C#]</span>
<span class="c1">// C-based solution(s) to problem(s) will be found in the corresponding section</span>
<span class="c1">// of PLEAC-C/Posix/GNU.</span>
 
<span class="c1">// In C++, one can use the builtin &#39;char *&#39; type or the &#39;string&#39; type</span>
<span class="c1">// to represent strings.  In this section, we will work with the C++</span>
<span class="c1">// library &#39;string&#39; class.</span>

<span class="c1">// Characteristics of &#39;string&#39; types:</span>
<span class="c1">// - may be of any length</span>
<span class="c1">// - are defined within the std namespace</span>
<span class="c1">// - can be converted to a &#39;const char *&#39; using std::string::c_str()</span>
<span class="c1">// - can be subscripted to access individual characters (e.g., str[3]</span>
<span class="c1">//   returns the 4th character of the string</span>
<span class="c1">// - memory associated with strings is reclaimed automatically as strings</span>
<span class="c1">//   go out of scope</span>
<span class="c1">// - strings cannot be used as true/false values (i.e., the following is not</span>
<span class="c1">//   allowed:  string s; if (s) {})</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Before using strings, you must include the &lt;string&gt; header file</span>
<span class="cp">#include &lt;string&gt;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// To create a literal strings, you must use double quotes (&quot;).  You cannot</span>
<span class="c1">// use single quotes. </span>

<span class="c1">//-----------------------------</span>
<span class="c1">// String variables must be declared -- if no value is given it&#39;s</span>
<span class="c1">// value is the empty string (&quot;&quot;). </span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// To insert special characters, quote the character with \</span>
<span class="c1">std::string s1 = &quot;\\n&quot;;                     // Two characters, \ and n</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;Jon </span><span class="se">\&quot;</span><span class="s">Maddog</span><span class="se">\&quot;</span><span class="s"> Orwant&quot;</span><span class="p">;</span>   <span class="c1">// Literal double quotes</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Strings can be declared in one of two ways</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">&quot;assignment syntax&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s2</span><span class="p">(</span><span class="s">&quot;constructor syntax&quot;</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Multi-line strings.</span>
<span class="c1">// There is no equivalent to perl&#39;s &quot;here&quot; documents in c++</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">&quot;</span>
<span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">multiline</span> <span class="n">string</span> <span class="n">started</span> <span class="n">and</span> <span class="n">finished</span> <span class="n">with</span> <span class="kt">double</span> 
<span class="n">quotes</span> <span class="n">that</span> <span class="n">spans</span> <span class="mi">4</span> <span class="n">lines</span> <span class="p">(</span><span class="n">it</span> <span class="n">contains</span> <span class="mi">3</span> <span class="n">newline</span> <span class="n">characters</span><span class="p">).</span>
<span class="s">&quot;;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;This is a multiline string started and finished with double </span>
<span class="n">quotes</span> <span class="n">that</span> <span class="n">spans</span> <span class="mi">2</span> <span class="n">lines</span> <span class="p">(</span><span class="n">it</span> <span class="n">contains</span> <span class="mi">1</span> <span class="n">newline</span> <span class="n">character</span><span class="p">).</span><span class="s">&quot;;</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN17"
>Accessing Substrings</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;some string&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">value1</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">length</span><span class="p">);</span>  
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">value2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">offset</span><span class="p">);</span>

<span class="c1">// Unlike perl, the substr function returns a copy of the substring</span>
<span class="c1">// rather than a reference to the existing substring, thus using substr</span>
<span class="c1">// on the left hand side of an assignment statement will not modify </span>
<span class="c1">// the original string.  To get this functionality, you can use the</span>
<span class="c1">// std::string::replace function.</span>

<span class="c1">// Using offsets and lengths</span>
<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">newstring</span><span class="p">);</span>  
<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="n">offset</span><span class="p">,</span> <span class="n">newtail</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// The C++ string class doesn&#39;t have anything equivalent to perl&#39;s unpack.</span>
<span class="c1">// Instead, one can use C structures to import/export binary data</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;This is what you have&quot;</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">first</span>  <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>          <span class="c1">// &quot;T&quot;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">second</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>          <span class="c1">// &quot;is&quot;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">rest</span>   <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>            <span class="c1">// &quot;you have&quot;</span>

<span class="c1">// C++ strings do not support backwards indexing as perl does but </span>
<span class="c1">// you can fake it out by subtracting the negative index from the</span>
<span class="c1">// string length</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">last</span>   <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>    <span class="c1">// &quot;e&quot;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">end</span>    <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>    <span class="c1">// &quot;have&quot;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">piece</span>  <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// &quot;you&quot;</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>

<span class="n">string</span> <span class="nf">s</span><span class="p">(</span><span class="s">&quot;This is what you have&quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> 
<span class="c1">// This is what you have</span>

<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;wasn&#39;t&quot;</span><span class="p">);</span>                <span class="c1">// change &quot;is to &quot;wasn&#39;t&quot;</span>
<span class="c1">// This wasn&#39;t what you have</span>

<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;ondrous&quot;</span><span class="p">);</span> <span class="c1">// &quot;This wasn&#39;t wondrous&quot;</span>
<span class="c1">// This wasn&#39;t wonderous</span>

<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">);</span>                    <span class="c1">// delete first character</span>
<span class="c1">// his wasn&#39;t wondrous</span>

<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">);</span>        <span class="c1">// delete last 10 characters</span>
<span class="c1">// his wasn&#39;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// C++ does not have built-in support for the perl s///, m//, and tr/// </span>
<span class="c1">// operators; however, similar results can be achieved in at least </span>
<span class="c1">// two ways:</span>
<span class="c1">// - string operations such as string::find, string::rfind, etc.</span>
<span class="c1">// - the boost regular expression library (regex++) supports perl</span>
<span class="c1">//   regular expression syntax.</span>
<span class="c1">// TODO:  Add examples of each.</span>

<span class="c1">// MISSING: if (substr($string, -10) =~ /pattern/) {</span>
<span class="c1">//            print &quot;Pattern matches in last 10 characters\n&quot;;</span>
<span class="c1">//          }</span>

<span class="c1">// MISSING: substr($string, 0, 5) =~ s/is/at/g;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// exchange the first and last letters in a string using substr and replace</span>
<span class="n">string</span> <span class="n">a</span> <span class="o">=</span> <span class="s">&quot;make a hat&quot;</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">first</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">last</span>  <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>

<span class="n">a</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">last</span><span class="p">);</span>
<span class="n">a</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">first</span><span class="p">);</span>

<span class="c1">// exchange the first and last letters in a string using indexing and swap</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN20"
>Establishing a Default Value</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// C++ doesn&#39;t have functionality equivalent to the || and ||=.  </span>
<span class="c1">// If statements and trigraphs can be used instead.</span>
<span class="c1">//-----------------------------</span>
<span class="c1">// C++ doesn&#39;t have anything equivalent &quot;defined&quot;.  C++ variables</span>
<span class="c1">// cannot be used at all if they have not previously been defined.</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Use b if b is not empty, else c</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">?</span> <span class="n">b</span> <span class="o">:</span> <span class="n">c</span><span class="p">;</span>  

<span class="c1">// Set x to y unless x is not empty</span>
<span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">foo</span> <span class="o">=</span> <span class="p">(</span><span class="o">!</span><span class="n">bar</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="o">?</span> <span class="n">bar</span> <span class="o">:</span> <span class="s">&quot;DEFAULT VALUE&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// NOTE: argv is declared as char *argv[] in C/C++.  We assume</span>
<span class="c1">// the following code surrounds the following examples that deal</span>
<span class="c1">// with argv.  Also, arguments to a program start at argv[1] -- argv[0]</span>
<span class="c1">// is the name of the executable that&#39;s running.</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="o">**</span><span class="n">args</span> <span class="o">=</span> <span class="n">argv</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// +1 skips argv[0], the name of the executable</span>
   <span class="c1">// examples</span>
<span class="p">}</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">dir</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">?</span> <span class="o">*</span><span class="n">argv</span><span class="o">++</span> <span class="o">:</span> <span class="s">&quot;/tmp&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">?</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s">&quot;/tmp&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">dir</span> <span class="o">=</span> <span class="p">(</span><span class="n">argc</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s">&quot;/tmp&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;map&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">count</span><span class="p">;</span>

<span class="n">count</span><span class="p">[</span><span class="n">shell</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">?</span> <span class="n">shell</span> <span class="o">:</span> <span class="s">&quot;/bin/sh&quot;</span><span class="p">]</span><span class="o">++</span><span class="p">;</span> 

<span class="c1">//-----------------------------</span>
<span class="c1">// find the user name on Unix systems</span>
<span class="c1">// TODO:  Simplify.  This is too ugly and complex</span>
<span class="cp">#include &lt;sys/types.h&gt;</span>
<span class="cp">#include &lt;unistd.h&gt;</span>
<span class="cp">#include &lt;pwd.h&gt;</span>
<span class="cp">#include &quot;boost/lexical_cast.hpp&quot;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">user</span><span class="p">;</span>
<span class="kt">char</span>       <span class="o">*</span><span class="n">msg</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">passwd</span>     <span class="o">*</span><span class="n">pwd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">msg</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="s">&quot;USER&quot;</span><span class="p">))</span>    <span class="o">||</span>
     <span class="p">(</span><span class="n">msg</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="s">&quot;LOGNAME&quot;</span><span class="p">))</span> <span class="o">||</span>
     <span class="p">(</span><span class="n">msg</span> <span class="o">=</span> <span class="n">getlogin</span><span class="p">())</span>        <span class="p">)</span>
  <span class="n">user</span> <span class="o">=</span> <span class="n">msg</span><span class="p">;</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">pwd</span> <span class="o">=</span> <span class="n">getpwuid</span><span class="p">(</span><span class="n">getuid</span><span class="p">()))</span>
  <span class="n">user</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">-&gt;</span><span class="n">pw_name</span><span class="p">;</span>
<span class="k">else</span>
  <span class="n">user</span> <span class="o">=</span> <span class="s">&quot;Unknown uid number &quot;</span> <span class="o">+</span> <span class="n">boost</span><span class="o">::</span><span class="n">lexical_cast</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">getuid</span><span class="p">());</span>

<span class="c1">//-----------------------------</span>
<span class="k">if</span> <span class="p">(</span><span class="n">starting_point</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="n">starting_point</span> <span class="o">=</span> <span class="s">&quot;Greenwich&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Example using list.  Other C++ STL containers work similarly.</span>
<span class="cp">#include &lt;list&gt;</span>
<span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>     <span class="c1">// copy only if a is empty</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="o">!</span><span class="n">b</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="o">?</span> <span class="n">b</span> <span class="o">:</span> <span class="n">c</span><span class="p">;</span> <span class="c1">// asign b if b nonempty, else c</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN23"
>Exchanging Values Without Using Temporary Variables</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>  

<span class="c1">//-----------------------------</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="n">a</span>    <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span>    <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">a</span><span class="p">(</span><span class="s">&quot;alpha&quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">b</span><span class="p">(</span><span class="s">&quot;omega&quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// The ability to exchange more than two variables at once is not </span>
<span class="c1">// built into the C++ language or C++ standard libraries.  However, you</span>
<span class="c1">// can use the boost tuple library to accomplish this.</span>
<span class="cp">#include &lt;boost/tuple/tuple.hpp&gt;</span>

<span class="n">boost</span><span class="o">::</span><span class="n">tie</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">production</span><span class="p">)</span> 
          <span class="o">=</span> <span class="n">boost</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="s">&quot;January&quot;</span><span class="p">,</span> <span class="s">&quot;March&quot;</span><span class="p">,</span> <span class="s">&quot;August&quot;</span><span class="p">);</span>
<span class="c1">// move beta       to alpha,</span>
<span class="c1">// move production to beta,</span>
<span class="c1">// move alpha      to production</span>
<span class="n">boost</span><span class="o">::</span><span class="n">tie</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">production</span><span class="p">)</span> 
          <span class="o">=</span> <span class="n">boost</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">beta</span><span class="p">,</span> <span class="n">production</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN26"
>Converting Between ASCII Characters and Values</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// There are several ways to convert between characters</span>
<span class="c1">// and integers.  The examples assume the following declarations:</span>
<span class="kt">char</span> <span class="n">ch</span><span class="p">;</span>
<span class="kt">int</span>  <span class="n">num</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Using implicit conversion</span>
<span class="n">num</span> <span class="o">=</span> <span class="n">ch</span><span class="p">;</span>
<span class="n">ch</span>  <span class="o">=</span> <span class="n">num</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// New-style C++ casts</span>
<span class="n">ch</span>  <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="n">num</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Old-style C casts</span>
<span class="n">ch</span>  <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="n">num</span><span class="p">;</span>
<span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">ch</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Using the C++ stringstream class</span>
<span class="cp">#include &lt;sstream&gt;       </span><span class="c1">// On some older compilers, use &lt;strstream&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">stringstream</span> <span class="n">a</span><span class="p">;</span>     <span class="c1">// On some older compilers, use std::strstream</span>

<span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">ch</span><span class="p">;</span>                 <span class="c1">// Append character to a string</span>
<span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">num</span><span class="p">;</span>                <span class="c1">// Output character as a number</span>

<span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">num</span><span class="p">;</span>                <span class="c1">// Append number to a string</span>
<span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">ch</span><span class="p">;</span>                 <span class="c1">// Output number as a character</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Using sprintf, printf</span>
<span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>             <span class="c1">// Has to be length 2 to have room for NULL character</span>
<span class="n">sprintf</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">&quot;%c&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Number %d is character %c</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="kt">int</span>  <span class="n">ascii_value</span> <span class="o">=</span> <span class="sc">&#39;e&#39;</span><span class="p">;</span>   <span class="c1">// now 101</span>
<span class="kt">char</span> <span class="n">character</span>   <span class="o">=</span> <span class="mi">101</span><span class="p">;</span>   <span class="c1">// now &#39;e&#39;</span>

<span class="c1">//-----------------------------</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Number %d is character %c</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">101</span><span class="p">);</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Convert from HAL to IBM, character by character</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ibm</span><span class="p">,</span> <span class="n">hal</span> <span class="o">=</span> <span class="s">&quot;HAL&quot;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">hal</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">ibm</span> <span class="o">+=</span> <span class="n">hal</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>          <span class="c1">// Add one to each ascii value</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ibm</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>          <span class="c1">// prints &quot;IBM&quot;</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Convert hal from HAL to IBM</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;functional&gt;         </span><span class="c1">// For bind1st and plus&lt;&gt;</span>
<span class="cp">#include &lt;algorithm&gt;          </span><span class="c1">// For transform </span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">hal</span> <span class="o">=</span> <span class="s">&quot;HAL&quot;</span><span class="p">;</span>   
<span class="n">transform</span><span class="p">(</span><span class="n">hal</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">hal</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">hal</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span>
          <span class="n">bind1st</span><span class="p">(</span><span class="n">plus</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(),</span><span class="mi">1</span><span class="p">));</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">hal</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>          <span class="c1">// prints &quot;IBM&quot;</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN29"
>Processing a String One Character at a Time</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// Since C++ strings can be accessed one character at a time,</span>
<span class="c1">// there&#39;s no need to do any processing on the string to convert</span>
<span class="c1">// it into an array of characters.  </span>
<span class="cp">#include &lt;string&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>

<span class="c1">// Accessing characters using for loop and integer offsets</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with s[i]</span>
<span class="p">}</span>

<span class="c1">// Accessing characters using iterators</span>
<span class="k">for</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">iterator</span> <span class="n">i</span><span class="o">=</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">i</span><span class="o">!=</span><span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with *i</span>
<span class="p">}</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span>        <span class="n">str</span>  <span class="o">=</span> <span class="s">&quot;an apple a day&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">seen</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">iterator</span> <span class="n">i</span><span class="o">=</span><span class="n">str</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">i</span><span class="o">!=</span><span class="n">str</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
   <span class="n">seen</span><span class="p">[</span><span class="o">*</span><span class="n">i</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;unique chars are: &quot;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">i</span><span class="o">=</span><span class="n">seen</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">i</span><span class="o">!=</span><span class="n">seen</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// unique chars are:  adelnpy</span>

<span class="c1">//-----------------------------</span>
<span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">iterator</span> <span class="n">i</span><span class="o">=</span><span class="n">str</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">i</span><span class="o">!=</span><span class="n">str</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">sum</span> <span class="o">+=</span> <span class="o">*</span><span class="n">i</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;sum is &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// prints &quot;sum is 1248&quot; if str was &quot;an appla a day&quot;</span>


<span class="c1">//-----------------------------</span>
<span class="c1">// MISSING: sysv-like checksum program</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// slowcat, emulate a slow line printer</span>
<span class="cp">#include &lt;sys/time.h&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;fstream&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="n">timeval</span> <span class="n">delay</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50000</span> <span class="p">};</span>   <span class="c1">// Delay in { seconds, nanoseconds }</span>
  <span class="kt">char</span> <span class="o">**</span><span class="n">arg</span> <span class="o">=</span> <span class="n">argv</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>   
  <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">arg</span><span class="p">)</span> <span class="p">{</span>                  <span class="c1">// For each file</span>
    <span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">file</span><span class="p">(</span><span class="o">*</span><span class="n">arg</span><span class="o">++</span><span class="p">);</span>
    <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">flush</span><span class="p">();</span>
      <span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">delay</span><span class="p">);</span> 
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN32"
>Reversing a String by Word or Character</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;algorithm&gt;                  </span><span class="c1">// For reverse</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>

<span class="n">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;vector&gt;                    </span><span class="c1">// For std::vector</span>
<span class="cp">#include &lt;sstream&gt;                   </span><span class="c1">// On older compilers, use &lt;strstream&gt;</span>
<span class="cp">#include &quot;boost/regex.hpp&quot;           </span><span class="c1">// For boost::regex_split</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">words</span><span class="p">;</span>
<span class="n">boost</span><span class="o">::</span><span class="n">regex_split</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">back_inserter</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">str</span><span class="p">);</span>
<span class="n">reverse</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">words</span><span class="p">.</span><span class="n">end</span><span class="p">());</span> <span class="c1">// Reverse the order of the words</span>

<span class="n">std</span><span class="o">::</span><span class="n">stringstream</span> <span class="n">revwords</span><span class="p">;</span>          <span class="c1">// On older compilers, use strstream</span>
<span class="n">copy</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">words</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">ostream_inserter</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">revwords</span><span class="p">,</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">revwards</span><span class="p">.</span><span class="n">str</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">rts</span> <span class="o">=</span> <span class="n">str</span><span class="p">;</span>
<span class="n">reverse</span><span class="p">(</span><span class="n">rts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">rts</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>     <span class="c1">// Reverses letters in rts</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">words</span><span class="p">;</span>                  
<span class="n">reverse</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">words</span><span class="p">.</span><span class="n">end</span><span class="p">());</span> <span class="c1">// Reverses words in container</span>

<span class="c1">//-----------------------------</span>
<span class="c1">// Reverse word order</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Yoda said, &#39;can you see this?&#39;&quot;</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">allwords</span><span class="p">;</span>
<span class="n">boost</span><span class="o">::</span><span class="n">regex_split</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">back_inserter</span><span class="p">(</span><span class="n">allwords</span><span class="p">),</span> <span class="n">s</span><span class="p">);</span>

<span class="n">reverse</span><span class="p">(</span><span class="n">allwords</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">allwords</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    
<span class="n">std</span><span class="o">::</span><span class="n">stringstream</span> <span class="n">revwords</span><span class="p">;</span>          <span class="c1">// On older compilers, use strstream</span>
<span class="n">copy</span><span class="p">(</span><span class="n">allwords</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">allwords</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">ostream_inserter</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">revwords</span><span class="p">,</span><span class="s">&quot; &quot;</span><span class="p">));</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">revwards</span><span class="p">.</span><span class="n">str</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// this?&#39; see you &#39;can said, Yoda</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">word</span>  <span class="o">=</span> <span class="s">&quot;reviver&quot;</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">is_palindrome</span> <span class="o">=</span> <span class="n">equal</span><span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">word</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">word</span><span class="p">.</span><span class="n">rbegin</span><span class="p">());</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;ifstream&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">dict</span><span class="p">(</span><span class="s">&quot;/usr/dict/words&quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">word</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">dict</span><span class="p">,</span><span class="n">word</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">equal</span><span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">word</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">word</span><span class="p">.</span><span class="n">rbegin</span><span class="p">())</span> <span class="o">&amp;&amp;</span>
        <span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">word</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN35"
>Expanding and Compressing Tabs</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="cp">#include &lt;string&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">size_type</span> <span class="n">pos</span><span class="p">;</span>
<span class="k">while</span> <span class="p">((</span><span class="n">pos</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">))</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span>
    <span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">string</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">,</span><span class="mi">8</span><span class="o">-</span><span class="n">pos</span><span class="o">%</span><span class="mi">8</span><span class="p">));</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN38"
>Expanding Variables in User Input</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// Not applicable to C++</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN41"
>Controlling Case</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// TODO:  Fix to be more like cookbook</span>
<span class="c1">// TODO:  Modify/add code to do this with locales</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">phrase</span> <span class="o">=</span> <span class="s">&quot;bo peep&quot;</span><span class="p">;</span>
<span class="n">transform</span><span class="p">(</span><span class="n">phrase</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">phrase</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">phrase</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">toupper</span><span class="p">);</span>
<span class="c1">// &quot;BO PEEP&quot;</span>
<span class="n">transform</span><span class="p">(</span><span class="n">phrase</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">phrase</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">phrase</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">tolower</span><span class="p">);</span>
<span class="c1">// &quot;bo peep&quot;</span>
<span class="c1">//-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN44"
>Interpolating Functions and Expressions Within Strings</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// C++ does not provide support for perl-like in-string interpolation,</span>
<span class="c1">// concatenation must be used instead.</span>

<span class="cp">#include &lt;string&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">answer</span> <span class="o">=</span> <span class="n">var1</span> <span class="o">+</span> <span class="n">func</span><span class="p">()</span> <span class="o">+</span> <span class="n">var2</span><span class="p">;</span>  <span class="c1">// func returns string or char *</span>

<span class="c1">//-----------------------------</span>
<span class="cp">#include &quot;boost/lexical_cast.hpp&quot;</span>

<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">phrase</span> <span class="o">=</span> <span class="s">&quot;I have &quot;</span> <span class="o">+</span> <span class="n">boost</span><span class="o">::</span><span class="n">lexical_cast</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; guanacos.&quot;</span><span class="p">;</span>

<span class="c1">//-----------------------------</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;I have &quot;</span> <span class="o">+</span> <span class="n">boost</span><span class="o">::</span><span class="n">lexical_cast</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; guanacos.&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN47"
>Indenting Here Documents</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">//-----------------------------</span>
<span class="c1">// C++ does not have &quot;here documents&quot;.</span>
<span class="c1">// TODO: Lots more.</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &quot;boost/regex.hpp&quot;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">var</span> <span class="o">=</span> <span class="s">&quot;</span>
   <span class="n">your</span> <span class="n">text</span>
   <span class="n">goes</span> <span class="n">here</span><span class="p">.</span>
<span class="s">&quot;;</span>

<span class="n">boost</span><span class="o">::</span><span class="n">regex</span> <span class="n">ex</span><span class="p">(</span><span class="s">&quot;^</span><span class="se">\\</span><span class="s">s+&quot;</span><span class="p">);</span>
<span class="n">var</span> <span class="o">=</span> <span class="n">boost</span><span class="o">::</span><span class="n">regex_merge</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">ex</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN50"
>Reformatting Paragraphs</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN53"
>Escaping Characters</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN56"
>Trimming Blanks from the Ends of a String</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN59"
>Parsing Comma-Separated Data</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN62"
>Soundex Matching</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN65"
>Program: fixstyle</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN68"
>Program: psgrep</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="numbers.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PLEAC-C++/STL/Boost</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Numbers</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>