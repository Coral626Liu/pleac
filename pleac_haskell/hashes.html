<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Hashes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Haskell"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Arrays"
HREF="arrays.html"><LINK
REL="NEXT"
TITLE="Pattern Matching"
HREF="patternmatching.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Haskell</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="arrays.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="patternmatching.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="HASHES"
>5. Hashes</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN232"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- using simple association list</span>
<span class="nf">age</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Nat&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
      <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Jules&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
      <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Josh&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span> <span class="p">]</span>

<span class="c1">-- access by key:</span>
<span class="kt">Just</span> <span class="n">jules_age</span> <span class="ow">=</span> <span class="n">lookup</span> <span class="s">&quot;Jules&quot;</span> <span class="n">age</span>    <span class="c1">-- 25</span>

<span class="c1">-- using Data.Map</span>
<span class="kr">import</span> <span class="k">qualified</span> <span class="nn">Data.Map</span> <span class="k">as</span> <span class="n">Map</span>
<span class="nf">age</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">fromList</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Nat&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
		   <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Jules&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
		   <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Josh&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span> <span class="p">]</span>

<span class="c1">-- access by key:</span>
<span class="nf">jules_age&#39;</span> <span class="ow">=</span> <span class="n">age&#39;</span> <span class="kt">Map</span><span class="o">.!</span> <span class="s">&quot;Jules&quot;</span>   <span class="c1">-- 25</span>

<span class="c1">-- same, incrementally</span>
<span class="nf">age1</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">empty</span>
<span class="nf">age2</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">insert</span> <span class="s">&quot;Nat&quot;</span>   <span class="mi">24</span> <span class="n">age1</span>
<span class="nf">age3</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">insert</span> <span class="s">&quot;Jules&quot;</span> <span class="mi">25</span> <span class="n">age2</span>
<span class="nf">age4</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">insert</span> <span class="s">&quot;Josh&quot;</span>  <span class="mi">17</span> <span class="n">age3</span>
<span class="c1">-- =&gt; Map.fromList [(&quot;Josh&quot;,17),(&quot;Jules&quot;,25),(&quot;Nat&quot;,24)]</span>

<span class="nf">food_color</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Apple&quot;</span> <span class="p">,</span> <span class="s">&quot;red&quot;</span><span class="p">)</span>
	     <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Banana&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">)</span>
	     <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Lemon&quot;</span> <span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">)</span>
	     <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Carrot&quot;</span><span class="p">,</span> <span class="s">&quot;orange&quot;</span><span class="p">)</span> <span class="p">]</span>

<span class="nf">food_color&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">fromList</span> <span class="n">food_color</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN235"
>Adding an Element to a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">food_color2</span> <span class="ow">=</span> <span class="p">(</span><span class="s">&quot;Raspberry&quot;</span><span class="p">,</span> <span class="s">&quot;pink&quot;</span><span class="p">)</span> <span class="kt">:</span> <span class="n">food_color</span>

<span class="nf">t</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Know foods: &quot;</span> <span class="o">++</span> <span class="n">unwords</span> <span class="p">(</span><span class="n">map</span> <span class="n">fst</span> <span class="n">food_color2</span><span class="p">)</span>
<span class="c1">-- =&gt; Know foods: Raspberry Apple Banana Lemon Carrot</span>

<span class="c1">-- nb: it doesn&#39;t remove duplicates</span>
<span class="nf">food_color3</span> <span class="ow">=</span> <span class="p">(</span><span class="s">&quot;Raspberry&quot;</span><span class="p">,</span> <span class="s">&quot;red&quot;</span><span class="p">)</span> <span class="kt">:</span> <span class="n">food_color2</span>
<span class="c1">-- =&gt; [ (&quot;Raspberry&quot;,&quot;red&quot;), (&quot;Raspberry&quot;,&quot;pink&quot;), (&quot;Apple&quot;,&quot;red&quot;), ... ]</span>
<span class="c1">-- (see section &quot;Finding Common or Different Keys in Two Hashes&quot; for a solution removing duplicates)</span>


<span class="c1">-- same using Data.Map</span>
<span class="nf">food_color2&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">insert</span> <span class="s">&quot;Raspberry&quot;</span> <span class="s">&quot;pink&quot;</span> <span class="n">food_color&#39;</span>

<span class="nf">t&#39;</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Know foods: &quot;</span> <span class="o">++</span> <span class="n">unwords</span> <span class="p">(</span><span class="kt">Map</span><span class="o">.</span><span class="n">keys</span> <span class="n">food_color2&#39;</span><span class="p">)</span>
<span class="c1">-- =&gt; Know foods: Apple Banana Carrot Lemon Raspberry</span>

<span class="c1">-- nb: it does remove duplicates</span>
<span class="nf">food_color3&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">insert</span> <span class="s">&quot;Raspberry&quot;</span> <span class="s">&quot;red&quot;</span> <span class="n">food_color2&#39;</span>
<span class="c1">-- Map.fromList [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Raspberry&quot;,&quot;red&quot;)]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN238"
>Testing for the Presence of a Key in a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">s</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">describe</span> <span class="p">[</span><span class="s">&quot;Banana&quot;</span><span class="p">,</span> <span class="s">&quot;Martini&quot;</span><span class="p">]</span>
    <span class="kr">where</span> <span class="n">describe</span> <span class="n">name</span> <span class="ow">=</span> <span class="n">name</span> <span class="o">++</span> <span class="s">&quot; is a &quot;</span> <span class="o">++</span> <span class="n">kind</span> <span class="n">name</span> <span class="o">++</span> <span class="s">&quot;.&quot;</span>
          <span class="n">kind</span> <span class="n">name</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">isJust</span> <span class="p">(</span><span class="n">lookup</span> <span class="n">name</span> <span class="n">food_color</span><span class="p">)</span> <span class="kr">then</span> <span class="s">&quot;food&quot;</span> <span class="kr">else</span> <span class="s">&quot;drink&quot;</span>
<span class="c1">-- =&gt; [&quot;Banana is a food.&quot;,&quot;Martini is a drink.&quot;]</span>

<span class="c1">--   isJust (lookup name food_color)   </span>
<span class="c1">-- can be replaced by</span>
<span class="c1">--   name `elem` map fst food_color</span>

<span class="c1">-- for Data.Map, replace (isJust . lookup) with Map.member:</span>
<span class="nf">s&#39;</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">describe</span> <span class="p">[</span><span class="s">&quot;Banana&quot;</span><span class="p">,</span> <span class="s">&quot;Martini&quot;</span><span class="p">]</span>
    <span class="kr">where</span> <span class="n">describe</span> <span class="n">name</span> <span class="ow">=</span> <span class="n">name</span> <span class="o">++</span> <span class="s">&quot; is a &quot;</span> <span class="o">++</span> <span class="n">kind</span> <span class="n">name</span> <span class="o">++</span> <span class="s">&quot;.&quot;</span>
          <span class="n">kind</span> <span class="n">name</span> <span class="ow">=</span> <span class="kr">if</span> <span class="kt">Map</span><span class="o">.</span><span class="n">member</span> <span class="n">name</span> <span class="n">food_color&#39;</span> <span class="kr">then</span> <span class="s">&quot;food&quot;</span> <span class="kr">else</span> <span class="s">&quot;drink&quot;</span>
<span class="c1">-- =&gt; [&quot;Banana is a food.&quot;,&quot;Martini is a drink.&quot;]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN241"
>Deleting from a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- removing key on association list is done with a simple filter:</span>
<span class="nf">food_color2</span> <span class="ow">=</span> <span class="n">filter</span> <span class="p">((</span><span class="o">/=</span> <span class="s">&quot;Banana&quot;</span><span class="p">)</span> <span class="o">.</span> <span class="n">fst</span><span class="p">)</span> <span class="n">food_color</span>

<span class="nf">print_foods</span> <span class="n">foods</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Keys: &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">unwords</span> <span class="o">$</span> <span class="n">map</span> <span class="n">fst</span> <span class="n">foods</span><span class="p">)</span>
                       <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Values: &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">unwords</span> <span class="o">$</span> <span class="n">map</span> <span class="n">snd</span> <span class="n">foods</span><span class="p">)</span>

<span class="nf">before</span> <span class="ow">=</span> <span class="n">print_foods</span> <span class="n">food_color</span>
<span class="c1">-- Keys: Apple Banana Lemon Carrot</span>
<span class="c1">-- Values: red yellow yellow orange</span>
<span class="nf">after</span> <span class="ow">=</span> <span class="n">print_foods</span> <span class="n">food_color2</span>
<span class="c1">-- Keys: Apple Lemon Carrot</span>
<span class="c1">-- Values: red yellow orange</span>


<span class="c1">-- using Data.Map</span>
<span class="nf">food_color2&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">delete</span> <span class="s">&quot;Banana&quot;</span> <span class="n">food_color&#39;</span>

<span class="nf">print_foods&#39;</span> <span class="n">foods</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Keys: &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">unwords</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">keys</span> <span class="n">foods</span><span class="p">)</span>
                        <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Values: &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">unwords</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">elems</span> <span class="n">foods</span><span class="p">)</span>

<span class="nf">before&#39;</span> <span class="ow">=</span> <span class="n">print_foods&#39;</span> <span class="n">food_color&#39;</span>
<span class="c1">-- Keys: Apple Banana Carrot Lemon</span>
<span class="c1">-- Values: red yellow orange yellow</span>
<span class="nf">after&#39;</span> <span class="ow">=</span> <span class="n">print_foods&#39;</span> <span class="n">food_color2&#39;</span>
<span class="c1">-- Keys: Apple Carrot Lemon</span>
<span class="c1">-- Values: red orange yellow</span>

<span class="c1">-- to remove a list of keys, simply use foldr:</span>
<span class="nf">food_color3&#39;</span> <span class="ow">=</span> <span class="n">foldr</span> <span class="kt">Map</span><span class="o">.</span><span class="n">delete</span> <span class="n">food_color&#39;</span> <span class="p">[</span> <span class="s">&quot;Banana&quot;</span><span class="p">,</span> <span class="s">&quot;Apple&quot;</span><span class="p">,</span> <span class="s">&quot;Cabbage&quot;</span> <span class="p">]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN244"
>Traversing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">t</span>  <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="n">food_color</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Lemon is yellow&quot;,&quot;Carrot is orange&quot;]</span>
<span class="nf">t2</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="o">$</span> <span class="n">sort</span> <span class="n">food_color</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Carrot is orange&quot;,&quot;Lemon is yellow&quot;]</span>

<span class="c1">-- using Data.Map</span>
<span class="nf">t&#39;</span>  <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">assocs</span> <span class="n">food_color&#39;</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Carrot is orange&quot;,&quot;Lemon is yellow&quot;]</span>

<span class="nf">t2&#39;</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">format_it</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">assocs</span> <span class="n">food_color&#39;</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">=</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Carrot is orange&quot;,&quot;Lemon is yellow&quot;]</span>

<span class="c1">-- you can of course get keys first, and use Map.!</span>
<span class="nf">t2&#39;</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">format_it</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">keys</span> <span class="n">food_color&#39;</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="n">food</span> <span class="ow">=</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">food_color&#39;</span> <span class="kt">Map</span><span class="o">.!</span> <span class="n">food</span>

<span class="c1">-- countfrom - count number of messages from each sender</span>
<span class="o">#!/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">runghc</span>

<span class="kr">import</span> <span class="nn">System</span>
<span class="kr">import</span> <span class="nn">Maybe</span>
<span class="kr">import</span> <span class="nn">List</span>

<span class="nf">any_input</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="n">getContents</span>
<span class="nf">any_input</span> <span class="p">(</span><span class="n">f</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">readFile</span> <span class="n">f</span>

<span class="nf">get_senders</span> <span class="ow">=</span> <span class="n">catMaybes</span> <span class="o">.</span> <span class="n">map</span> <span class="n">get_sender</span>
    <span class="kr">where</span> <span class="n">get_sender</span> <span class="n">line</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">prefix</span> <span class="p">`</span><span class="n">isPrefixOf</span><span class="p">`</span> <span class="n">line</span> 
                            <span class="kr">then</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">drop</span> <span class="p">(</span><span class="n">length</span> <span class="n">prefix</span><span class="p">)</span> <span class="n">line</span><span class="p">)</span> 
                            <span class="kr">else</span> <span class="kt">Nothing</span>
          <span class="n">prefix</span> <span class="ow">=</span> <span class="s">&quot;From: &quot;</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">s</span> <span class="ow">&lt;-</span> <span class="n">getArgs</span> <span class="o">&gt;&gt;=</span> <span class="n">any_input</span>
          <span class="kr">let</span> <span class="n">senders</span> <span class="ow">=</span> <span class="n">group</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="n">get_senders</span> <span class="p">(</span><span class="n">lines</span> <span class="n">s</span><span class="p">)</span>
          <span class="n">mapM_</span> <span class="p">(</span><span class="n">putStrLn</span> <span class="o">.</span> <span class="n">format_it</span><span class="p">)</span> <span class="o">$</span> <span class="n">senders</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="n">froms</span><span class="o">@</span><span class="p">(</span><span class="n">name</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">name</span> <span class="o">++</span> <span class="s">&quot;: &quot;</span> <span class="o">++</span> <span class="n">show</span> <span class="p">(</span><span class="n">length</span> <span class="n">froms</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN247"
>Printing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- show gives a string representation</span>
<span class="nf">s</span> <span class="ow">=</span> <span class="n">show</span> <span class="n">food_color</span>
<span class="nf">t</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="n">s</span>
<span class="c1">-- =&gt; [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;)]</span>

<span class="nf">s2</span>  <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; =&gt; &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="n">food_color</span>
<span class="c1">-- see &quot;Traversing a Hash&quot; for more</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN250"
>Retrieving from a Hash in Insertion Order</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- association list as explained in previous sections keeps order</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN253"
>Hashes with Multiple Values Per Key</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- one can use simple list functions</span>
<span class="nf">lookupAll</span> <span class="n">k</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">snd</span> <span class="o">.</span> <span class="n">filter</span> <span class="p">((</span><span class="o">==</span> <span class="n">k</span><span class="p">)</span> <span class="o">.</span> <span class="n">fst</span><span class="p">)</span>

<span class="nf">color_to_foods</span> <span class="n">color</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">fst</span> <span class="o">$</span> <span class="n">filter</span> <span class="p">((</span><span class="o">==</span> <span class="n">color</span><span class="p">)</span> <span class="o">.</span> <span class="n">snd</span><span class="p">)</span> <span class="n">food_color</span>
<span class="nf">yellow_food</span> <span class="ow">=</span> <span class="n">color_to_foods</span> <span class="s">&quot;yellow&quot;</span> <span class="c1">-- [&quot;Banana&quot;,&quot;Lemon&quot;]</span>

<span class="c1">-- one can precompute it:</span>
<span class="nf">food_of_color</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">color</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">color_to_foods</span> <span class="n">color</span><span class="p">))</span> <span class="n">colors</span>
                <span class="kr">where</span> <span class="n">colors</span> <span class="ow">=</span> <span class="n">nub</span> <span class="p">(</span><span class="n">map</span> <span class="n">snd</span> <span class="n">food_color</span><span class="p">)</span>
<span class="c1">-- =&gt; [(&quot;red&quot;,[&quot;Apple&quot;]), (&quot;yellow&quot;,[&quot;Banana&quot;,&quot;Lemon&quot;]), (&quot;orange&quot;,[&quot;Carrot&quot;])]</span>
<span class="c1">-- then use it</span>
<span class="nf">yellow_food_</span> <span class="ow">=</span> <span class="n">fromMaybe</span> <span class="kt">[]</span> <span class="p">(</span><span class="n">lookup</span> <span class="s">&quot;yellow&quot;</span> <span class="n">food_of_color</span><span class="p">)</span>

<span class="c1">-- another way to pre-compute</span>
<span class="nf">assocListGroupByKey</span> <span class="ow">::</span> <span class="kt">Ord</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)]</span> <span class="ow">-&gt;</span> <span class="p">[(</span><span class="n">a</span><span class="p">,[</span><span class="n">b</span><span class="p">])]</span>
<span class="nf">assocListGroupByKey</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">factorize</span> <span class="o">.</span> <span class="n">groupBy</span> <span class="n">same_key</span> <span class="o">.</span> <span class="n">sortBy</span> <span class="p">(</span><span class="n">comparing</span> <span class="n">fst</span><span class="p">)</span>
    <span class="kr">where</span> <span class="n">factorize</span> <span class="n">l</span><span class="o">@</span><span class="p">((</span><span class="n">user</span><span class="p">,</span> <span class="kr">_</span><span class="p">)</span> <span class="kt">:</span> <span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">map</span> <span class="n">snd</span> <span class="n">l</span><span class="p">)</span>          
          <span class="n">same_key</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="c1">-- you can write: factorize = fst . head Arrow.&amp;&amp;&amp; map snd</span>
<span class="nf">food_of_color</span> <span class="ow">=</span> <span class="n">assocListGroupByKey</span> <span class="n">food_color</span>

<span class="c1">-- or one can use a full fledged data structure</span>
<span class="c1">-- (need: import qualified Data.Set as Set)</span>
<span class="nf">food_of_color&#39;</span> <span class="ow">=</span> <span class="n">foldl</span> <span class="p">(</span><span class="nf">\</span><span class="n">l</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="kt">Map</span><span class="o">.</span><span class="n">alter</span> <span class="p">(</span><span class="n">add_it</span> <span class="n">v</span><span class="p">)</span> <span class="n">k</span> <span class="n">l</span><span class="p">)</span> <span class="kt">Map</span><span class="o">.</span><span class="n">empty</span> <span class="n">food_color</span>
    <span class="kr">where</span> <span class="n">add_it</span> <span class="n">val</span> <span class="n">prev</span> <span class="ow">=</span> <span class="kt">Just</span> <span class="p">(</span><span class="kt">Set</span><span class="o">.</span><span class="n">insert</span> <span class="n">val</span> <span class="o">$</span> <span class="n">fromMaybe</span> <span class="kt">Set</span><span class="o">.</span><span class="n">empty</span> <span class="n">prev</span><span class="p">)</span>
<span class="nf">yellow_food&#39;</span> <span class="ow">=</span> <span class="n">food_of_color&#39;</span> <span class="kt">Map</span><span class="o">.!</span> <span class="s">&quot;yellow&quot;</span>
<span class="c1">-- =&gt; Set.fromList [&quot;Banana&quot;,&quot;Lemon&quot;]</span>

<span class="c1">-- for every logged-in user, display the ttys on which it is logged</span>
<span class="nf">t</span> <span class="ow">=</span> <span class="kr">do</span> <span class="kt">Right</span> <span class="n">s</span> <span class="ow">&lt;-</span> <span class="n">readProcess</span> <span class="s">&quot;who&quot;</span> <span class="kt">[]</span> <span class="s">&quot;&quot;</span>
       <span class="kr">let</span> <span class="n">l</span> <span class="ow">=</span> <span class="n">assocListGroupByKey</span> <span class="o">$</span> <span class="n">map</span> <span class="p">(</span><span class="n">parse_it</span> <span class="o">.</span> <span class="n">words</span><span class="p">)</span> <span class="p">(</span><span class="n">lines</span> <span class="n">s</span><span class="p">)</span>
       <span class="n">mapM_</span> <span class="p">(</span><span class="n">putStrLn</span> <span class="o">.</span> <span class="n">format_it</span><span class="p">)</span> <span class="n">l</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="n">l</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">ttys</span><span class="p">)</span> <span class="ow">=</span> <span class="n">user</span> <span class="o">++</span> <span class="s">&quot;: &quot;</span> <span class="o">++</span> <span class="n">unwords</span> <span class="n">ttys</span>
          <span class="n">parse_it</span> <span class="p">(</span><span class="n">user</span> <span class="kt">:</span> <span class="n">tty</span> <span class="kt">:</span> <span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">tty</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN256"
>Inverting a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">surname</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Mickey&quot;</span><span class="p">,</span> <span class="s">&quot;Mantle&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;Babe&quot;</span><span class="p">,</span> <span class="s">&quot;Ruth&quot;</span><span class="p">)</span> <span class="p">];</span>
<span class="nf">first_name</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">swap</span> <span class="n">surname</span>
<span class="nf">swap</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>

<span class="kt">Just</span> <span class="n">name</span> <span class="ow">=</span> <span class="n">lookup</span> <span class="s">&quot;Mantle&quot;</span> <span class="n">first_name</span> <span class="c1">-- &quot;Mickey&quot;</span>

<span class="c1">-- see also section &quot;Hashes with Multiple Values Per Key&quot;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN259"
>Sorting a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">t</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="o">$</span> <span class="n">sort</span> <span class="n">food_color</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Carrot is orange&quot;,&quot;Lemon is yellow&quot;]</span>

<span class="c1">-- sorting on length of color (sortByKey is in &quot;Helpers&quot;)</span>
<span class="nf">t2</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span><span class="p">)</span> <span class="o">$</span> <span class="n">sortByKey</span> <span class="p">(</span><span class="n">length</span> <span class="o">.</span> <span class="n">snd</span><span class="p">)</span> <span class="n">food_color</span>
<span class="c1">-- =&gt; [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Lemon is yellow&quot;,&quot;Carrot is orange&quot;]</span>

<span class="c1">-- using Data.Map, the simplest is to use Map.assocs and do as above</span>
<span class="nf">t&#39;</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">format_it</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">assocs</span> <span class="n">food_color&#39;</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="p">(</span><span class="n">food</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="ow">=</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">color</span>
<span class="c1">-- [&quot;Apple is red&quot;,&quot;Banana is yellow&quot;,&quot;Carrot is orange&quot;,&quot;Lemon is yellow&quot;]</span>

<span class="c1">-- you can of course get keys first, and use Map.!</span>
<span class="nf">t_&#39;</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">format_it</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="kt">Map</span><span class="o">.</span><span class="n">keys</span> <span class="n">food_color&#39;</span>
    <span class="kr">where</span> <span class="n">format_it</span> <span class="n">food</span> <span class="ow">=</span> <span class="n">food</span> <span class="o">++</span> <span class="s">&quot; is &quot;</span> <span class="o">++</span> <span class="n">food_color&#39;</span> <span class="kt">Map</span><span class="o">.!</span> <span class="n">food</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN262"
>Merging Hashes</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- food_color as per the introduction</span>
<span class="nf">drink_color</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Galliano&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;Mai Tai&quot;</span><span class="p">,</span> <span class="s">&quot;blue&quot;</span><span class="p">)</span> <span class="p">]</span>
<span class="nf">ingested_color</span> <span class="ow">=</span> <span class="n">drink_color</span> <span class="o">++</span> <span class="n">food_color</span>
<span class="c1">-- =&gt; [(&quot;Galliano&quot;,&quot;yellow&quot;),(&quot;Mai Tai&quot;,&quot;blue&quot;),(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;)]</span>
<span class="c1">-- (it doesn&#39;t remove duplicates, see section &quot;Finding Common or Different Keys in Two Hashes&quot; for a solution removing duplicates)</span>

<span class="c1">-- using Data.Map</span>
<span class="nf">drink_color&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">fromList</span> <span class="n">drink_color</span>
<span class="nf">ingested_color&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">union</span> <span class="n">drink_color&#39;</span> <span class="n">food_color&#39;</span>
<span class="c1">-- =&gt; Map.fromList [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;),(&quot;Galliano&quot;,&quot;yellow&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Mai Tai&quot;,&quot;blue&quot;)]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN265"
>Finding Common or Different Keys in Two Hashes</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- food_color as per the introduction</span>
<span class="nf">citrus_color</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Lemon&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;Orange&quot;</span><span class="p">,</span> <span class="s">&quot;orange&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;Lime&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">)</span> <span class="p">]</span>
<span class="nf">common</span> <span class="ow">=</span> <span class="n">food_color</span> <span class="o">++</span> <span class="n">citrus_color</span>
<span class="c1">-- =&gt; [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Orange&quot;,&quot;orange&quot;),(&quot;Lime&quot;,&quot;green&quot;)]</span>
<span class="c1">-- the duplicates are still here, to remove them:</span>
<span class="nf">nubByKey</span> <span class="n">f</span> <span class="ow">=</span> <span class="n">nubBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">a</span> <span class="o">==</span> <span class="n">f</span> <span class="n">b</span><span class="p">)</span>
<span class="nf">common_</span> <span class="ow">=</span> <span class="n">nubByKey</span> <span class="n">fst</span> <span class="n">common</span>
<span class="c1">-- =&gt; [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;),(&quot;Orange&quot;,&quot;orange&quot;),(&quot;Lime&quot;,&quot;green&quot;)]</span>
<span class="c1">-- no more duplicates</span>

<span class="nf">non_citrus</span> <span class="ow">=</span> <span class="n">food_color</span> <span class="o">\\</span> <span class="n">citrus_color</span>
<span class="c1">-- =&gt; [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;)]</span>

<span class="c1">-- using Data.Map</span>
<span class="nf">citrus_color&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">fromList</span> <span class="n">citrus_color</span>
<span class="nf">common&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">union</span> <span class="n">food_color&#39;</span> <span class="n">citrus_color&#39;</span>
<span class="c1">-- =&gt; Map.fromList [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;),(&quot;Lemon&quot;,&quot;yellow&quot;),(&quot;Lime&quot;,&quot;green&quot;),(&quot;Orange&quot;,&quot;orange&quot;)]</span>
<span class="nf">non_citrus&#39;</span> <span class="ow">=</span> <span class="kt">Map</span><span class="o">.</span><span class="n">difference</span> <span class="n">food_color&#39;</span> <span class="n">citrus_color&#39;</span>
<span class="c1">-- =&gt; Map.fromList [(&quot;Apple&quot;,&quot;red&quot;),(&quot;Banana&quot;,&quot;yellow&quot;),(&quot;Carrot&quot;,&quot;orange&quot;)]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN268"
>Hashing References</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- no problem here, haskell handles any kind of object for key-ing</span>

<span class="nf">name</span> <span class="ow">=</span> <span class="n">mapM</span> <span class="n">open_files</span> <span class="p">[</span> <span class="s">&quot;/etc/termcap&quot;</span><span class="p">,</span> <span class="s">&quot;/etc/passwd&quot;</span><span class="p">,</span> <span class="s">&quot;/bin/cat&quot;</span> <span class="p">]</span>
       <span class="kr">where</span> <span class="n">open_files</span> <span class="n">file</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">fh</span> <span class="ow">&lt;-</span> <span class="n">openFile</span> <span class="n">file</span> <span class="kt">ReadMode</span>
                                  <span class="n">return</span> <span class="p">(</span><span class="n">fh</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
<span class="nf">t</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">files</span> <span class="ow">&lt;-</span> <span class="n">fmap</span> <span class="p">(</span><span class="n">map</span> <span class="n">snd</span><span class="p">)</span> <span class="n">name</span>
       <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;open files: &quot;</span> <span class="o">++</span> <span class="n">intercalate</span> <span class="s">&quot;, &quot;</span> <span class="n">files</span>
<span class="nf">t2</span> <span class="ow">=</span> <span class="n">name</span> <span class="o">&gt;&gt;=</span> <span class="n">mapM_</span> <span class="n">display_size</span>
    <span class="kr">where</span> <span class="n">display_size</span> <span class="p">(</span><span class="n">fh</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span> <span class="ow">=</span> 
              <span class="kr">do</span> <span class="n">size</span> <span class="ow">&lt;-</span> <span class="n">hFileSize</span> <span class="n">fh</span>
                 <span class="n">printf</span> <span class="s">&quot;%s is %d bytes long.</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">file</span> <span class="n">size</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN271"
>Presizing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- presizing is only useful for mutable maps</span>

<span class="c1">-- about performance, one may use Map.IntMap when the keys are Int</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN274"
>Finding the Most Common Anything</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- from http://haskell.org/haskellwiki/99_questions/31_to_41#Problem_36</span>
<span class="nf">encode</span> <span class="ow">::</span> <span class="kt">Eq</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)]</span>
<span class="nf">encode</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">head</span> <span class="n">x</span><span class="p">,</span> <span class="n">length</span> <span class="n">x</span><span class="p">))</span> <span class="o">.</span> <span class="n">group</span>

<span class="nf">s</span> <span class="ow">=</span> <span class="n">encode</span> <span class="o">$</span> <span class="n">sort</span> <span class="s">&quot;Apple Banana Lemon&quot;</span>
<span class="c1">-- =&gt; [(&#39; &#39;,2),(&#39;A&#39;,1),(&#39;B&#39;,1),(&#39;L&#39;,1),(&#39;a&#39;,3),(&#39;e&#39;,2),(&#39;l&#39;,1),(&#39;m&#39;,1),(&#39;n&#39;,3),(&#39;o&#39;,1),(&#39;p&#39;,2)]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN277"
>Representing Relationships Between Data</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">import</span> <span class="nn">Data.List</span>

<span class="nf">father</span> <span class="ow">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&quot;Cain&quot;</span><span class="p">,</span>      <span class="s">&quot;Adam&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Abel&quot;</span><span class="p">,</span>      <span class="s">&quot;Adam&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Seth&quot;</span><span class="p">,</span>      <span class="s">&quot;Adam&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Enoch&quot;</span><span class="p">,</span>     <span class="s">&quot;Cain&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Irad&quot;</span><span class="p">,</span>      <span class="s">&quot;Enoch&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Mehujael&quot;</span><span class="p">,</span>  <span class="s">&quot;Irad&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Methusael&quot;</span><span class="p">,</span> <span class="s">&quot;Mehujael&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Lamech&quot;</span><span class="p">,</span>    <span class="s">&quot;Methusael&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Jabal&quot;</span><span class="p">,</span>     <span class="s">&quot;Lamech&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Jubal&quot;</span><span class="p">,</span>     <span class="s">&quot;Lamech&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Tubalcain&quot;</span><span class="p">,</span> <span class="s">&quot;Lamech&quot;</span><span class="p">)</span>
	 <span class="p">,</span> <span class="p">(</span><span class="s">&quot;Enos&quot;</span><span class="p">,</span>      <span class="s">&quot;Seth&quot;</span><span class="p">)</span>
	 <span class="p">]</span>

<span class="nf">upline</span> <span class="n">person</span> <span class="ow">=</span> <span class="n">person</span> <span class="kt">:</span> <span class="n">parents</span>
    <span class="kr">where</span> <span class="n">parents</span> <span class="ow">=</span> <span class="n">unfoldr</span> <span class="p">(</span><span class="nf">\</span><span class="n">name</span> <span class="ow">-&gt;</span> <span class="n">fmap</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">))</span> <span class="o">$</span> <span class="n">lookup</span> <span class="n">name</span> <span class="n">father</span><span class="p">)</span> <span class="n">person</span>
<span class="c1">-- you can replace (\x -&gt; (x,x)) with (join (,))   (&quot;join&quot; is from Control.Monad)</span>

<span class="nf">from_Irad</span> <span class="ow">=</span> <span class="n">upline</span> <span class="s">&quot;Irad&quot;</span>       <span class="c1">-- [&quot;Irad&quot;,&quot;Enoch&quot;,&quot;Cain&quot;,&quot;Adam&quot;]</span>

<span class="nf">ifNull</span> <span class="n">default_</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="n">default_</span>
<span class="nf">ifNull</span> <span class="kr">_</span> <span class="n">l</span> <span class="ow">=</span> <span class="n">l</span>

<span class="nf">downline</span> <span class="n">person</span> <span class="ow">=</span> <span class="n">person</span> <span class="o">++</span> <span class="s">&quot; begat &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">ifNull</span> <span class="s">&quot;Nobody&quot;</span> <span class="o">$</span> <span class="n">intercalate</span> <span class="s">&quot;, &quot;</span> <span class="o">$</span> <span class="n">children</span><span class="p">)</span>
    <span class="kr">where</span> <span class="n">children</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">fst</span> <span class="o">$</span> <span class="n">filter</span> <span class="p">((</span><span class="o">==</span> <span class="n">person</span><span class="p">)</span> <span class="o">.</span> <span class="n">snd</span><span class="p">)</span> <span class="n">father</span>

<span class="nf">to_Tubalcain</span> <span class="ow">=</span> <span class="n">downline</span> <span class="s">&quot;Tubalcain&quot;</span> <span class="c1">-- Tubalcain begat Nobody</span>
<span class="nf">to_Adam</span>      <span class="ow">=</span> <span class="n">downline</span> <span class="s">&quot;Adam&quot;</span>      <span class="c1">-- Adam begat Cain, Abel, Seth</span>


<span class="c1">-- the perl example is doing something quite weird,</span>
<span class="c1">-- include_free is the list of files which are not included by other files,</span>
<span class="c1">-- but that do include a file.</span>
<span class="nf">dir</span> <span class="ow">=</span> <span class="s">&quot;/usr/include&quot;</span>
<span class="nf">include_free</span> <span class="ow">=</span>
    <span class="kr">do</span> <span class="n">files</span> <span class="ow">&lt;-</span> <span class="n">getDirectoryContents</span> <span class="n">dir</span>
       <span class="kr">let</span> <span class="n">h_files</span> <span class="ow">=</span> <span class="n">filter</span> <span class="p">(</span><span class="n">isSuffixOf</span> <span class="s">&quot;.h&quot;</span><span class="p">)</span> <span class="n">files</span>
       <span class="n">file2includes</span> <span class="ow">&lt;-</span> <span class="n">mapM</span> <span class="n">get_includes</span> <span class="n">h_files</span>
       <span class="c1">-- getting the files that do include something:</span>
       <span class="kr">let</span> <span class="n">files_</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">fst</span> <span class="o">$</span> <span class="n">filter</span> <span class="p">(</span><span class="n">not</span> <span class="o">.</span> <span class="n">null</span> <span class="o">.</span> <span class="n">snd</span><span class="p">)</span> <span class="n">file2includes</span>
       <span class="c1">-- removing files included by other files:</span>
       <span class="n">return</span> <span class="o">$</span> <span class="n">files_</span> <span class="o">\\</span> <span class="p">(</span><span class="n">concatMap</span> <span class="n">snd</span> <span class="n">file2includes</span><span class="p">)</span>
    <span class="kr">where</span> <span class="n">get_includes</span> <span class="n">h_file</span> <span class="ow">=</span> <span class="n">fmap</span> <span class="p">(</span><span class="n">with_content</span> <span class="n">h_file</span><span class="p">)</span> <span class="p">(</span><span class="n">readFile</span> <span class="o">$</span> <span class="n">dir</span> <span class="o">++</span> <span class="s">&quot;/&quot;</span> <span class="o">++</span> <span class="n">h_file</span><span class="p">)</span>
          <span class="n">with_content</span> <span class="n">h_file</span> <span class="n">content</span> <span class="ow">=</span> <span class="p">(</span><span class="n">h_file</span><span class="p">,</span> <span class="n">content_to_includes</span> <span class="n">content</span><span class="p">)</span>
          <span class="n">content_to_includes</span> <span class="ow">=</span> <span class="n">catMaybes</span> <span class="o">.</span> <span class="n">map</span> <span class="p">(</span><span class="n">fmap</span> <span class="n">head</span> <span class="o">.</span> <span class="n">matchRegex</span> <span class="n">regex</span><span class="p">)</span> <span class="o">.</span> <span class="n">lines</span>
          <span class="n">regex</span> <span class="ow">=</span> <span class="n">mkRegex</span> <span class="s">&quot;^</span><span class="se">\\</span><span class="s">s*#</span><span class="se">\\</span><span class="s">s*include</span><span class="se">\\</span><span class="s">s*&lt;([^&gt;]+)&gt;&quot;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN280"
>Program: dutree</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">import</span> <span class="nn">Data.Ord</span> <span class="p">(</span><span class="nf">comparing</span><span class="p">)</span>
<span class="kr">import</span> <span class="k">qualified</span> <span class="nn">Data.Tree</span> <span class="k">as</span> <span class="n">Tree</span>

<span class="nf">dirname_basename</span> <span class="n">file</span> <span class="ow">=</span> <span class="p">(</span><span class="kr">if</span> <span class="n">dir</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="kr">then</span> <span class="s">&quot;.&quot;</span> <span class="kr">else</span> <span class="p">(</span><span class="n">reverse</span> <span class="o">$</span> <span class="n">tail</span> <span class="n">dir</span><span class="p">),</span> <span class="n">reverse</span> <span class="n">base</span><span class="p">)</span>
    <span class="kr">where</span> <span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">dir</span><span class="p">)</span> <span class="ow">=</span> <span class="n">break</span> <span class="p">(</span><span class="o">==</span> <span class="sc">&#39;/&#39;</span><span class="p">)</span> <span class="o">$</span> <span class="n">reverse</span> <span class="n">file</span>

<span class="nf">dirname</span> <span class="ow">=</span> <span class="n">fst</span> <span class="o">.</span> <span class="n">dirname_basename</span>
<span class="nf">basename</span> <span class="ow">=</span> <span class="n">snd</span> <span class="o">.</span> <span class="n">dirname_basename</span>

<span class="nf">duProcessFakedInput</span> <span class="ow">=</span> 
    <span class="s">&quot;11732   groovysoap/lib</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">68      groovysoap/src/main/groovy/net/soap</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">71      groovysoap/src/main/groovy/net</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">74      groovysoap/src/main/groovy</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">77      groovysoap/src/main</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">9       groovysoap/src/examples</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">8       groovysoap/src/examples/groovy</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">102     groovysoap/src/test</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">202     groovysoap/src</span><span class="se">\n\</span>
<span class="se">    \</span><span class="s">11966   groovysoap</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="nf">sortByKeyRev</span> <span class="n">f</span> <span class="ow">=</span> <span class="n">map</span> <span class="n">snd</span> <span class="o">.</span> <span class="n">sortBy</span> <span class="p">(</span><span class="n">flip</span> <span class="o">$</span> <span class="n">comparing</span> <span class="n">fst</span><span class="p">)</span> <span class="o">.</span> <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>

<span class="nf">dirs_tree</span> <span class="ow">::</span> <span class="kt">Tree</span><span class="o">.</span><span class="kt">Tree</span> <span class="p">(</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span>
<span class="nf">dirs_tree</span> <span class="ow">=</span> <span class="kt">Tree</span><span class="o">.</span><span class="n">unfoldTree</span> <span class="n">get_info</span> <span class="p">(</span><span class="n">last</span> <span class="n">dir2size</span><span class="p">)</span>
    <span class="kr">where</span> <span class="n">get_info</span> <span class="p">(</span><span class="n">dir</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span> <span class="ow">=</span> 
              <span class="kr">let</span> <span class="n">subdirs</span> <span class="ow">=</span> <span class="n">filter</span> <span class="p">((</span><span class="o">==</span> <span class="n">dir</span><span class="p">)</span> <span class="o">.</span> <span class="n">dirname</span> <span class="o">.</span> <span class="n">fst</span><span class="p">)</span> <span class="n">dir2size</span> <span class="kr">in</span>
              <span class="p">((</span><span class="n">dir</span><span class="p">,</span> <span class="n">size</span><span class="p">),</span> 
               <span class="kr">if</span> <span class="n">null</span> <span class="n">subdirs</span> <span class="kr">then</span> <span class="kt">[]</span> <span class="kr">else</span> 
                   <span class="n">sortByKeyRev</span> <span class="n">snd</span> <span class="o">$</span> <span class="n">subdirs</span> <span class="o">++</span> <span class="p">[</span> <span class="p">(</span><span class="n">dir</span> <span class="o">++</span> <span class="s">&quot;/.&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">-</span> <span class="n">sum</span> <span class="p">(</span><span class="n">map</span> <span class="n">snd</span> <span class="n">subdirs</span><span class="p">))</span> <span class="p">])</span>
          <span class="n">dir2size</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">((</span><span class="nf">\</span><span class="p">(</span><span class="n">size</span><span class="kt">:</span><span class="n">dir</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">dir</span><span class="p">,</span> <span class="n">read</span> <span class="n">size</span><span class="p">))</span> <span class="o">.</span> <span class="n">words</span><span class="p">)</span> <span class="o">$</span> <span class="n">lines</span> <span class="n">duProcessFakedInput</span>

<span class="nf">t</span> <span class="ow">=</span> <span class="n">putStr</span> <span class="o">$</span> <span class="kt">Tree</span><span class="o">.</span><span class="n">drawTree</span><span class="o">$</span> <span class="n">fmap</span> <span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">s</span><span class="p">)</span><span class="ow">-&gt;</span> <span class="n">show</span> <span class="n">s</span> <span class="o">++</span> <span class="s">&quot; &quot;</span> <span class="o">++</span> <span class="n">basename</span> <span class="n">f</span><span class="p">)</span> <span class="n">dirs_tree</span>
<span class="c1">-- using Tree.drawTree, the result is not as expected, but it&#39;s quite nice:</span>
<span class="c1">--</span>
<span class="c1">-- 11966 groovysoap</span>
<span class="c1">-- |</span>
<span class="c1">-- +- 11732 lib</span>
<span class="c1">-- |</span>
<span class="c1">-- +- 202 src</span>
<span class="c1">-- |  |</span>
<span class="c1">-- |  +- 102 test</span>
<span class="c1">-- |  |</span>
<span class="c1">-- |  +- 77 main</span>
<span class="c1">-- |  |  |</span>
<span class="c1">-- |  |  +- 74 groovy</span>
<span class="c1">-- |  |  |  |</span>
<span class="c1">-- |  |  |  +- 71 net</span>
<span class="c1">-- |  |  |  |  |</span>
<span class="c1">-- |  |  |  |  +- 68 soap</span>
<span class="c1">-- |  |  |  |  |</span>
<span class="c1">-- |  |  |  |  `- 3 .</span>
<span class="c1">-- |  |  |  |</span>
<span class="c1">-- |  |  |  `- 3 .</span>
<span class="c1">-- |  |  |</span>
<span class="c1">-- |  |  `- 3 .</span>
<span class="c1">-- |  |</span>
<span class="c1">-- |  +- 14 .</span>
<span class="c1">-- |  |</span>
<span class="c1">-- |  `- 9 examples</span>
<span class="c1">-- |     |</span>
<span class="c1">-- |     +- 8 groovy</span>
<span class="c1">-- |     |</span>
<span class="c1">-- |     `- 1 .</span>
<span class="c1">-- |</span>
<span class="c1">-- `- 32 .</span>

<span class="c1">-- now the exact same solution </span>
<span class="nf">mydraw</span> <span class="ow">::</span> <span class="kt">Tree</span><span class="o">.</span><span class="kt">Tree</span> <span class="p">(</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">mydraw</span> <span class="n">tree</span> <span class="ow">=</span> <span class="n">unlines</span> <span class="o">$</span> <span class="n">drawSubTrees</span> <span class="p">[</span><span class="n">tree</span><span class="p">]</span>
  <span class="kr">where</span> <span class="n">drawSubTrees</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
	<span class="n">drawSubTrees</span> <span class="n">l</span><span class="o">@</span><span class="p">(</span><span class="kt">Tree</span><span class="o">.</span><span class="kt">Node</span> <span class="p">(</span><span class="kr">_</span><span class="p">,</span><span class="n">size_max</span><span class="p">)</span> <span class="kr">_</span> <span class="kt">:</span> <span class="kr">_</span><span class="p">)</span> <span class="ow">=</span>
            <span class="kr">let</span> <span class="n">format</span> <span class="ow">=</span> <span class="s">&quot;%&quot;</span> <span class="o">++</span> <span class="n">show</span> <span class="p">(</span><span class="n">length</span> <span class="o">$</span> <span class="n">show</span> <span class="n">size_max</span><span class="p">)</span> <span class="o">++</span> <span class="s">&quot;s %s&quot;</span> <span class="kr">in</span>
            <span class="kr">let</span> <span class="n">draw_one</span> <span class="p">(</span><span class="kt">Tree</span><span class="o">.</span><span class="kt">Node</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span> <span class="n">sub</span><span class="p">)</span> <span class="ow">=</span>
                    <span class="kr">let</span> <span class="n">name&#39;</span> <span class="ow">=</span> <span class="n">basename</span> <span class="n">name</span> <span class="kr">in</span>
                    <span class="n">printf</span> <span class="n">format</span> <span class="p">(</span><span class="n">show</span> <span class="n">size</span><span class="p">)</span> <span class="n">name&#39;</span> <span class="kt">:</span>
                           <span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">s</span> <span class="ow">-&gt;</span> <span class="n">printf</span> <span class="n">format</span> <span class="s">&quot;|&quot;</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="kr">_</span> <span class="ow">-&gt;</span> <span class="sc">&#39; &#39;</span><span class="p">)</span> <span class="n">name&#39;</span><span class="p">)</span> <span class="o">++</span> <span class="n">s</span><span class="p">)</span> <span class="p">(</span><span class="n">drawSubTrees</span> <span class="n">sub</span><span class="p">)</span> <span class="kr">in</span>
            <span class="n">concatMap</span> <span class="n">draw_one</span> <span class="n">l</span>

<span class="nf">t2</span> <span class="ow">=</span> <span class="n">putStr</span> <span class="o">$</span> <span class="n">mydraw</span> <span class="n">dirs_tree</span>

<span class="c1">--11966 groovysoap</span>
<span class="c1">--    |           11732 lib</span>
<span class="c1">--    |             202 src</span>
<span class="c1">--    |               |    102 test</span>
<span class="c1">--    |               |     77 main</span>
<span class="c1">--    |               |      |     74 groovy</span>
<span class="c1">--    |               |      |      |       71 net</span>
<span class="c1">--    |               |      |      |        |    68 soap</span>
<span class="c1">--    |               |      |      |        |     3 .</span>
<span class="c1">--    |               |      |      |        3 .</span>
<span class="c1">--    |               |      |      3 .</span>
<span class="c1">--    |               |     14 .</span>
<span class="c1">--    |               |      9 examples</span>
<span class="c1">--    |               |      |         8 groovy</span>
<span class="c1">--    |               |      |         1 .</span>
<span class="c1">--    |              32 .</span></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="arrays.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="patternmatching.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Arrays</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Pattern Matching</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>