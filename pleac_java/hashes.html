<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Hashes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Java"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Arrays"
HREF="arrays.html"><LINK
REL="NEXT"
TITLE="Pattern Matching"
HREF="patternmatching.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Java</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="arrays.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="patternmatching.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="HASHES"
>5. Hashes</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN232"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// The top interface for &quot;Hashes&quot; functionality in Java is java.util.Map. Multiple</span>
<span class="c1">// implementations with some selected added features are available, java.util.HashMap,</span>
<span class="c1">// java.util.Hashtable, java.util.LinkedHashMap and java.util.TreeMap being the most</span>
<span class="c1">// notable ones.</span>
<span class="c1">//</span>
<span class="c1">// Maps cannot contain primitive types, they must contain objects (int -&gt; Integer).</span>
<span class="c1">//</span>
<span class="c1">// Maps don&#39;t have &quot;sugar&quot; syntax for easy creation of arbitrary maps, we need to</span>
<span class="c1">// call several methods for this:</span>
<span class="n">Map</span> <span class="n">age</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Nat&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">24</span> <span class="o">)</span> <span class="o">);</span>
<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Jules&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">25</span> <span class="o">)</span> <span class="o">);</span>
<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Josh&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">17</span> <span class="o">)</span> <span class="o">);</span>

<span class="n">Map</span> <span class="n">food_color</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Apple&quot;</span><span class="o">,</span> <span class="s">&quot;red&quot;</span> <span class="o">);</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Banana&quot;</span><span class="o">,</span> <span class="s">&quot;yellow&quot;</span> <span class="o">);</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Lemon&quot;</span><span class="o">,</span> <span class="s">&quot;yellow&quot;</span> <span class="o">);</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Carrot&quot;</span><span class="o">,</span> <span class="s">&quot;orange&quot;</span> <span class="o">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN235"
>Adding an Element to a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Setting or replacing a map entry uses Map#put:</span>
<span class="n">Map</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span> <span class="n">Object</span> <span class="n">key</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span> <span class="n">Object</span> <span class="n">value</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="n">key</span><span class="o">,</span> <span class="n">value</span> <span class="o">);</span>
<span class="c1">// food_color defined per the introduction; we use an iterator on the keys of the map</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Raspberry&quot;</span><span class="o">,</span> <span class="s">&quot;pink&quot;</span> <span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&quot;Known foods:&quot;</span> <span class="o">);</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">food_color</span><span class="o">.</span><span class="na">keySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN238"
>Testing for the Presence of a Key in a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// does map have a value for key?</span>
<span class="k">if</span> <span class="o">(</span> <span class="n">map</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span> <span class="n">key</span> <span class="o">)</span> <span class="o">)</span> <span class="o">{</span>
    <span class="c1">// it exists</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>        
    <span class="c1">// it doesn&#39;t</span>
<span class="o">}</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">food_or_drink</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Banana&quot;</span><span class="o">,</span> <span class="s">&quot;Martini&quot;</span> <span class="o">};</span>
<span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">food_or_drink</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">food_or_drink</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot; is a &quot;</span> <span class="o">+</span> <span class="o">(</span> <span class="n">food_color</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span> <span class="n">name</span> <span class="o">)</span> <span class="o">?</span> <span class="s">&quot;food&quot;</span> <span class="o">:</span> <span class="s">&quot;drink&quot;</span> <span class="o">)</span> <span class="o">);</span>
<span class="o">}</span>

<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Toddler&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">3</span> <span class="o">)</span> <span class="o">);</span>
<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Unborn&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">0</span> <span class="o">)</span> <span class="o">);</span>
<span class="n">age</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Phantasm&quot;</span><span class="o">,</span> <span class="kc">null</span> <span class="o">);</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">age_tries</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Toddler&quot;</span><span class="o">,</span> <span class="s">&quot;Unborn&quot;</span><span class="o">,</span> <span class="s">&quot;Phantasm&quot;</span><span class="o">,</span> <span class="s">&quot;Relic&quot;</span> <span class="o">};</span>
<span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">age_tries</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">atry</span> <span class="o">=</span> <span class="n">age_tries</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">atry</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span>
                        <span class="o">+</span> <span class="o">(</span> <span class="n">age</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">?</span> <span class="s">&quot;contains-key &quot;</span> <span class="o">:</span> <span class="s">&quot;&quot;</span> <span class="o">)</span>
                        <span class="o">+</span> <span class="o">(</span> <span class="n">age</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">age</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="s">&quot;non-null &quot;</span> <span class="o">:</span> <span class="s">&quot;&quot;</span> <span class="o">)</span>
                        <span class="o">+</span> <span class="o">(</span> <span class="n">age</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">age</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span>
                            <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="o">(</span> <span class="o">(</span><span class="n">Integer</span><span class="o">)</span><span class="n">age</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">atry</span> <span class="o">)</span> <span class="o">).</span><span class="na">equals</span><span class="o">(</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">0</span> <span class="o">)</span> <span class="o">)</span>
                                <span class="o">?</span> <span class="s">&quot;non-zero&quot;</span> <span class="o">:</span> <span class="s">&quot;&quot;</span> <span class="o">)</span> <span class="o">);</span>
<span class="o">}</span>
<span class="c1">// =&gt;</span>
<span class="c1">// Toddler: contains-key non-null non-zero</span>
<span class="c1">// Unborn: contains-key non-null </span>
<span class="c1">// Phantasm: contains-key </span>
<span class="c1">// Relic: </span>
    
<span class="c1">// You use Map#containsKey when you use Perl&#39;s exists -&gt; it checks</span>
<span class="c1">// for existence of a key in a Map.</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN241"
>Deleting from a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="n">food_color</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span> <span class="s">&quot;Banana&quot;</span> <span class="o">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN244"
>Traversing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">food_color</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="c1">// do something with e.getKey() and e.getValue()</span>
    <span class="c1">// also supports e.setValue() to update the value</span>
<span class="o">}</span>

<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">food_color</span><span class="o">.</span><span class="na">keySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="c1">// do something with key</span>
<span class="o">}</span>

<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">food_color</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; is &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span>

<span class="c1">// The easiest way to iterate over keys of a Map in ordered keys is to use</span>
<span class="c1">// java.util.TreeMap, which &quot;guarantees that the map will be in ascending</span>
<span class="c1">// key order, sorted according to the natural order for the key&#39;s class&quot;.</span>
<span class="n">TreeMap</span> <span class="n">sorted_foods</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">(</span> <span class="n">food_color</span> <span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&quot;sorted foods:&quot;</span> <span class="o">);</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">sorted_foods</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; is &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span>

<span class="c1">// <font size="-1"><a href="http://pleac.sourceforge.net/include/java/ch05/CountFrom.java</span>">download the following standalone program</a></font>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.TreeMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.regex.Matcher</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.regex.Pattern</span><span class="o">;</span>

<span class="cm">/** countfrom - count number of messages from each sender. */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CountFrom</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span> <span class="n">args</span><span class="o">[]</span> <span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">TreeMap</span> <span class="n">from</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">();</span>
        <span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span> <span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span> <span class="n">System</span><span class="o">.</span><span class="na">in</span> <span class="o">)</span> <span class="o">);</span>
        <span class="n">String</span> <span class="n">line</span><span class="o">;</span>
        <span class="n">Pattern</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span> <span class="s">&quot;From: (.*)&quot;</span> <span class="o">);</span>
        <span class="k">while</span> <span class="o">(</span> <span class="o">(</span> <span class="n">line</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">()</span> <span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">Matcher</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span> <span class="n">line</span> <span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span> <span class="n">m</span><span class="o">.</span><span class="na">lookingAt</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
                <span class="n">Integer</span> <span class="n">current_value</span> <span class="o">=</span> <span class="o">(</span><span class="n">Integer</span><span class="o">)</span> <span class="n">from</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">m</span><span class="o">.</span><span class="na">group</span><span class="o">(</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span> <span class="n">current_value</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="n">current_value</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="mi">1</span> <span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">current_value</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span> <span class="n">current_value</span><span class="o">.</span><span class="na">intValue</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">);</span>
                <span class="o">}</span>
                <span class="n">from</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="n">m</span><span class="o">.</span><span class="na">group</span><span class="o">(</span> <span class="mi">1</span> <span class="o">),</span> <span class="n">current_value</span> <span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">from</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN247"
>Printing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Map#toString already produce a pretty decent output:</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">sorted_foods</span> <span class="o">);</span>
<span class="c1">// =&gt;</span>
<span class="c1">// {Apple=red, Carrot=orange, Lemon=yellow, Raspberry=pink}</span>

<span class="c1">// Or do it the Cookbook way:</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">sorted_foods</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; =&gt; &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span>
<span class="c1">// =&gt;</span>
<span class="c1">// Apple =&gt; red</span>
<span class="c1">// Carrot =&gt; orange</span>
<span class="c1">// Lemon =&gt; yellow</span>
<span class="c1">// Raspberry =&gt; pink</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN250"
>Retrieving from a Hash in Insertion Order</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// java.util.LinkedHashMap &quot;maintains a doubly-linked list running through all of its entries.</span>
<span class="c1">// This linked list defines the iteration ordering, which is normally the order in which keys</span>
<span class="c1">// were inserted into the map (insertion-order)&quot;.</span>
<span class="n">food_color</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">();</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Banana&quot;</span><span class="o">,</span> <span class="s">&quot;Yellow&quot;</span> <span class="o">);</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Apple&quot;</span><span class="o">,</span> <span class="s">&quot;Green&quot;</span> <span class="o">);</span>
<span class="n">food_color</span><span class="o">.</span><span class="na">put</span><span class="o">(</span> <span class="s">&quot;Lemon&quot;</span><span class="o">,</span> <span class="s">&quot;Yellow&quot;</span> <span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&quot;In insertion order, the foods are:&quot;</span> <span class="o">);</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">food_color</span><span class="o">.</span><span class="na">keySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span>
<span class="c1">// =&gt;</span>
<span class="c1">// Banana</span>
<span class="c1">// Apple</span>
<span class="c1">// Lemon</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN253"
>Hashes with Multiple Values Per Key</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN256"
>Inverting a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN259"
>Sorting a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN262"
>Merging Hashes</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN265"
>Finding Common or Different Keys in Two Hashes</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN268"
>Hashing References</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN271"
>Presizing a Hash</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN274"
>Finding the Most Common Anything</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN277"
>Representing Relationships Between Data</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN280"
>Program: dutree</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="arrays.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="patternmatching.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Arrays</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Pattern Matching</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>