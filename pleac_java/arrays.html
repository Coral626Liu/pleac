<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Arrays</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Java"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Dates and Times"
HREF="datesandtimes.html"><LINK
REL="NEXT"
TITLE="Hashes"
HREF="hashes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Java</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ARRAYS"
>4. Arrays</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN170"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">simple</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;this&quot;</span><span class="o">,</span> <span class="s">&quot;that&quot;</span><span class="o">,</span> <span class="s">&quot;the&quot;</span><span class="o">,</span> <span class="s">&quot;other&quot;</span> <span class="o">};</span>
<span class="n">String</span><span class="o">[][]</span> <span class="n">nested</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[][]</span> <span class="o">{</span> <span class="o">{</span> <span class="s">&quot;this&quot;</span> <span class="o">},</span> <span class="o">{</span> <span class="s">&quot;that&quot;</span> <span class="o">},</span> <span class="o">{</span> <span class="s">&quot;the&quot;</span><span class="o">,</span> <span class="s">&quot;other&quot;</span> <span class="o">}</span> <span class="o">};</span>
<span class="k">assert</span> <span class="n">simple</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">4</span><span class="o">;</span>
<span class="k">assert</span> <span class="n">nested</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">3</span><span class="o">;</span>
<span class="k">assert</span> <span class="n">nested</span><span class="o">[</span><span class="mi">2</span><span class="o">].</span><span class="na">length</span> <span class="o">==</span> <span class="mi">2</span><span class="o">;</span>

<span class="c1">// Mixed types (Java 1.4+)</span>
<span class="n">Object</span><span class="o">[]</span> <span class="n">mixed</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;a&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">};</span>

<span class="c1">// Mixed types (Java 1.5+) with auto boxing</span>
<span class="n">Object</span><span class="o">[]</span> <span class="n">mixed5</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;a&quot;</span><span class="o">,</span> <span class="mi">1</span> <span class="o">};</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN173"
>Specifying a List In Your Program</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;quick&quot;</span><span class="o">,</span> <span class="s">&quot;brown&quot;</span><span class="o">,</span> <span class="s">&quot;fox&quot;</span> <span class="o">};</span>
<span class="k">assert</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">3</span><span class="o">;</span>

<span class="n">a</span> <span class="o">=</span> <span class="s">&quot;Why are you teasing me?&quot;</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Why&quot;</span><span class="o">,</span> <span class="s">&quot;are&quot;</span><span class="o">,</span> <span class="s">&quot;you&quot;</span><span class="o">,</span> <span class="s">&quot;teasing&quot;</span><span class="o">,</span> <span class="s">&quot;me?&quot;</span> <span class="o">});</span>

<span class="c1">// Convert an array to a fixed-size list</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">5</span><span class="o">;</span>

<span class="c1">// Make that list variable and insert something at the top</span>
<span class="n">List</span> <span class="n">variableList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
<span class="n">variableList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="s">&quot;First&quot;</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">variableList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;First&quot;</span><span class="o">);</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN176"
>Printing a List with Commas</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="cm">/**</span>
<span class="cm"> * Join the elements of collection using the provided separator.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">join</span><span class="o">(</span> <span class="n">Collection</span> <span class="n">col</span><span class="o">,</span> <span class="n">String</span> <span class="n">sep</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
    <span class="n">Iterator</span> <span class="n">li</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">li</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">li</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>
        <span class="k">while</span> <span class="o">(</span> <span class="n">li</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">sep</span> <span class="o">);</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">li</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
<span class="o">}</span>

<span class="cm">/**</span>
<span class="cm"> * Join the elements of enumeration using the provided separator</span>
<span class="cm"> * (provides interoperatbility for legacy APIs that return enumerations).</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">join</span><span class="o">(</span> <span class="n">Enumeration</span> <span class="n">e</span><span class="o">,</span> <span class="n">String</span> <span class="n">sep</span> <span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">join</span><span class="o">(</span> <span class="n">Collections</span><span class="o">.</span><span class="na">list</span><span class="o">(</span> <span class="n">e</span> <span class="o">),</span> <span class="n">sep</span> <span class="o">);</span>
<span class="o">}</span>

<span class="cm">/**</span>
<span class="cm"> * Join the elements of array using the provided separator.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">join</span><span class="o">(</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">col</span><span class="o">,</span> <span class="n">String</span> <span class="n">sep</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(</span> <span class="n">col</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">col</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">);</span>
    <span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">col</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">sep</span> <span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span> <span class="n">col</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">// @@INCOMPLETE@@</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN179"
>Changing Array Size</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="c1">// In Java, we can&#39;t change the size of an array, but we can do it</span>
<span class="c1">// for Collection types (like List).</span>

<span class="c1">// Wrap the array with an ArrayList (because the list returns by</span>
<span class="c1">// Arrays.asList is fixed-size)</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">people</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Crosby&quot;</span><span class="o">,</span> <span class="s">&quot;Stills&quot;</span><span class="o">,</span> <span class="s">&quot;Nash&quot;</span> <span class="o">};</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">people</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">3</span><span class="o">;</span>

<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;Young&quot;</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">4</span><span class="o">;</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182"
>Doing Something with Every Element in a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">people</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Crosby&quot;</span><span class="o">,</span> <span class="s">&quot;Stills&quot;</span><span class="o">,</span> <span class="s">&quot;Nash&quot;</span><span class="o">,</span> <span class="s">&quot;Young&quot;</span> <span class="o">};</span>

<span class="c1">// For loop</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">people</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
  <span class="c1">// ...</span>
<span class="o">}</span>

<span class="c1">// Enhanced For loop (Java 1.5+)</span>
<span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">person</span> <span class="o">:</span> <span class="n">people</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>

<span class="c1">// Closure Style (using apache commons-collections 1.0+)</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">people</span><span class="o">);</span>
<span class="n">CollectionUtils</span><span class="o">.</span><span class="na">forAllDo</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="n">Closure</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="n">Object</span> <span class="n">person</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ...</span>
  <span class="o">}</span>
<span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN185"
>Iterating Over an Array by Reference</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN188"
>Extracting Unique Elements from a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="cm">/**</span>
<span class="cm"> * Keep only first element (contains-wise, hence equals-wise) of</span>
<span class="cm"> * supplied collection.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">Collection</span> <span class="nf">uniq</span><span class="o">(</span> <span class="n">Collection</span> <span class="n">col</span> <span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">Collection</span> <span class="n">ret</span> <span class="o">=</span> <span class="o">(</span><span class="n">Collection</span><span class="o">)</span><span class="n">col</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">newInstance</span><span class="o">();</span>
        <span class="n">Iterator</span> <span class="n">li</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span> <span class="n">li</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">Object</span> <span class="n">elem</span> <span class="o">=</span> <span class="n">li</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span> <span class="o">!</span> <span class="n">ret</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span> <span class="n">elem</span> <span class="o">)</span> <span class="o">)</span> <span class="o">{</span>
                <span class="n">ret</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="n">elem</span> <span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span> <span class="n">InstantiationException</span> <span class="n">ie</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&quot;can&#39;t create new object for class: &quot;</span>
                            <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">ie</span> <span class="o">);</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span> <span class="n">IllegalAccessException</span> <span class="n">iae</span> <span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&quot;can&#39;t create new object for class: &quot;</span>
                            <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">iae</span> <span class="o">);</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// @@INCOMPLETE@@</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN191"
>Finding Elements in One Array but Not Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">};</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span> <span class="o">};</span>

<span class="c1">// using apache commons-collections 3.2+</span>
<span class="n">List</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">ListUtils</span><span class="o">.</span><span class="na">removeAll</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">),</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">diff</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN194"
>Computing Union, Intersection, or Difference of Unique Lists</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;6&quot;</span><span class="o">,</span> <span class="s">&quot;7&quot;</span><span class="o">,</span> <span class="s">&quot;8&quot;</span> <span class="o">};</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;7&quot;</span><span class="o">,</span> <span class="s">&quot;9&quot;</span> <span class="o">};</span>

<span class="c1">// using apache commons-collections 1.0+</span>

<span class="n">List</span> <span class="n">intersection</span> <span class="o">=</span> <span class="n">ListUtils</span><span class="o">.</span><span class="na">intersection</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">),</span> 
<span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">intersection</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;7&quot;</span> <span class="o">});</span>

<span class="n">List</span> <span class="n">union</span> <span class="o">=</span> <span class="n">ListUtils</span><span class="o">.</span><span class="na">union</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">),</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="n">Set</span> <span class="n">unionUnique</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">(</span><span class="n">union</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">unionUnique</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;6&quot;</span><span class="o">,</span> <span class="s">&quot;7&quot;</span><span class="o">,</span> <span class="s">&quot;8&quot;</span><span class="o">,</span> <span class="s">&quot;9&quot;</span> <span class="o">});</span>

<span class="n">List</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">ListUtils</span><span class="o">.</span><span class="na">subtract</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">),</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">diff</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;6&quot;</span><span class="o">,</span> <span class="s">&quot;8&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN197"
>Appending One Array to Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Time&quot;</span><span class="o">,</span> <span class="s">&quot;Flies&quot;</span> <span class="o">};</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;An&quot;</span><span class="o">,</span> <span class="s">&quot;Arrow&quot;</span> <span class="o">};</span>

<span class="c1">// Append to existing list</span>
<span class="n">List</span> <span class="n">members</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">));</span>
<span class="n">members</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">members</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Time&quot;</span><span class="o">,</span> <span class="s">&quot;Flies&quot;</span><span class="o">,</span> <span class="s">&quot;An&quot;</span><span class="o">,</span> <span class="s">&quot;Arrow&quot;</span> <span class="o">});</span>

<span class="c1">// Append and create a new list (using apache commons-collections 1.0+)</span>
<span class="n">List</span> <span class="n">union</span> <span class="o">=</span> <span class="n">ListUtils</span><span class="o">.</span><span class="na">union</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">),</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">union</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;Time&quot;</span><span class="o">,</span> <span class="s">&quot;Flies&quot;</span><span class="o">,</span> <span class="s">&quot;An&quot;</span><span class="o">,</span> <span class="s">&quot;Arrow&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN200"
>Reversing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;the&quot;</span><span class="o">,</span> <span class="s">&quot;quick&quot;</span><span class="o">,</span> <span class="s">&quot;brown&quot;</span><span class="o">,</span> <span class="s">&quot;fox&quot;</span> <span class="o">};</span>

<span class="c1">// Reverse the array itself (using apache commons-collections 1.0+)</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">copy</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">[])</span> <span class="n">items</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
<span class="n">CollectionUtils</span><span class="o">.</span><span class="na">reverseArray</span><span class="o">(</span><span class="n">copy</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">copy</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;fox&quot;</span><span class="o">,</span> <span class="s">&quot;brown&quot;</span><span class="o">,</span> <span class="s">&quot;quick&quot;</span><span class="o">,</span> <span class="s">&quot;the&quot;</span> <span class="o">});</span>

<span class="c1">// Iterate backward (using apache commons-collections 3.2+)</span>
<span class="n">ReverseListIterator</span> <span class="n">iter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ReverseListIterator</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">items</span><span class="o">));</span>
<span class="n">StringBuffer</span> <span class="n">firstLetters</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">(</span><span class="n">iter</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">firstLetters</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">iter</span><span class="o">.</span><span class="na">next</span><span class="o">().</span><span class="na">toString</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">firstLetters</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;fbqt&quot;</span><span class="o">);</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN203"
>Processing Multiple Elements of an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>Finding the First List Element That Passes a Test</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;bill&quot;</span><span class="o">,</span> <span class="s">&quot;jack&quot;</span><span class="o">,</span> <span class="s">&quot;charles&quot;</span><span class="o">,</span> <span class="s">&quot;jim&quot;</span><span class="o">,</span> <span class="s">&quot;mike&quot;</span> <span class="o">};</span>

<span class="c1">// using apache commons-collections 1.0+</span>

<span class="n">Predicate</span> <span class="n">jFinder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Predicate</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">evaluate</span><span class="o">(</span><span class="n">Object</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="sc">&#39;j&#39;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Find the first name that starts with &#39;j&#39;</span>
<span class="n">String</span> <span class="n">firstJ</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">CollectionUtils</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">names</span><span class="o">),</span> <span class="n">jFinder</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">firstJ</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;jack&quot;</span><span class="o">);</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>Finding All Elements in an Array Matching Certain Criteria</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;bill&quot;</span><span class="o">,</span> <span class="s">&quot;jack&quot;</span><span class="o">,</span> <span class="s">&quot;charles&quot;</span><span class="o">,</span> <span class="s">&quot;jim&quot;</span><span class="o">,</span> <span class="s">&quot;mike&quot;</span> <span class="o">};</span>

<span class="c1">// using apache commons-collections 1.0+</span>

<span class="n">Predicate</span> <span class="n">jFinder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Predicate</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">evaluate</span><span class="o">(</span><span class="n">Object</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="sc">&#39;j&#39;</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Find all names that starts with &#39;j&#39;</span>
<span class="n">Collection</span> <span class="n">selected</span> <span class="o">=</span> <span class="n">CollectionUtils</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">names</span><span class="o">),</span> <span class="n">jFinder</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">selected</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;jack&quot;</span><span class="o">,</span> <span class="s">&quot;jim&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN212"
>Sorting an Array Numerically</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="c1">// Sort an array of primitives</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">20</span> <span class="o">};</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">100</span> <span class="o">});</span>

<span class="c1">// Sort an array of String alphabetically (default)</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;100&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span> <span class="o">};</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">names</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">names</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;100&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span> <span class="o">});</span>

<span class="c1">// Build a custom comparator to sort String numerically</span>
<span class="n">Comparator</span> <span class="n">custom</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Comparator</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Object</span> <span class="n">o1</span><span class="o">,</span> <span class="n">Object</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">((</span><span class="n">String</span><span class="o">)</span> <span class="n">o1</span><span class="o">)</span> <span class="o">-</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">((</span><span class="n">String</span><span class="o">)</span> <span class="n">o2</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Sort an array of String with custom comparator</span>
<span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;100&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span> <span class="o">};</span>
<span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">names</span><span class="o">,</span> <span class="n">custom</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">names</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span><span class="o">,</span> <span class="s">&quot;100&quot;</span> <span class="o">});</span>

<span class="c1">// Sorting a list of String with custom comparator</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;100&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span> <span class="o">});</span>
<span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">custom</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;20&quot;</span><span class="o">,</span> <span class="s">&quot;100&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN215"
>Sorting a List by Computable Field</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;bill&quot;</span><span class="o">,</span> <span class="s">&quot;jack&quot;</span><span class="o">,</span> <span class="s">&quot;charles&quot;</span><span class="o">,</span> <span class="s">&quot;jim&quot;</span><span class="o">,</span> <span class="s">&quot;mike&quot;</span> <span class="o">};</span>

<span class="c1">// Build a custom comparator to sort names by length and alphabetically</span>
<span class="n">Comparator</span> <span class="n">custom</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Comparator</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Object</span> <span class="n">o1</span><span class="o">,</span> <span class="n">Object</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">o1</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">o2</span><span class="o">;</span>
        
        <span class="kt">int</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">s2</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">diff</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">diff</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">diff</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Sorting list of String with custom comparator</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">names</span><span class="o">);</span>
<span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">custom</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;jim&quot;</span><span class="o">,</span> <span class="s">&quot;bill&quot;</span><span class="o">,</span> <span class="s">&quot;jack&quot;</span><span class="o">,</span> 
<span class="s">&quot;mike&quot;</span><span class="o">,</span> <span class="s">&quot;charles&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN218"
>Implementing a Circular List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">};</span>

<span class="c1">// Using Collections.rotate</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="n">Collections</span><span class="o">.</span><span class="na">rotate</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span> <span class="o">});</span>

<span class="n">Collections</span><span class="o">.</span><span class="na">rotate</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">});</span>

<span class="c1">// Stack is based on Vector, which is synchronized.</span>
<span class="c1">// One could use ArrayStack from apache commons-collections 1.0+,</span>
<span class="c1">// which is NOT synchronized and therefore, faster if multi-threading</span>
<span class="c1">// is not an issue.</span>
<span class="n">Stack</span> <span class="n">circular</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">();</span>
<span class="n">circular</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">));</span>

<span class="c1">// At this point, 5 is the top of the stack</span>

<span class="c1">// Put the top item at the bottom...</span>
<span class="n">circular</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">circular</span><span class="o">.</span><span class="na">pop</span><span class="o">());</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">circular</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;5&quot;</span><span class="o">,</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span> <span class="o">});</span>

<span class="c1">// ... and vice versa</span>
<span class="n">circular</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">circular</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="k">assert</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">circular</span><span class="o">.</span><span class="na">toArray</span><span class="o">(),</span>
                     <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">});</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN221"
>Randomizing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// ----------------------------------------------------------------------------------</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> <span class="s">&quot;1&quot;</span><span class="o">,</span> <span class="s">&quot;2&quot;</span><span class="o">,</span> <span class="s">&quot;3&quot;</span><span class="o">,</span> <span class="s">&quot;4&quot;</span><span class="o">,</span> <span class="s">&quot;5&quot;</span> <span class="o">};</span>

<span class="c1">// One could also pass a subclass of Random as the second parameter to</span>
<span class="c1">// shuffle to use a custom ramdom strategy.</span>
<span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="n">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
<span class="k">assert</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">5</span><span class="o">;</span>
<span class="c1">// ----------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN224"
>Program: words</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN227"
>Program: permute</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dates and Times</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Hashes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>