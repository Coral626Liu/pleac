<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Arrays</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Haskell"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Dates and Times"
HREF="datesandtimes.html"><LINK
REL="NEXT"
TITLE="Hashes"
HREF="hashes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Haskell</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ARRAYS"
>4. Arrays</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN170"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">single_level</span> <span class="ow">=</span> <span class="p">[</span> <span class="s">&quot;this&quot;</span><span class="p">,</span> <span class="s">&quot;that&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;other&quot;</span> <span class="p">]</span>
<span class="c1">-- can make nested list, but must all have the same depth</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN173"
>Specifying a List In Your Program</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">a</span>  <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;quick&quot;</span><span class="p">,</span> <span class="s">&quot;brown&quot;</span><span class="p">,</span> <span class="s">&quot;fox&quot;</span><span class="p">]</span>
<span class="nf">a&#39;</span> <span class="ow">=</span> <span class="s">&quot;Why are you teasing me?&quot;</span><span class="o">.</span><span class="n">words</span>
<span class="c1">-- no multiline in haskell</span>

<span class="nf">big_array</span> <span class="ow">=</span> <span class="n">cat</span> <span class="s">&quot;pleac.hs&quot;</span> 
<span class="nf">name1</span> <span class="ow">=</span> <span class="s">&quot;toto&quot;</span>
<span class="nf">banner_scalar</span> <span class="ow">=</span> <span class="s">&quot;Speak, &quot;</span><span class="o">^</span><span class="n">name1</span><span class="o">^</span><span class="s">&quot; and welcome!&quot;</span>

<span class="nf">his_host</span> <span class="ow">=</span> <span class="s">&quot;www.haskell.org&quot;</span>
<span class="nf">host_info</span> <span class="ow">=</span> <span class="n">exec</span> <span class="p">(</span><span class="s">&quot;host &quot;</span><span class="o">^</span><span class="n">his_host</span><span class="p">)</span>

<span class="nf">psinfo1</span> <span class="ow">=</span> <span class="n">exec</span> <span class="p">(</span><span class="s">&quot;ps $$&quot;</span><span class="p">)</span> <span class="c1">-- that&#39;s the new shell&#39;s $$</span>
<span class="nf">banner_array1</span> <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;Costs&quot;</span><span class="p">,</span><span class="s">&quot;only&quot;</span><span class="p">,</span><span class="s">&quot;$4.95&quot;</span><span class="p">]</span>
<span class="nf">banner_array2</span> <span class="ow">=</span> <span class="s">&quot;Costs only $4.95&quot;</span><span class="o">.</span><span class="n">words</span>
<span class="nf">banner_array3</span> <span class="ow">=</span> <span class="s">&quot;Costs only $4.95&quot;</span><span class="o">.</span><span class="n">split</span> <span class="s">&quot; &quot;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN176"
>Printing a List with Commas</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">commify_series</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">commify_series</span> <span class="kt">[]</span>  <span class="ow">=</span> <span class="s">&quot;&quot;</span>
<span class="nf">commify_series</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="ow">=</span> <span class="n">x</span>
<span class="nf">commify_series</span> <span class="n">xs</span>  <span class="ow">=</span> <span class="n">join</span> <span class="s">&quot;, &quot;</span> <span class="p">(</span><span class="n">init</span> <span class="n">xs</span><span class="p">)</span>  <span class="o">++</span> <span class="s">&quot; and &quot;</span> <span class="o">++</span> <span class="p">(</span><span class="n">last</span> <span class="n">xs</span><span class="p">)</span>
<span class="c1">-- commify_series [&quot;cava&quot;, &quot;etoi&quot;,&quot;ouais&quot;] =&gt; &quot;cava, etoi and ouais&quot;</span>

<span class="nf">array</span> <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">]</span>
<span class="nf">s12</span> <span class="ow">=</span> <span class="s">&quot;I have &quot;</span><span class="o">++</span><span class="n">commify_series</span> <span class="n">array</span><span class="o">++</span><span class="s">&quot; marbles&quot;</span>
<span class="nf">marray1</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="p">(</span><span class="s">&quot;I have &quot;</span><span class="o">^</span><span class="p">(</span><span class="n">concat</span>  <span class="n">array</span><span class="p">)</span><span class="o">^</span><span class="s">&quot; marbles&quot;</span><span class="p">)</span> <span class="c1">-- I have redyellowgreen marbles</span>
<span class="nf">marray2</span> <span class="ow">=</span> <span class="n">putStrLn</span> <span class="p">(</span><span class="s">&quot;I have &quot;</span><span class="o">^</span><span class="p">(</span><span class="n">unwords</span> <span class="n">array</span><span class="p">)</span><span class="o">^</span><span class="s">&quot; marbles&quot;</span><span class="p">)</span> <span class="c1">-- I have red yellow green marbles</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN179"
>Changing Array Size</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- grow/shring the array by assigning nil to past the end of array</span>
<span class="nf">change_size</span> <span class="n">n</span> <span class="n">xs</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="n">xs</span><span class="o">.</span><span class="n">length</span> <span class="kr">then</span> <span class="n">take</span> <span class="n">n</span> <span class="n">xs</span>
		   <span class="kr">else</span> <span class="n">xs</span><span class="o">++</span><span class="p">(</span><span class="n">null_val</span><span class="o">.</span><span class="n">replicate</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">xs</span><span class="o">.</span><span class="n">length</span><span class="p">))</span>

<span class="nf">change_val</span> <span class="n">ix</span> <span class="n">e</span> <span class="n">xs</span> <span class="ow">=</span> <span class="kr">let</span> <span class="n">xs&#39;</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">ix</span> <span class="o">&lt;=</span> <span class="n">xs</span><span class="o">.</span><span class="n">length</span> <span class="kr">then</span> <span class="n">xs</span> <span class="kr">else</span> <span class="n">change_size</span> <span class="n">ix</span> <span class="n">xs</span> <span class="kr">in</span>
			 <span class="n">xs&#39;</span><span class="o">!!</span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="n">ix</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">++</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">++</span><span class="n">xs&#39;</span><span class="o">!!</span><span class="p">[</span><span class="n">ix</span><span class="o">+</span><span class="mi">1</span><span class="o">..</span><span class="p">]</span>
		     
<span class="nf">array2</span> <span class="ow">=</span> <span class="n">array</span><span class="o">.</span><span class="n">change_size</span> <span class="mi">5</span>
<span class="nf">array3</span> <span class="ow">=</span> <span class="n">array</span><span class="o">.</span><span class="n">change_val</span> <span class="mi">5</span> <span class="s">&quot;toto&quot;</span>

<span class="nf">array4</span> <span class="ow">=</span> <span class="s">&quot;toto&quot;</span><span class="o">.</span><span class="n">replicate</span> <span class="mi">5</span>

<span class="nf">what_about_that_array</span> <span class="n">x</span> <span class="ow">=</span> 
    <span class="s">&quot;The array now has &quot;</span><span class="o">^</span><span class="n">length</span> <span class="n">x</span><span class="o">^</span><span class="s">&quot;elements.</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">^</span>
    <span class="s">&quot;The index of the last element is &quot;</span><span class="o">^</span><span class="n">length</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">^</span><span class="s">&quot;.</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">^</span>
    <span class="s">&quot;Element .3 is`&quot;</span><span class="o">^</span><span class="n">x</span><span class="o">!</span><span class="p">(</span><span class="mi">3</span><span class="ow">::</span><span class="kt">Int</span><span class="p">)</span><span class="o">^</span><span class="s">&quot;&#39;.</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="nf">s13</span> <span class="ow">=</span> <span class="s">&quot;Crosby Stills Nash Young&quot;</span><span class="o">.</span><span class="n">words</span><span class="o">.</span><span class="n">what_about_that_array</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182"
>Doing Something with Every Element in a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- in hugs even this take time :), sort is insertion sort :) by default</span>
<span class="nf">m4</span> <span class="ow">=</span> <span class="n">env</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="nf">\</span><span class="n">l</span> <span class="ow">-&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="nf">\</span><span class="n">var</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">var</span> <span class="o">^</span><span class="s">&quot;=&quot;</span> <span class="o">^</span> <span class="p">(</span><span class="n">l</span><span class="o">!</span><span class="n">var</span><span class="p">))</span><span class="o">.</span><span class="n">putStrLn</span><span class="p">))</span>
<span class="nf">m5</span> <span class="ow">=</span> <span class="n">env</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="nf">\</span><span class="n">l</span> <span class="ow">-&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">var</span><span class="p">,</span><span class="n">val</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">var</span><span class="o">^</span><span class="s">&quot;=&quot;</span><span class="o">^</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">putStrLn</span><span class="p">))</span> <span class="c1">-- but non-sorted</span>
<span class="nf">m6</span> <span class="ow">=</span> <span class="n">env</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="nf">\</span><span class="n">l</span> <span class="ow">-&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">toList</span><span class="o">.</span><span class="n">sortBy</span><span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="nf">\</span><span class="p">(</span><span class="n">var</span><span class="p">,</span><span class="n">val</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">var</span><span class="o">^</span><span class="s">&quot;=&quot;</span><span class="o">^</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">putStrLn</span><span class="p">))</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN185"
>Iterating Over an Array by Reference</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- not relevant in haskell since we have always kind of references</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN188"
>Extracting Unique Elements from a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">users</span>  <span class="ow">=</span> <span class="n">exec</span> <span class="s">&quot;who&quot;</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">map</span> <span class="p">(</span><span class="n">words</span> <span class="o">$</span> <span class="n">head</span><span class="p">)</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="n">unique</span>
<span class="nf">users2</span> <span class="ow">=</span> <span class="n">exec</span> <span class="s">&quot;who&quot;</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">map</span> <span class="p">(</span><span class="n">match</span> <span class="s">&quot;(</span><span class="se">\\</span><span class="s">w+)&quot;</span> <span class="o">$</span> <span class="n">head</span><span class="p">)</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="n">unique</span>
<span class="c1">-- cant do as short as ruby: puts(&quot;users logged in: .{commify_series(users)}&quot;)</span>
<span class="c1">--  monad are too intrusive and we need to introduce an extra var l, :(((  </span>
<span class="nf">m10</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">l</span> <span class="ow">&lt;-</span> <span class="n">users</span> 
         <span class="n">putStrLn</span> <span class="p">(</span><span class="s">&quot;users logged in:&quot;</span><span class="o">++</span><span class="p">(</span><span class="n">commify_series</span> <span class="n">l</span><span class="p">))</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN191"
>Finding Elements in One Array but Not Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">l1</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span> <span class="p">`</span><span class="n">difference</span><span class="p">`</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="c1">-- could make [1..5] - [2,5], just have to make an instance Num</span>

<span class="kr">instance</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">,</span><span class="kt">Show</span> <span class="n">a</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="kt">Num</span> <span class="p">([</span><span class="n">a</span><span class="p">])</span> <span class="kr">where</span>
    <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="ow">=</span> <span class="n">a</span> <span class="p">`</span><span class="n">union</span><span class="p">`</span> <span class="n">b</span>
    <span class="p">(</span><span class="o">-</span><span class="p">)</span> <span class="n">a</span> <span class="n">b</span> <span class="ow">=</span> <span class="n">a</span> <span class="p">`</span><span class="n">difference</span><span class="p">`</span> <span class="n">b</span> <span class="c1">-- we can write it like that</span>
    <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="ow">=</span> <span class="n">intersect</span> <span class="c1">-- or even shorter</span>
<span class="c1">-- make this instance is very dangerous, cos now typechecker not detect the error [show 1,show 2]++[0,0], WHY ?</span>
<span class="nf">l1&#39;</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span> <span class="o">-</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN194"
>Computing Union, Intersection, or Difference of Unique Lists</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">l2</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
<span class="nf">l3</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="nf">l4</span> <span class="ow">=</span> <span class="n">l2</span> <span class="p">`</span><span class="n">union</span><span class="p">`</span> <span class="n">l3</span>
<span class="nf">l4&#39;</span> <span class="ow">=</span> <span class="n">l2</span> <span class="o">+</span> <span class="n">l3</span>
<span class="nf">l5</span> <span class="ow">=</span> <span class="n">l2</span> <span class="p">`</span><span class="n">intersect</span><span class="p">`</span> <span class="n">l3</span>
<span class="nf">l5&#39;</span> <span class="ow">=</span> <span class="n">l2</span> <span class="o">*</span> <span class="n">l3</span>
<span class="nf">l6</span> <span class="ow">=</span> <span class="n">difference</span> <span class="p">(</span><span class="n">union</span> <span class="n">l2</span> <span class="n">l3</span><span class="p">)</span> <span class="p">(</span><span class="n">intersect</span> <span class="n">l2</span> <span class="n">l3</span><span class="p">)</span>
<span class="nf">l6&#39;</span> <span class="ow">=</span> <span class="p">(</span><span class="n">l2</span> <span class="o">+</span> <span class="n">l3</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">l2</span> <span class="o">*</span> <span class="n">l3</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN197"
>Appending One Array to Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">members</span> <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;Times&quot;</span><span class="p">,</span><span class="s">&quot;Flies&quot;</span><span class="p">]</span>
<span class="nf">initiates</span> <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;An&quot;</span><span class="p">,</span> <span class="s">&quot;Arrow&quot;</span><span class="p">]</span>
<span class="nf">newmembers</span>  <span class="ow">=</span> <span class="n">members</span> <span class="o">++</span> <span class="n">initiates</span>
<span class="nf">newmembers2</span> <span class="ow">=</span> <span class="n">members</span><span class="o">.</span><span class="n">insert_at</span> <span class="mi">2</span> <span class="p">(</span><span class="s">&quot;Like&quot;</span><span class="kt">:</span><span class="n">initiates</span><span class="p">)</span>

<span class="nf">newmembers3</span> <span class="ow">=</span> <span class="n">members</span><span class="o">.</span><span class="n">replace</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&quot;Fruit&quot;</span><span class="p">)]</span>
<span class="nf">newmembers4</span> <span class="ow">=</span> <span class="n">members</span><span class="o">.</span><span class="n">replace</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;Fruit&quot;</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="s">&quot;Banana&quot;</span><span class="p">)]</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN200"
>Reversing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span>
<span class="nf">reversed</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">reverse</span>
<span class="nf">array5</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">descending</span>  <span class="ow">=</span> <span class="n">array5</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">reverse</span>
<span class="nf">descending&#39;</span> <span class="ow">=</span> <span class="n">array5</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="o">&lt;=&gt;</span> <span class="n">a</span><span class="p">)</span>
<span class="nf">descending2</span> <span class="ow">=</span> <span class="n">array5</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="n">flip</span> <span class="p">(</span><span class="o">&lt;=&gt;</span><span class="p">))</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN203"
>Processing Multiple Elements of an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- remove n elements from front of ary (shift n)</span>
<span class="p">(</span><span class="n">front</span><span class="p">,</span><span class="n">newarray</span><span class="p">)</span> <span class="ow">=</span> <span class="n">array5</span><span class="o">.</span><span class="n">splitAt</span> <span class="mi">1</span>

<span class="c1">-- remove n elements from the end of ary (pop n)</span>
<span class="p">(</span><span class="n">newarray&#39;</span><span class="p">,</span><span class="n">end&#39;</span><span class="p">)</span>  <span class="ow">=</span> <span class="n">array5</span><span class="o">.</span><span class="n">splitAt</span> <span class="p">(</span><span class="n">array5</span><span class="o">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>


<span class="nf">shift2</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="ow">=</span> <span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="n">ys</span><span class="p">)</span> <span class="c1">-- shift2 = zip ... shift ... TODO</span>
<span class="nf">pop2</span> <span class="n">xs</span> <span class="ow">=</span> <span class="kr">let</span> <span class="p">(</span><span class="n">a</span><span class="p">,[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span> <span class="ow">=</span> <span class="n">splitAt</span> <span class="p">(</span><span class="n">xs</span><span class="o">.</span><span class="n">length</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="n">xs</span> <span class="kr">in</span> <span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="n">a</span><span class="p">)</span>


<span class="nf">friends</span> <span class="ow">=</span> <span class="s">&quot;Peter Paul Mary Jim Tim&quot;</span><span class="o">.</span><span class="n">words</span>
<span class="p">((</span><span class="n">this</span><span class="p">,</span> <span class="n">that</span><span class="p">),</span> <span class="n">newfriends</span><span class="p">)</span> <span class="ow">=</span> <span class="n">friends</span><span class="o">.</span><span class="n">shift2</span>

<span class="nf">beverages</span> <span class="ow">=</span> <span class="s">&quot;Dew Jolt Cola Sprite Fresca&quot;</span><span class="o">.</span><span class="n">words</span>
<span class="p">(</span><span class="n">pair</span><span class="p">,</span><span class="n">newbeverages</span><span class="p">)</span> <span class="ow">=</span> <span class="n">beverages</span><span class="o">.</span><span class="n">pop2</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>Finding the First List Element That Passes a Test</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">data</span> <span class="kt">Employee</span> <span class="ow">=</span> <span class="kt">Employee</span> <span class="p">{</span><span class="n">category</span><span class="p">,</span><span class="n">name</span><span class="ow">::</span> <span class="kt">String</span><span class="p">,</span> <span class="n">income</span><span class="ow">::</span><span class="kt">Int</span><span class="p">}</span> <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Show</span><span class="p">,</span><span class="kt">Eq</span><span class="p">)</span>
<span class="nf">employees</span> <span class="ow">=</span> <span class="p">[</span><span class="kt">Employee</span> <span class="p">{</span><span class="n">category</span><span class="ow">=</span><span class="s">&quot;neuneu&quot;</span><span class="p">,</span><span class="n">name</span><span class="ow">=</span><span class="s">&quot;ben&quot;</span><span class="p">,</span><span class="n">income</span><span class="ow">=</span><span class="mi">1000</span><span class="p">}</span>
	    <span class="p">,</span><span class="kt">Employee</span> <span class="p">{</span><span class="n">category</span><span class="ow">=</span><span class="s">&quot;neuneu&quot;</span><span class="p">,</span><span class="n">name</span><span class="ow">=</span><span class="s">&quot;pixel&quot;</span><span class="p">,</span><span class="n">income</span><span class="ow">=</span><span class="mi">1000</span><span class="p">}</span>
	    <span class="p">,</span><span class="kt">Employee</span> <span class="p">{</span><span class="n">category</span><span class="ow">=</span><span class="s">&quot;engineer&quot;</span><span class="p">,</span><span class="n">name</span><span class="ow">=</span><span class="s">&quot;pad&quot;</span><span class="p">,</span><span class="n">income</span><span class="ow">=</span><span class="mi">27000</span><span class="p">}</span>
	    <span class="p">,</span><span class="kt">Employee</span> <span class="p">{</span><span class="n">category</span><span class="ow">=</span><span class="s">&quot;engineer&quot;</span><span class="p">,</span><span class="n">name</span><span class="ow">=</span><span class="s">&quot;guit&quot;</span><span class="p">,</span><span class="n">income</span><span class="ow">=</span><span class="mi">100000</span><span class="p">}</span>
	     <span class="p">]</span>
<span class="c1">-- can do also with classic assoc list</span>
<span class="c1">-- employees = [(&quot;ben&quot;,&quot;neuneu1&quot;),(&quot;pixel&quot;,&quot;neuneu2&quot;),(&quot;pad&quot;,&quot;engineer&quot;),(&quot;guit&quot;,&quot;engineer&quot;)]</span>
<span class="c1">-- category = snd</span>
<span class="c1">-- name = fst</span>
<span class="p">(</span><span class="kt">Just</span> <span class="n">highest_engineer</span><span class="p">)</span> <span class="ow">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nf">\</span><span class="n">employee</span> <span class="ow">-&gt;</span> <span class="n">employee</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="s">&quot;engineer&quot;</span><span class="p">)</span>

<span class="nf">s14</span> <span class="ow">=</span> <span class="s">&quot;Highest paid engineer is: &quot;</span><span class="o">++</span> <span class="n">highest_engineer</span><span class="o">.</span><span class="n">name</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>Finding All Elements in an Array Matching Certain Criteria</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">bigs</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">5</span><span class="o">..</span><span class="mi">200</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span> <span class="p">(</span><span class="o">&gt;</span><span class="mi">50</span><span class="p">)</span> <span class="c1">-- hihi section :)</span>

<span class="nf">matching</span>  <span class="ow">=</span> <span class="n">exec</span> <span class="s">&quot;who&quot;</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">filter</span> <span class="p">(</span><span class="o">=~</span> <span class="s">&quot;^gnat&quot;</span><span class="p">)</span>

<span class="nf">engineers</span>  <span class="ow">=</span> <span class="p">[</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="n">employees</span><span class="p">,</span> <span class="n">category</span> <span class="n">x</span> <span class="o">==</span> <span class="s">&quot;engineer&quot;</span><span class="p">]</span>
<span class="nf">engineers&#39;</span> <span class="ow">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">filter</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="n">category</span> <span class="n">x</span> <span class="o">==</span> <span class="s">&quot;engineer&quot;</span><span class="p">)</span>

<span class="nf">secondary_assistance</span> <span class="ow">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">income</span> <span class="o">&gt;=</span> <span class="mi">26000</span> <span class="o">&amp;&amp;</span> <span class="n">x</span><span class="o">.</span><span class="n">income</span> <span class="o">&lt;</span> <span class="mi">30000</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN212"
>Sorting an Array Numerically</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- normally you would have an array of Numeric (Float or</span>
<span class="c1">-- Fixnum or Bignum), so you would use:</span>
<span class="nf">sorted1</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span>

<span class="c1">-- if you have strings representing Integers or Floats</span>
<span class="c1">-- you may specify another sort method (not lexicographic ordering):</span>
<span class="nf">sorted2</span>  <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;11&quot;</span><span class="p">,</span><span class="s">&quot;5&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="s">&quot;8&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span> <span class="c1">-- [&quot;1&quot;,&quot;11&quot;,&quot;5&quot;,&quot;8&quot;]</span>
<span class="nf">sorted2&#39;</span> <span class="ow">=</span> <span class="p">[</span><span class="s">&quot;11&quot;</span><span class="p">,</span><span class="s">&quot;5&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="s">&quot;8&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">((</span><span class="n">read</span> <span class="n">a</span><span class="p">)</span><span class="ow">::</span><span class="kt">Int</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="n">read</span> <span class="n">b</span><span class="p">)</span> <span class="c1">-- [&quot;1&quot;,&quot;5&quot;,&quot;8&quot;,&quot;11&quot;]</span>

<span class="c1">-- cant inline expression :(</span>
<span class="nf">pidsorted</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">ps</span> <span class="ow">&lt;-</span> <span class="n">exec</span> <span class="s">&quot;ps ux&quot;</span> 
	       <span class="n">myenv</span> <span class="ow">&lt;-</span> <span class="n">env</span>
	       <span class="n">ps</span><span class="o">!!</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="p">]</span> <span class="c1">-- avoid the indication string: USER TTY ....</span>
		     <span class="o">.</span><span class="n">filter</span> <span class="p">(</span><span class="o">=~</span> <span class="p">(</span><span class="n">myenv</span><span class="o">!</span><span class="s">&quot;USER&quot;</span><span class="p">))</span>
		     <span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">words</span> <span class="o">$</span> <span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">))</span>
		     <span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">((</span><span class="n">read</span> <span class="n">a</span><span class="p">)</span><span class="ow">::</span><span class="kt">Int</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="n">read</span> <span class="n">b</span><span class="p">)</span>
		     <span class="o">.</span><span class="n">each</span> <span class="n">putStrLn</span>
			 
<span class="nf">mkill</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">putStr</span> <span class="s">&quot;Select a process ID to kill:&quot;</span>	   
	   <span class="n">pids</span> <span class="ow">&lt;-</span> <span class="n">getLine</span>
	   <span class="p">(</span><span class="n">putStrLn</span> <span class="s">&quot;Exiting&quot;</span> <span class="o">&gt;&gt;</span> <span class="n">exit</span> <span class="mi">0</span><span class="p">)</span> <span class="p">`</span><span class="n">unless</span><span class="p">`</span> <span class="p">(</span><span class="n">pids</span> <span class="o">=~</span> <span class="s">&quot;</span><span class="se">\\</span><span class="s">d+&quot;</span><span class="p">)</span>
	   <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">exec</span> <span class="p">(</span><span class="s">&quot;kill &quot;</span><span class="o">^</span><span class="n">pids</span><span class="p">)</span>
	   <span class="kr">_</span> <span class="ow">&lt;-</span> <span class="n">exec</span> <span class="p">(</span><span class="s">&quot;sleep 2&quot;</span><span class="p">)</span>
	   <span class="n">exec</span> <span class="p">(</span><span class="s">&quot;kill -9 &quot;</span><span class="o">^</span><span class="n">pids</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN215"
>Sorting a List by Computable Field</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">unordered</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="nf">ordered</span> <span class="ow">=</span> <span class="n">unordered</span><span class="o">.</span><span class="n">sort</span>
<span class="nf">precomputed</span> <span class="ow">=</span> <span class="n">unordered</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">e</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">abs</span> <span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">])</span>
<span class="nf">ordered_precomputed</span> <span class="ow">=</span> <span class="n">precomputed</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="p">(</span><span class="n">b</span><span class="o">!</span><span class="mi">0</span><span class="p">))</span>
<span class="nf">ordered&#39;</span> <span class="ow">=</span> <span class="n">ordered_precomputed</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">)</span>

<span class="nf">ordered&#39;&#39;</span> <span class="ow">=</span> <span class="n">unordered</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">e</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">abs</span> <span class="n">e</span><span class="p">,</span><span class="n">e</span><span class="p">])</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="p">(</span><span class="n">b</span><span class="o">!</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">)</span>

<span class="nf">employee_sorted</span> <span class="ow">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">sortBy</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">&lt;=&gt;</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

<span class="nf">musers</span>  <span class="ow">=</span> <span class="n">cat</span> <span class="s">&quot;/etc/passwd&quot;</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="n">split</span> <span class="s">&quot;:&quot;</span> <span class="o">$</span> <span class="n">head</span><span class="p">)</span> <span class="o">$</span> <span class="n">sort</span> <span class="o">$</span> <span class="n">mapM</span> <span class="n">putStrLn</span><span class="p">)</span>
<span class="nf">musers&#39;</span> <span class="ow">=</span> <span class="n">cat</span> <span class="s">&quot;/etc/passwd&quot;</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">l</span> <span class="ow">-&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span> <span class="s">&quot;:&quot;</span><span class="o">.</span><span class="n">head</span><span class="p">)</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">each</span> <span class="n">putStrLn</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN218"
>Implementing a Circular List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- in haskell we can use infinite list</span>
<span class="nf">circular</span> <span class="ow">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span><span class="o">++</span><span class="n">circular</span>

<span class="nf">grab_and_rotate</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">xs</span><span class="o">++</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="nf">mprocess1</span> <span class="ow">=</span> <span class="n">loop</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="kr">where</span>
	    <span class="n">loop</span> <span class="n">processes</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">putStrLn</span> <span class="p">(</span><span class="s">&quot;Handling process&quot;</span><span class="o">^</span><span class="n">process</span><span class="p">)</span>
				<span class="n">system</span> <span class="s">&quot;sleep 1&quot;</span>
				<span class="n">loop</span> <span class="n">newprocess</span>
				<span class="n">return</span> <span class="nb">()</span> <span class="c1">-- forced, WHY?</span>
				<span class="kr">where</span> <span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">newprocess</span><span class="p">)</span> <span class="ow">=</span> <span class="n">grab_and_rotate</span> <span class="n">processes</span>
<span class="nf">mprocess2</span> <span class="ow">=</span> <span class="n">loop</span> <span class="n">circular</span> <span class="kr">where</span>
	    <span class="n">loop</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">putStrLn</span> <span class="p">(</span><span class="s">&quot;Handling process&quot;</span><span class="o">^</span><span class="n">x</span><span class="p">)</span>
			     <span class="n">system</span> <span class="s">&quot;sleep 1&quot;</span>
			     <span class="n">loop</span> <span class="n">xs</span>
			     <span class="n">return</span> <span class="nb">()</span> <span class="c1">-- forced, WHY?</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN221"
>Randomizing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- brute force</span>
<span class="nf">permut</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">permut</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>    <span class="ow">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">]]</span>
<span class="nf">permut</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">permut</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">insert</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">concat</span>
    <span class="kr">where</span> <span class="n">insert</span> <span class="n">x</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">]]</span>
	  <span class="n">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="kt">:</span> <span class="n">map</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="p">)</span> <span class="p">(</span><span class="n">insert</span> <span class="n">x</span> <span class="n">ys</span><span class="p">)</span>

<span class="nf">fact</span> <span class="mi">0</span>     <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">fact</span> <span class="n">n</span>

<span class="nf">randomizing</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">rand</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">xs</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">fact</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="p">((</span><span class="n">xs</span><span class="o">.</span><span class="n">permut</span><span class="p">)</span><span class="o">!</span><span class="p">)</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN224"
>Program: words</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN227"
>Program: permute</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nf">bigint</span> <span class="ow">=</span> <span class="n">fact</span> <span class="mi">500</span>
<span class="c1">-- on hugs, i have 1134 digits</span>
<span class="nf">permute</span> <span class="ow">=</span> <span class="n">permut</span>
<span class="c1">----------------------------------</span>
<span class="o">#!/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">runhugs</span>
<span class="kr">module</span> <span class="nn">Main</span> <span class="kr">where</span>
<span class="kr">import</span> <span class="nn">Prelude</span> <span class="k">hiding</span> <span class="p">((</span><span class="o">.</span><span class="p">))</span>

<span class="c1">-- usage: echo dog eat cat | ./script.hs</span>
<span class="nf">permut</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">permut</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>    <span class="ow">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">]]</span>
<span class="nf">permut</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">permut</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">insert</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">concat</span>
    <span class="kr">where</span> <span class="n">insert</span> <span class="n">x</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">]]</span>
	  <span class="n">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="kt">:</span> <span class="n">map</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="p">)</span> <span class="p">(</span><span class="n">insert</span> <span class="n">x</span> <span class="n">ys</span><span class="p">)</span>

<span class="nf">fact</span> <span class="mi">0</span>     <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">fact</span> <span class="n">n</span>

<span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="n">o</span> <span class="n">f</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">o</span> <span class="c1">-- object notation for object fan</span>
<span class="p">(</span><span class="err">°</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span> <span class="n">line</span> <span class="ow">&lt;-</span> <span class="n">getLine</span>
	  <span class="n">line</span><span class="o">.</span><span class="n">words</span><span class="o">.</span><span class="n">permut</span><span class="o">.</span><span class="n">mapM_</span><span class="p">(</span><span class="n">putStrLn</span> <span class="err">°</span> <span class="n">unwords</span><span class="p">)</span>

<span class="c1">----------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dates and Times</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Hashes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>