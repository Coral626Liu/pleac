<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Arrays</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-PHP"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Dates and Times"
HREF="datesandtimes.html"><LINK
REL="NEXT"
TITLE="Hashes"
HREF="hashes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ARRAYS"
>4. Arrays</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN170"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Nested arrays are supported, and may be easily printed using &#39;print_r&#39;</span>

<span class="nv">$nested</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">);</span>

<span class="nv">$nested</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">));</span> <span class="nb">print_r</span><span class="p">(</span><span class="nv">$nested</span><span class="p">);</span>

<span class="nv">$tune</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;The&#39;</span><span class="p">,</span> <span class="s1">&#39;Star-Spangled&#39;</span><span class="p">,</span> <span class="s1">&#39;Banner&#39;</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN173"
>Specifying a List In Your Program</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers only the &#39;array&#39; type which is actually an associative array, though</span>
<span class="c1">// may be numerically indexed, to mimic vectors and matrices; there is no separate</span>
<span class="c1">// &#39;list&#39; type</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;quick&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;fox&#39;</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="nb">escapeshellarg</span><span class="p">(</span><span class="s1">&#39;Why are you teasing me?&#39;</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$lines</span> <span class="o">=</span> <span class="s">&lt;&lt;&lt;END_OF_HERE_DOC</span>
<span class="s">    The boy stood on the burning deck,</span>
<span class="s">    it was as hot as glass.</span>
<span class="s">END_OF_HERE_DOC;</span>

<span class="c1">// ------------</span>

<span class="nv">$bigarray</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;rtrim&#39;</span><span class="p">,</span> <span class="nb">file</span><span class="p">(</span><span class="s1">&#39;mydatafile&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="s1">&#39;The mines of Moria&#39;</span><span class="p">;</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="nb">escapeshellarg</span><span class="p">(</span><span class="s1">&#39;The mines of Moria&#39;</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="s1">&#39;Gandalf&#39;</span><span class="p">;</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="s2">&quot;Speak </span><span class="si">{</span><span class="nv">$name</span><span class="si">}</span><span class="s2">, and enter!&quot;</span><span class="p">;</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="s1">&#39;Speak &#39;</span> <span class="o">.</span> <span class="nb">escapeshellarg</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39; and welcome!&#39;</span><span class="p">;</span>

<span class="c1">// ------------</span>

<span class="nv">$his_host</span> <span class="o">=</span> <span class="s1">&#39;www.perl.com&#39;</span><span class="p">;</span>

<span class="nv">$host_info</span> <span class="o">=</span> <span class="sb">`nslookup $his_host`</span><span class="p">;</span>

<span class="nv">$cmd</span> <span class="o">=</span> <span class="s1">&#39;ps &#39;</span> <span class="o">.</span> <span class="nb">posix_getpid</span><span class="p">();</span> <span class="nv">$perl_info</span> <span class="o">=</span> <span class="sb">`$cmd`</span><span class="p">;</span>

<span class="nv">$shell_info</span> <span class="o">=</span> <span class="sb">`ps $$`</span><span class="p">;</span>

<span class="c1">// ------------</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Costs&#39;</span><span class="p">,</span> <span class="s1">&#39;only&#39;</span><span class="p">,</span> <span class="s1">&#39;$4.95&#39;</span><span class="p">);</span>

<span class="nv">$banner</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;escapeshellarg&#39;</span><span class="p">,</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Costs only $4.95&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="c1">// AFAIK PHP doesn&#39;t support non-quoted strings ala Perl&#39;s &#39;q&#39;, &#39;qq&#39; and &#39;qw&#39;, so arrays</span>
<span class="c1">// created from strings must use quoted strings, and make use of &#39;split&#39; [or equivalent].</span>
<span class="c1">// A slew of functions exist for performing string quoting, including &#39;escapeshellarg&#39;,</span>
<span class="c1">// &#39;quotemeta&#39;, and &#39;preg_quote&#39;</span>

<span class="nv">$brax</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;( ) &lt; &gt; { } [ ]&#39;</span><span class="p">);</span>

<span class="c1">// Do this to quote each element within &#39;..&#39;</span>
<span class="c1">// $brax = array_map(&#39;escapeshellarg&#39;, split(&#39; &#39;, &#39;( ) &lt; &gt; { } [ ]&#39;));</span>

<span class="nv">$rings</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Nenya Narya Vilya&#39;</span><span class="p">);</span>

<span class="nv">$tags</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;LI TABLE TR TD A IMG H1 P&#39;</span><span class="p">);</span>

<span class="nv">$sample</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;The vertical bar | looks and behaves like a pipe.&#39;</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN176"
>Printing a List with Commas</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="k">function</span> <span class="nf">commify_series</span><span class="p">(</span><span class="nv">$list</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$n</span> <span class="o">=</span> <span class="nb">str_word_count</span><span class="p">(</span><span class="nv">$list</span><span class="p">);</span> <span class="nv">$series</span> <span class="o">=</span> <span class="nb">str_word_count</span><span class="p">(</span><span class="nv">$list</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="k">NULL</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nv">$series</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="nv">$series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39; and &#39;</span> <span class="o">.</span> <span class="nv">$series</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  
  <span class="k">return</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$series</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">.</span> <span class="s1">&#39;, and &#39;</span> <span class="o">.</span> <span class="nv">$series</span><span class="p">[</span><span class="nv">$n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">echo</span> <span class="nx">commify_series</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="k">echo</span> <span class="nx">commify_series</span><span class="p">(</span><span class="s1">&#39;red yellow&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="k">echo</span> <span class="nx">commify_series</span><span class="p">(</span><span class="s1">&#39;red yellow green&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="nv">$mylist</span> <span class="o">=</span> <span class="s1">&#39;red yellow green&#39;</span><span class="p">;</span>
<span class="k">echo</span> <span class="s1">&#39;I have &#39;</span> <span class="o">.</span> <span class="nx">commify_series</span><span class="p">(</span><span class="nv">$mylist</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; marbles.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">commify_series</span><span class="p">(</span><span class="nv">$arr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$n</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span> <span class="nv">$sepchar</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">;</span>

  <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$str</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="k">false</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="nv">$sepchar</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span> 
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="k">NULL</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nv">$arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="nv">$n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="nv">$arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39; and &#39;</span> <span class="o">.</span> <span class="nv">$arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  
  <span class="k">return</span> <span class="nb">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{</span><span class="nv">$sepchar</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$sepchar</span><span class="si">}</span><span class="s2"> and &quot;</span> <span class="o">.</span> <span class="nv">$arr</span><span class="p">[</span><span class="nv">$n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$lists</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;just one thing&#39;</span><span class="p">),</span>
  <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Mutt Jeff&#39;</span><span class="p">),</span>
  <span class="nb">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Peter Paul Mary&#39;</span><span class="p">),</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;To our parents&#39;</span><span class="p">,</span> <span class="s1">&#39;Mother Theresa&#39;</span><span class="p">,</span> <span class="s1">&#39;God&#39;</span><span class="p">),</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;pastrami&#39;</span><span class="p">,</span> <span class="s1">&#39;ham and cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;peanut butter and jelly&#39;</span><span class="p">,</span> <span class="s1">&#39;tuna&#39;</span><span class="p">),</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;recycle tired, old phrases&#39;</span><span class="p">,</span> <span class="s1">&#39;ponder big, happy thoughts&#39;</span><span class="p">),</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;recycle tired, old phrases&#39;</span><span class="p">,</span> <span class="s1">&#39;ponder big, happy thoughts&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep and dream peacefully&#39;</span><span class="p">));</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$lists</span> <span class="k">as</span> <span class="nv">$arr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s1">&#39;The list is: &#39;</span> <span class="o">.</span> <span class="nx">commify_series</span><span class="p">(</span><span class="nv">$arr</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN179"
>Changing Array Size</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// AFAICT you cannot grow / shrink an array to an arbitrary size. However, you can:</span>
<span class="c1">// * Grow an array by appending an element using subscrip notation, or using</span>
<span class="c1">//   either &#39;array_unshift&#39; or &#39;array_push&#39; to add one or more elements</span>

<span class="nv">$arr</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">&#39;one&#39;</span><span class="p">;</span>
<span class="nb">array_unshift</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">);</span>
<span class="nb">array_push</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">);</span>

<span class="c1">// * Shrink an array by using &#39;unset&#39; to remove one or more specific elements, or</span>
<span class="c1">//   either &#39;array_shift&#39; or &#39;array_pop&#39; to remove an element from the ends</span>

<span class="nb">unset</span><span class="p">(</span><span class="nv">$arr</span><span class="p">[</span><span class="nv">$idx1</span><span class="p">],</span> <span class="nv">$arr</span><span class="p">[</span><span class="nv">$idx2</span><span class="p">],</span> <span class="nv">$arr</span><span class="p">[</span><span class="nv">$idx3</span><span class="p">]);</span>
<span class="nv">$item</span> <span class="o">=</span> <span class="nb">array_shift</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>
<span class="nv">$item</span> <span class="o">=</span> <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">what_about_the_array</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">global</span> <span class="nv">$people</span><span class="p">;</span>

  <span class="k">echo</span> <span class="s1">&#39;The array now has &#39;</span> <span class="o">.</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$people</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; elements</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s1">&#39;The index value of the last element is &#39;</span> <span class="o">.</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$people</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s1">&#39;Element #3 is &#39;</span> <span class="o">.</span> <span class="nv">$people</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$people</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Crosby&#39;</span><span class="p">,</span> <span class="s1">&#39;Stills&#39;</span><span class="p">,</span> <span class="s1">&#39;Nash&#39;</span><span class="p">,</span> <span class="s1">&#39;Young&#39;</span><span class="p">);</span>
<span class="nx">what_about_the_array</span><span class="p">();</span>

<span class="nb">array_pop</span><span class="p">(</span><span class="nv">$people</span><span class="p">);</span>
<span class="nx">what_about_the_array</span><span class="p">();</span>

<span class="c1">// Cannot, AFAICT, resize the array to an arbitrary size</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182"
>Doing Something with Every Element in a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$list</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with $item</span>
<span class="p">}</span>

<span class="c1">// Environment listing example</span>

<span class="c1">// PHP defines a superglobal $_ENV to provide access to environment</span>
<span class="c1">// variables.</span>

<span class="c1">// Beware, array assignment means copying in PHP. You need to use</span>
<span class="c1">// the reference operator to avoid copying. But we want a copy here.</span>
<span class="nv">$env</span> <span class="o">=</span> <span class="nv">$_ENV</span><span class="p">;</span>

<span class="c1">// PHP can sort an array by key, so you don&#39;t need to get keys,</span>
<span class="c1">// and then sort.</span>
<span class="nb">ksort</span><span class="p">(</span><span class="nv">$env</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$env</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nv">$value</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Literal translation of Perl example would be:</span>
<span class="nv">$keys</span> <span class="o">=</span> <span class="nb">array_keys</span><span class="p">(</span><span class="nv">$_ENV</span><span class="p">);</span>
<span class="nb">sort</span><span class="p">(</span><span class="nv">$keys</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$keys</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nv">$_ENV</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// This assumes that MAX_QUOTA is a named constant.</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$all_users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$disk_space</span> <span class="o">=</span> <span class="nx">get_usage</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$disk_space</span> <span class="o">&gt;</span> <span class="nx">MAX_QUOTA</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">complain</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// You can&#39;t modify array&#39;s elements in-place.</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nv">$newarray</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$newarray</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$item</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$newarray</span><span class="p">);</span>

<span class="c1">// Before PHP 5, that is. You can precede the reference operator</span>
<span class="c1">// before $item to get reference instead of copy.</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="o">&amp;</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$item</span><span class="o">--</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>

<span class="c1">// TODO: explain the old each() and list() iteration construct.</span>
<span class="c1">// foreach is new in PHP 4, and there are subtle differences.</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN185"
>Iterating Over an Array by Reference</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Conventional &#39;read-only&#39; access</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Can access, but not update, array element referred to by &#39;$item&#39;</span>
<span class="p">}</span>

<span class="c1">// ----</span>

<span class="c1">// &#39;&amp;&#39; makes &#39;$item&#39; a reference</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="o">&amp;</span><span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Update array element referred to by &#39;$item&#39;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$arraylen</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$arraylen</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// &#39;$array&#39; is updateable via subscript notation</span>
<span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="nv">$fruits</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Apple&#39;</span><span class="p">,</span> <span class="s1">&#39;Raspberry&#39;</span><span class="p">);</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$fruits</span> <span class="k">as</span> <span class="o">&amp;</span><span class="nv">$fruit</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$fruit</span><span class="si">}</span><span class="s2"> tastes good in a pie.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$fruitlen</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$fruits</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$fruitlen</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$fruits</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2"> tastes good in a pie.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="nv">$rogue_cats</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Blackie&#39;</span><span class="p">,</span> <span class="s1">&#39;Goldie&#39;</span><span class="p">,</span> <span class="s1">&#39;Silkie&#39;</span><span class="p">);</span>

<span class="c1">// Take care to assign reference to &#39;$rogue_cats&#39; array via &#39;=&amp;&#39;</span>
<span class="nv">$namelist</span><span class="p">[</span><span class="s1">&#39;felines&#39;</span><span class="p">]</span> <span class="o">=&amp;</span> <span class="nv">$rogue_cats</span><span class="p">;</span>

<span class="c1">// Take care to make &#39;$cat&#39; a reference via &#39;&amp;$&#39; to allow updating</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$namelist</span><span class="p">[</span><span class="s1">&#39;felines&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="o">&amp;</span><span class="nv">$cat</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$cat</span> <span class="o">.=</span> <span class="s1">&#39; [meow]&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Via array reference</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$namelist</span><span class="p">[</span><span class="s1">&#39;felines&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$cat</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$cat</span><span class="si">}</span><span class="s2"> purrs hypnotically.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">echo</span> <span class="s2">&quot;---</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1">// Original array</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$rogue_cats</span> <span class="k">as</span> <span class="nv">$cat</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$cat</span><span class="si">}</span><span class="s2"> purrs hypnotically.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN188"
>Extracting Unique Elements from a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers the &#39;array_unique&#39; function to perform this task. It works with both keyed,</span>
<span class="c1">// and numerically-indexed arrays; keys / indexes are preserved; use of &#39;array_values&#39; </span>
<span class="c1">// is recommended to reindex numerically-indexed arrays since there will likely be missing</span>
<span class="c1">// indexes</span>

<span class="c1">// Remove duplicate values</span>
<span class="nv">$unique</span> <span class="o">=</span> <span class="nb">array_unique</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>

<span class="c1">// Remove duplicates, and reindex [for numerically-indexed arrays only]</span>
<span class="nv">$unique</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_unique</span><span class="p">(</span><span class="nv">$array</span><span class="p">));</span>

<span class="c1">// or use:</span>
<span class="nv">$unique</span> <span class="o">=</span> <span class="nb">array_keys</span><span class="p">(</span><span class="nb">array_flip</span><span class="p">(</span><span class="nv">$array</span><span class="p">));</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// Selected Perl &#39;seen&#39; examples</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$list</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]))</span>
  <span class="p">{</span>
    <span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
    <span class="nv">$unique</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$item</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$list</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">||</span> <span class="p">(</span><span class="o">++</span><span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$unique</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$item</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">some_func</span><span class="p">(</span><span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Do something with &#39;$item&#39;</span>
<span class="p">}</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$list</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">||</span> <span class="p">(</span><span class="o">++</span><span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">some_func</span><span class="p">(</span><span class="nv">$item</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="k">foreach</span><span class="p">(</span><span class="nb">array_slice</span><span class="p">(</span><span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\n/&#39;</span><span class="p">,</span> <span class="sb">`who`</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$user_entry</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$user</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\s/&#39;</span><span class="p">,</span> <span class="nv">$user_entry</span><span class="p">);</span>
  <span class="nv">$ucnt</span><span class="p">[</span><span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">ksort</span><span class="p">(</span><span class="nv">$ucnt</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">&quot;users logged in:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$ucnt</span> <span class="k">as</span> <span class="nv">$user</span> <span class="o">=&gt;</span> <span class="nv">$cnt</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="si">{</span><span class="nv">$user</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="nv">$cnt</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN191"
>Finding Elements in One Array but Not Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers the &#39;array_diff&#39; and &#39;array_diff_assoc&#39; functions to perform this task. Same</span>
<span class="c1">// points as made about &#39;array_unique&#39; apply here also</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">);</span>
<span class="nv">$b</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">);</span>

<span class="nv">$diff</span> <span class="o">=</span> <span class="nb">array_diff</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">);</span>                 <span class="c1">// $diff -&gt; [3] &#39;d&#39;</span>
<span class="nv">$diff</span> <span class="o">=</span> <span class="nb">array_diff</span><span class="p">(</span><span class="nv">$b</span><span class="p">,</span> <span class="nv">$a</span><span class="p">);</span>                 <span class="c1">// $diff -&gt; [3] &#39;e&#39;</span>

<span class="c1">// Numerically-indexed array, reindexed</span>
<span class="nv">$diff</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_diff</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">));</span>   <span class="c1">// $diff -&gt; [0] &#39;d&#39;</span>
<span class="nv">$diff</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_diff</span><span class="p">(</span><span class="nv">$b</span><span class="p">,</span> <span class="nv">$a</span><span class="p">));</span>   <span class="c1">// $diff -&gt; [0] &#39;e&#39;</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// 1st Perl &#39;seen&#39; example only</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;k1&#39;</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;k2&#39;</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;k4&#39;</span> <span class="o">=&gt;</span> <span class="mi">14</span><span class="p">);</span>
<span class="nv">$b</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;k1&#39;</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;k2&#39;</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;k3&#39;</span> <span class="o">=&gt;</span> <span class="mi">13</span><span class="p">);</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$b</span> <span class="k">as</span> <span class="nv">$item</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// Stores key only e.g. $aonly[0] contains &#39;k4&#39;, same as Perl example</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$a</span> <span class="k">as</span> <span class="nv">$item</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">])</span> <span class="nv">$aonly</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$item</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// Stores key and value e.g. $aonly[&#39;k4&#39;] contains 14, same entry as in $a</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$a</span> <span class="k">as</span> <span class="nv">$item</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$seen</span><span class="p">[</span><span class="nv">$item</span><span class="p">])</span> <span class="nv">$aonly</span><span class="p">[</span><span class="nv">$item</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// Conventional way: $hash = array(&#39;key1&#39; =&gt; 1, &#39;key2&#39; =&gt; 2);</span>

<span class="nv">$hash</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$hash</span><span class="p">[</span><span class="s1">&#39;key2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="nv">$hash</span> <span class="o">=</span> <span class="nb">array_combine</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">),</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$seen</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$b</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="nv">$seen</span> <span class="o">=</span> <span class="nb">array_combine</span><span class="p">(</span><span class="nb">array_keys</span><span class="p">(</span><span class="nv">$b</span><span class="p">),</span> <span class="nb">array_fill</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$b</span><span class="p">),</span> <span class="mi">1</span><span class="p">));</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN194"
>Computing Union, Intersection, or Difference of Unique Lists</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers a number of array-based &#39;set operation&#39; functions:</span>
<span class="c1">// * union:        array_unique(array_merge(...))</span>
<span class="c1">// * intersection: array_intersect and family</span>
<span class="c1">// * difference:   array_diff and family</span>
<span class="c1">// which may be used for this type of task. Also, if returned arrays need to be</span>
<span class="c1">// reindexed, &#39;array_slice($array, 0)&#39;, or &#39;array_values($array)&#39; are useful</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
<span class="nv">$b</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>

<span class="nv">$union</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_unique</span><span class="p">(</span><span class="nb">array_merge</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)));</span> <span class="c1">// 1, 2, 3, 5, 6, 7, 8, 9</span>
<span class="nv">$isect</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_intersect</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">));</span>           <span class="c1">// 3, 5, 7</span>
<span class="nv">$diff</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nb">array_diff</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">));</span>                 <span class="c1">// 1, 8</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN197"
>Appending One Array to Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers the &#39;array_merge&#39; function to perform this task. Duplicate values are retained,</span>
<span class="c1">// but if arrays are numerically-indexed, resulting array is reindexed</span>

<span class="nv">$arr1</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">);</span>
<span class="nv">$arr2</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">);</span>

<span class="nv">$new</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$arr1</span><span class="p">,</span> <span class="nv">$arr2</span><span class="p">);</span>     <span class="c1">// $new -&gt; &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;d&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;d&#39;</span>

<span class="c1">// ----------------------------</span>

<span class="nv">$members</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="s1">&#39;Flies&#39;</span><span class="p">);</span>
<span class="nv">$initiates</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;An&#39;</span><span class="p">,</span> <span class="s1">&#39;Arrow&#39;</span><span class="p">);</span>

<span class="nv">$members</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$members</span><span class="p">,</span> <span class="nv">$initiates</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$members</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="s1">&#39;Flies&#39;</span><span class="p">);</span>
<span class="nv">$initiates</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;An&#39;</span><span class="p">,</span> <span class="s1">&#39;Arrow&#39;</span><span class="p">);</span>

<span class="c1">// &#39;array_splice&#39; is the PHP equivalent to Perl&#39;s &#39;splice&#39;</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$members</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">array_merge</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;Like&#39;</span><span class="p">),</span> <span class="nv">$initiates</span><span class="p">));</span>
<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$members</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$members</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Fruit&#39;</span><span class="p">));</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$members</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;Banana&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$members</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN200"
>Reversing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nv">$reversed</span> <span class="o">=</span> <span class="nb">array_reverse</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="k">foreach</span><span class="p">(</span><span class="nb">array_reverse</span><span class="p">(</span><span class="nv">$array</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// ... do something with &#39;$item&#39; ...</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$array</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span><span class="o">--</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// ... do something with &#39;$array[$i]&#39; ...</span>
<span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="nb">sort</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="nb">array_reverse</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nb">rsort</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN203"
>Processing Multiple Elements of an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Array elements can be deleted using &#39;unset&#39;; removing several elements would require applying</span>
<span class="c1">// &#39;unset&#39; several times, probably in a loop. However, they would most likely also need to be</span>
<span class="c1">// reindexed, so a better approach would be to use &#39;array_slice&#39; which avoids explicit looping.</span>
<span class="c1">// Where elements need to be removed, and those elements also returned, it is probably best to</span>
<span class="c1">// combine both operations in a function. This is the approach taken here in implementing both</span>
<span class="c1">// &#39;shiftN&#39; and &#39;popN&#39;, and it is these functions that are used in the examples</span>

<span class="k">function</span> <span class="nf">popN</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$ret</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="o">-</span><span class="p">(</span><span class="nv">$n</span><span class="p">),</span> <span class="nv">$n</span><span class="p">);</span>
  <span class="nv">$arr</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$arr</span><span class="p">)</span> <span class="o">-</span> <span class="nv">$n</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">shiftN</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$ret</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$n</span><span class="p">);</span>
  <span class="nv">$arr</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$n</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="c1">// Remove $n elements from the front of $array; return them in $fron</span>
<span class="nv">$front</span> <span class="o">=</span> <span class="nx">shiftN</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="nv">$n</span><span class="p">);</span>

<span class="c1">// Remove $n elements from the end of $array; return them in $end</span>
<span class="nv">$end</span> <span class="o">=</span> <span class="nx">popN</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="nv">$n</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$friends</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Peter&#39;</span><span class="p">,</span> <span class="s1">&#39;Paul&#39;</span><span class="p">,</span> <span class="s1">&#39;Mary&#39;</span><span class="p">,</span> <span class="s1">&#39;Jim&#39;</span><span class="p">,</span> <span class="s1">&#39;Tim&#39;</span><span class="p">);</span>

<span class="k">list</span><span class="p">(</span><span class="nv">$this_</span><span class="p">,</span> <span class="nv">$that</span><span class="p">)</span> <span class="o">=</span> <span class="nx">shiftN</span><span class="p">(</span><span class="nv">$friends</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$this_</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nv">$that</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1">// ------------</span>

<span class="nv">$beverages</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Dew&#39;</span><span class="p">,</span> <span class="s1">&#39;Jolt&#39;</span><span class="p">,</span> <span class="s1">&#39;Cola&#39;</span><span class="p">,</span> <span class="s1">&#39;Sprite&#39;</span><span class="p">,</span> <span class="s1">&#39;Fresca&#39;</span><span class="p">);</span>

<span class="nv">$pair</span> <span class="o">=</span> <span class="nx">popN</span><span class="p">(</span><span class="nv">$beverages</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$pair</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>Finding the First List Element That Passes a Test</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// This section illustrates various &#39;find first&#39; techniques. The Perl examples all use an</span>
<span class="c1">// explicit loop and condition testing [also repeated here]. This is the simplest, and</span>
<span class="c1">// [potentially] most efficient approach because the search can be terminated as soon as a</span>
<span class="c1">// match is found. However, it is worth mentioning a few alternatives:</span>
<span class="c1">// * &#39;array_search&#39; performs a &#39;find first&#39; using the element value rather than a condition</span>
<span class="c1">//    check, so isn&#39;t really applicable here</span>
<span class="c1">// * &#39;array_filter&#39;, whilst using a condition check, actually performs a &#39;find all&#39;, though</span>
<span class="c1">//   all but the first returned element can be discarded. This approach is actually less error</span>
<span class="c1">//   prone than using a loop, but the disadvantage is that each element is visited: there is no</span>
<span class="c1">//   means of terminating the search once a match has been found. It would be nice if this</span>
<span class="c1">//   function were to have a third parameter, a Boolean flag indicating whether to traverse</span>
<span class="c1">//   the whole array, or quit after first match [next version, maybe :) ?]</span>

<span class="nv">$found</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Not found - skip to next item</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$criterion</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

  <span class="c1">// Found - save and leave</span>
  <span class="nv">$match</span> <span class="o">=</span> <span class="nv">$item</span><span class="p">;</span>
  <span class="nv">$found</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
  <span class="k">break</span><span class="p">;</span>  
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$found</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// do something with $match</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// not found</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">predicate</span><span class="p">(</span><span class="nv">$element</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">criterion</span><span class="p">)</span> <span class="k">return</span> <span class="k">TRUE</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">FALSE</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$match</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nb">array_filter</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="s1">&#39;predicate&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$match</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// do something with $match[0]</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// $match is empty - not found</span>
<span class="p">}</span>

<span class="c1">// ----------------------------</span>

<span class="k">class</span> <span class="nc">Employee</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">,</span> <span class="nv">$category</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">=</span> <span class="nv">$age</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ssn</span> <span class="o">=</span> <span class="nv">$ssn</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">salary</span> <span class="o">=</span> <span class="nv">$salary</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">category</span> <span class="o">=</span> <span class="nv">$category</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$employees</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;sdf&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="mi">47000</span><span class="p">,</span> <span class="s1">&#39;Engineer&#39;</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;ajb&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">12376</span><span class="p">,</span> <span class="mi">51000</span><span class="p">,</span> <span class="s1">&#39;Programmer&#39;</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;dgh&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">12355</span><span class="p">,</span> <span class="mi">45000</span><span class="p">,</span> <span class="s1">&#39;Engineer&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">array_update</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$lambda</span><span class="p">,</span> <span class="nv">$updarr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="nv">$lambda</span><span class="p">(</span><span class="nv">$updarr</span><span class="p">,</span> <span class="nv">$key</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$updarr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">highest_salaried_engineer</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$employee</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="nv">$highest_salary</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">category</span> <span class="o">==</span> <span class="s1">&#39;Engineer&#39;</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">salary</span> <span class="o">&gt;</span> <span class="nv">$highest_salary</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="nv">$highest_salary</span> <span class="o">=</span> <span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">salary</span><span class="p">;</span>
      <span class="nv">$arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$employee</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="c1">// &#39;array_update&#39; custom function is modelled on &#39;array_reduce&#39; except that it allows the</span>
<span class="c1">// return of an array, contents and length of which are entirely dependant on what the</span>
<span class="c1">// callback function does. Here, it is logically working in a &#39;find first&#39; capacity</span>
<span class="nv">$highest_salaried_engineer</span> <span class="o">=</span> <span class="nx">array_update</span><span class="p">(</span><span class="nv">$employees</span><span class="p">,</span> <span class="s1">&#39;highest_salaried_engineer&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">());</span>

<span class="k">echo</span> <span class="s1">&#39;Highest paid engineer is: &#39;</span> <span class="o">.</span> <span class="nv">$highest_salaried_engineer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>Finding All Elements in an Array Matching Certain Criteria</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP implements &#39;grep&#39; functionality [as embodied in the current section] in the &#39;array_filter&#39;</span>
<span class="c1">// function</span>

<span class="k">function</span> <span class="nf">predicate</span><span class="p">(</span><span class="nv">$element</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">criterion</span><span class="p">)</span> <span class="k">return</span> <span class="k">TRUE</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">FALSE</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$matching</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$list</span><span class="p">,</span> <span class="s1">&#39;predicate&#39;</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$bigs</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$nums</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$n&#39;</span><span class="p">,</span> <span class="s1">&#39;return $n &gt; 1000000;&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">is_pig</span><span class="p">(</span><span class="nv">$user</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$user_details</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/(\s)+/&#39;</span><span class="p">,</span> <span class="nv">$user</span><span class="p">);</span>
  <span class="c1">// Assuming field 5 is the resource being compared</span>
  <span class="k">return</span> <span class="nv">$user_details</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">1e7</span><span class="p">;</span>  
<span class="p">}</span>

<span class="nv">$pigs</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nb">array_slice</span><span class="p">(</span><span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\n/&#39;</span><span class="p">,</span> <span class="sb">`who -u`</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;is_pig&#39;</span><span class="p">);</span>

<span class="c1">// ------------</span>

<span class="nv">$matching</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nb">array_slice</span><span class="p">(</span><span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\n/&#39;</span><span class="p">,</span> <span class="sb">`who`</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                         <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$user&#39;</span><span class="p">,</span> <span class="s1">&#39;return preg_match(\&#39;/^gnat /\&#39;, $user);&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="k">class</span> <span class="nc">Employee</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">,</span> <span class="nv">$category</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">=</span> <span class="nv">$age</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ssn</span> <span class="o">=</span> <span class="nv">$ssn</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">salary</span> <span class="o">=</span> <span class="nv">$salary</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">category</span> <span class="o">=</span> <span class="nv">$category</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$employees</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;sdf&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="mi">47000</span><span class="p">,</span> <span class="s1">&#39;Engineer&#39;</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;ajb&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">12376</span><span class="p">,</span> <span class="mi">51000</span><span class="p">,</span> <span class="s1">&#39;Programmer&#39;</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;dgh&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">12355</span><span class="p">,</span> <span class="mi">45000</span><span class="p">,</span> <span class="s1">&#39;Engineer&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$engineers</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$employees</span><span class="p">,</span>
                          <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$employee&#39;</span><span class="p">,</span> <span class="s1">&#39;return $employee-&gt;category == &quot;Engineer&quot;;&#39;</span><span class="p">));</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN212"
>Sorting an Array Numerically</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers a rich set of sorting functions. Key features:</span>
<span class="c1">// * Inplace sorts; the original array, not a a copy, is sorted</span>
<span class="c1">// * Separate functions exist for sorting [both ascending and descending order]:</span>
<span class="c1">//   - By value, assign new keys / indices [sort, rsort]</span>
<span class="c1">//   - By key   [ksort, krsort] (for non-numerically indexed arrays)</span>
<span class="c1">//   - By value [asort, arsort]</span>
<span class="c1">//   - As above, but using a user-defined comparator [i.e. callback function]</span>
<span class="c1">//     [usort, uasort, uksort]</span>
<span class="c1">//   - Natural order sort [natsort]</span>
<span class="c1">// * Significantly, if sorting digit-only elements, whether strings or numbers,</span>
<span class="c1">//   &#39;natural order&#39; [i.e. 1 before 10 before 100 (ascending)] is retained. If</span>
<span class="c1">//   the elements are alphanumeric e.g. &#39;z1&#39;, &#39;z10&#39; then &#39;natsort&#39; should be</span>
<span class="c1">//   used [note: beware of &#39;natsort&#39; with negative numbers; prefer &#39;sort&#39; or &#39;asort&#39;]</span>

<span class="nv">$unsorted</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>

<span class="nb">sort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">);</span>                 <span class="c1">// -13, -2, 1, 2, 3, 4, 5, 6, 7, 12, 23, 100</span>
<span class="nb">rsort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">);</span>                <span class="c1">// 100, 23, 12, 7, 6, 5, 4, 3, 2, 1, -2, -13</span>

<span class="nb">asort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">);</span>                <span class="c1">// -13, -2, 1, 2, 3, 4, 5, 6, 7, 12, 23, 100</span>
<span class="nb">arsort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">);</span>               <span class="c1">// 100, 23, 12, 7, 6, 5, 4, 3, 2, 1, -2, -13</span>

<span class="nb">natsort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">);</span>              <span class="c1">// -2, -13, 1, 2, 3, 4, 5, 6, 7, 12, 23, 100</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">ascend</span><span class="p">(</span><span class="nv">$left</span><span class="p">,</span> <span class="nv">$right</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$left</span> <span class="o">&gt;</span> <span class="nv">$right</span><span class="p">;</span> <span class="p">}</span>
<span class="k">function</span> <span class="nf">descend</span><span class="p">(</span><span class="nv">$left</span><span class="p">,</span> <span class="nv">$right</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$left</span> <span class="o">&lt;</span> <span class="nv">$right</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nb">usort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">,</span> <span class="s1">&#39;ascend&#39;</span><span class="p">);</span>      <span class="c1">// -13, -2, 1, 2, 3, 4, 5, 6, 7, 12, 23, 100</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">,</span> <span class="s1">&#39;descend&#39;</span><span class="p">);</span>     <span class="c1">// 100, 23, 12, 7, 6, 5, 4, 3, 2, 1, -2, -13</span>

<span class="nb">uasort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">,</span> <span class="s1">&#39;ascend&#39;</span><span class="p">);</span>     <span class="c1">// -13, -2, 1, 2, 3, 4, 5, 6, 7, 12, 23, 100</span>
<span class="nb">uasort</span><span class="p">(</span><span class="nv">$unsorted</span><span class="p">,</span> <span class="s1">&#39;descend&#39;</span><span class="p">);</span>    <span class="c1">// 100, 23, 12, 7, 6, 5, 4, 3, 2, 1, -2, -13</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">kill_process</span><span class="p">(</span><span class="nv">$pid</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Is &#39;killable&#39; ?</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">posix_kill</span><span class="p">(</span><span class="nv">$pid</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>

  <span class="c1">// Ok, so kill in two stages</span>
  <span class="nb">posix_kill</span><span class="p">(</span><span class="nv">$pid</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span> <span class="c1">// SIGTERM</span>
  <span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nb">posix_kill</span><span class="p">(</span><span class="nv">$pid</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>  <span class="c1">// SIGKILL</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">pid</span><span class="p">(</span><span class="nv">$pentry</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$p</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\s/&#39;</span><span class="p">,</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$pentry</span><span class="p">));</span>
  <span class="k">return</span> <span class="nv">$p</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span>

<span class="nv">$processes</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;pid&#39;</span><span class="p">,</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;/\n/&#39;</span><span class="p">,</span> <span class="sb">`ps ax`</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">));</span>
<span class="nb">sort</span><span class="p">(</span><span class="nv">$processes</span><span class="p">);</span>

<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; ,&#39;</span><span class="p">,</span> <span class="nv">$processes</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="k">echo</span> <span class="s1">&#39;Enter a pid to kill: &#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">((</span><span class="nv">$pid</span> <span class="o">=</span> <span class="nx">trim</span><span class="p">(</span><span class="nb">fgets</span><span class="p">(</span><span class="nx">STDIN</span><span class="p">))))</span>
  <span class="nx">kill_process</span><span class="p">(</span><span class="nv">$pid</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN215"
>Sorting a List by Computable Field</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// Tasks in this section would typically use the PHP &#39;usort&#39; family of functions</span>
<span class="c1">// which are used with a comparator function so as to perform custom comparisions.</span>
<span class="c1">// A significant difference from the Perl examples is that these functions are</span>
<span class="c1">// inplace sorters, so it is the original array that is modified. Where this must</span>
<span class="c1">// be prevented a copy of the array can be made and sorted</span>

<span class="k">function</span> <span class="nf">comparator</span><span class="p">(</span><span class="nv">$left</span><span class="p">,</span> <span class="nv">$right</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Compare &#39;$left&#39; with &#39;$right&#39; returning result</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$ordered</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$unordered</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$ordered</span><span class="p">,</span> <span class="s1">&#39;comparator&#39;</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// The Perl example looks like it is creating a hash using computed values as the key,</span>
<span class="c1">// array values as the value, sorting on the computed key, then extracting the sorted</span>
<span class="c1">// values and placing them back into an array</span>

<span class="k">function</span> <span class="nf">compute</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Return computed value utilising &#39;$value&#39;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="c1">// Original numerically-indexed array [sample data used]</span>
<span class="nv">$unordered</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>

<span class="c1">// Create hash using &#39;compute&#39; function to generate the keys. This example assumes that</span>
<span class="c1">// each value in the &#39;$unordered&#39; array is used in generating the corresponding &#39;$key&#39;</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$unordered</span> <span class="k">as</span> <span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$precomputed</span><span class="p">[</span><span class="nx">compute</span><span class="p">(</span><span class="nv">$value</span><span class="p">)]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Copy the hash, and sort it by key</span>
<span class="nv">$ordered_precomputed</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$precomputed</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">ksort</span><span class="p">(</span><span class="nv">$ordered_precomputed</span><span class="p">);</span>

<span class="c1">// Extract the values of the hash in current order placing them in a new numerically-indexed</span>
<span class="c1">// array</span>
<span class="nv">$ordered</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$ordered_precomputed</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// As above, except uses &#39;array_update&#39; and &#39;accum&#39; to help create hash</span>

<span class="k">function</span> <span class="nf">array_update</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$lambda</span><span class="p">,</span> <span class="nv">$updarr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="nv">$lambda</span><span class="p">(</span><span class="nv">$updarr</span><span class="p">,</span> <span class="nv">$key</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$updarr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">accum</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$arr</span><span class="p">[</span><span class="nx">compute</span><span class="p">(</span><span class="nv">$value</span><span class="p">)]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="k">function</span> <span class="nf">compute</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">;</span> <span class="c1">// Return computed value utilising &#39;$value&#39;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="c1">// Original numerically-indexed array [sample data used]</span>
<span class="nv">$unordered</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>

<span class="c1">// Create hash</span>
<span class="nv">$precomputed</span> <span class="o">=</span> <span class="nx">array_update</span><span class="p">(</span><span class="nv">$unordered</span><span class="p">,</span> <span class="s1">&#39;accum&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">());</span>

<span class="c1">// Copy the hash, and sort it by key</span>
<span class="nv">$ordered_precomputed</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$precomputed</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">ksort</span><span class="p">(</span><span class="nv">$ordered_precomputed</span><span class="p">);</span>

<span class="c1">// Extract the values of the hash in current order placing them in a new numerically-indexed</span>
<span class="c1">// array</span>
<span class="nv">$ordered</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$ordered_precomputed</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="k">class</span> <span class="nc">Employee</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$age</span><span class="p">,</span> <span class="nv">$ssn</span><span class="p">,</span> <span class="nv">$salary</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">age</span> <span class="o">=</span> <span class="nv">$age</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ssn</span> <span class="o">=</span> <span class="nv">$ssn</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">salary</span> <span class="o">=</span> <span class="nv">$salary</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$employees</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;sdf&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="mi">47000</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;ajb&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">12376</span><span class="p">,</span> <span class="mi">51000</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39;dgh&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">12355</span><span class="p">,</span> <span class="mi">45000</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$ordered</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$employees</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$ordered</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return $left-&gt;name &gt; $right-&gt;name;&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$sorted_employees</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$employees</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$sorted_employees</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return $left-&gt;name &gt; $right-&gt;name;&#39;</span><span class="p">));</span>

<span class="nv">$bonus</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">12376</span> <span class="o">=&gt;</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">12345</span> <span class="o">=&gt;</span> <span class="mi">6000</span><span class="p">,</span> <span class="mi">12355</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$sorted_employees</span> <span class="k">as</span> <span class="nv">$employee</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">name</span><span class="si">}</span><span class="s2"> earns </span><span class="se">\$</span><span class="si">{</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">salary</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$sorted_employees</span> <span class="k">as</span> <span class="nv">$employee</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">((</span><span class="nv">$amount</span> <span class="o">=</span> <span class="nv">$bonus</span><span class="p">[</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">ssn</span><span class="p">]))</span>
    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$employee</span><span class="o">-&gt;</span><span class="na">name</span><span class="si">}</span><span class="s2"> got a bonus of: </span><span class="se">\$</span><span class="si">{</span><span class="nv">$amount</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$employees</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$sorted</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return $left-&gt;name &gt; $right-&gt;name || $left-&gt;age != $right-&gt;age;&#39;</span><span class="p">));</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// PHP offers a swag of POSIX functions for obtaining user information [i.e. they all read</span>
<span class="c1">// the &#39;/etc/passwd&#39; file for the relevant infroamtion], and it is these that should rightly</span>
<span class="c1">// be used for this purpose. However, since the intent of this section is to illustrate array</span>
<span class="c1">// manipulation, these functions won&#39;t be used. Instead a custom function mimicing Perl&#39;s</span>
<span class="c1">// &#39;getpwent&#39; function will be implemented so the code presented here can more faithfully match</span>
<span class="c1">// the Perl code</span>

<span class="k">function</span> <span class="nf">get_pw_entries</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">function</span> <span class="nf">normal_users_only</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$entry</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="nv">$e</span><span class="p">);</span> <span class="k">return</span> <span class="nv">$entry</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="nv">$entry</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">32768</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">foreach</span><span class="p">(</span><span class="nb">array_filter</span><span class="p">(</span><span class="nb">file</span><span class="p">(</span><span class="s1">&#39;/etc/passwd&#39;</span><span class="p">),</span> <span class="s1">&#39;normal_users_only&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span>
    <span class="nv">$users</span><span class="p">[]</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$entry</span><span class="p">));</span>

  <span class="k">return</span> <span class="nv">$users</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">get_pw_entries</span><span class="p">();</span>

<span class="nb">usort</span><span class="p">(</span><span class="nv">$users</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return $left[0] &gt; $right[0];&#39;</span><span class="p">));</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span> <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">{</span><span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1">// ----------------------------</span>

<span class="nv">$names</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sdf&#39;</span><span class="p">,</span> <span class="s1">&#39;ajb&#39;</span><span class="p">,</span> <span class="s1">&#39;dgh&#39;</span><span class="p">);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$names</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$sorted</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return substr($left, 1, 1) &gt; substr($right, 1, 1);&#39;</span><span class="p">));</span>

<span class="c1">// ------------</span>

<span class="nv">$strings</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;bbb&#39;</span><span class="p">,</span> <span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">);</span>

<span class="nv">$sorted</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$strings</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">usort</span><span class="p">(</span><span class="nv">$sorted</span><span class="p">,</span> <span class="nb">create_function</span><span class="p">(</span><span class="s1">&#39;$left, $right&#39;</span><span class="p">,</span> <span class="s1">&#39;return strlen($left) &gt; strlen($right);&#39;</span><span class="p">));</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">array_update</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$lambda</span><span class="p">,</span> <span class="nv">$updarr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="nv">$lambda</span><span class="p">(</span><span class="nv">$updarr</span><span class="p">,</span> <span class="nv">$key</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$updarr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">accum</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$arr</span><span class="p">[</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ----</span>

<span class="nv">$strings</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;bbb&#39;</span><span class="p">,</span> <span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">);</span>

<span class="nv">$temp</span> <span class="o">=</span> <span class="nx">array_update</span><span class="p">(</span><span class="nv">$strings</span><span class="p">,</span> <span class="s1">&#39;accum&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">());</span>
<span class="nb">ksort</span><span class="p">(</span><span class="nv">$temp</span><span class="p">);</span>
<span class="nv">$sorted</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$temp</span><span class="p">);</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">array_update</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$lambda</span><span class="p">,</span> <span class="nv">$updarr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$key</span><span class="p">)</span> <span class="nv">$lambda</span><span class="p">(</span><span class="nv">$updarr</span><span class="p">,</span> <span class="nv">$key</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$updarr</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">accum</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/(\d+)/&#39;</span><span class="p">,</span> <span class="nv">$value</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">))</span>
    <span class="nv">$arr</span><span class="p">[</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ----</span>

<span class="nv">$fields</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;b1b2b&#39;</span><span class="p">,</span> <span class="s1">&#39;a4a&#39;</span><span class="p">,</span> <span class="s1">&#39;c9&#39;</span><span class="p">,</span> <span class="s1">&#39;ddd&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">);</span>

<span class="nv">$temp</span> <span class="o">=</span> <span class="nx">array_update</span><span class="p">(</span><span class="nv">$fields</span><span class="p">,</span> <span class="s1">&#39;accum&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">());</span>
<span class="nb">ksort</span><span class="p">(</span><span class="nv">$temp</span><span class="p">);</span>
<span class="nv">$sorted_fields</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$temp</span><span class="p">);</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN218"
>Implementing a Circular List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="nb">array_unshift</span><span class="p">(</span><span class="nv">$a1</span><span class="p">,</span> <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$a1</span><span class="p">));</span>  <span class="c1">// last -&gt; first</span>
<span class="nb">array_push</span><span class="p">(</span><span class="nv">$a1</span><span class="p">,</span> <span class="nb">array_shift</span><span class="p">(</span><span class="nv">$a1</span><span class="p">));</span>   <span class="c1">// first -&gt; last</span>

<span class="c1">// ----------------------------</span>

<span class="k">function</span> <span class="nf">grab_and_rotate</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$arr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$item</span> <span class="o">=</span> <span class="nv">$arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
  <span class="nb">array_push</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="nb">array_shift</span><span class="p">(</span><span class="nv">$arr</span><span class="p">));</span>
  <span class="k">return</span> <span class="nv">$item</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$processes</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">while</span> <span class="p">(</span><span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$process</span> <span class="o">=</span> <span class="nx">grab_and_rotate</span><span class="p">(</span><span class="nv">$processes</span><span class="p">);</span>
  <span class="k">echo</span> <span class="s2">&quot;Handling process </span><span class="si">{</span><span class="nv">$process</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
  <span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN221"
>Randomizing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// PHP offers the &#39;shuffle&#39; function to perform this task</span>

<span class="nv">$arr</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>

<span class="nb">shuffle</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>

<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$arr</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1">// ----------------------------</span>

<span class="c1">// Perl example equivalents</span>
<span class="k">function</span> <span class="nf">fisher_yates_shuffle</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$a</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$size</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="nv">$size</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span><span class="o">--</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="nv">$j</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nv">$i</span><span class="p">))</span> <span class="o">!=</span> <span class="nv">$i</span><span class="p">)</span>
      <span class="k">list</span><span class="p">(</span><span class="nv">$a</span><span class="p">[</span><span class="nv">$i</span><span class="p">],</span> <span class="nv">$a</span><span class="p">[</span><span class="nv">$j</span><span class="p">])</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$a</span><span class="p">[</span><span class="nv">$j</span><span class="p">],</span> <span class="nv">$a</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">naive_shuffle</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$a</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nv">$size</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>

  <span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$size</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$j</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nv">$size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">list</span><span class="p">(</span><span class="nv">$a</span><span class="p">[</span><span class="nv">$i</span><span class="p">],</span> <span class="nv">$a</span><span class="p">[</span><span class="nv">$j</span><span class="p">])</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$a</span><span class="p">[</span><span class="nv">$j</span><span class="p">],</span> <span class="nv">$a</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------</span>

<span class="nv">$arr</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>

<span class="nx">fisher_yates_shuffle</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>
<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$arr</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="nx">naive_shuffle</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>
<span class="k">echo</span> <span class="nb">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$arr</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN224"
>Program: words</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// @@INCOMPLETE@@</span>
<span class="c1">// @@INCOMPLETE@@</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN227"
>Program: permute</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">// @@INCOMPLETE@@</span>
<span class="c1">// @@INCOMPLETE@@</span></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dates and Times</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Hashes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>