<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Dates and Times</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Ada"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Numbers"
HREF="numbers.html"><LINK
REL="NEXT"
TITLE="Arrays"
HREF="arrays.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Ada</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="numbers.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="arrays.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DATESANDTIMES"
>3. Dates and Times</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN132"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- All standard Ada date / time subprograms are defined in the packages</span>
<span class="c1">-- Ada.Calendar and Ada.Real_Time</span>
<span class="c1">--</span>
<span class="c1">-- Time values can be split into a Year number, a Month number, a Day</span>
<span class="c1">-- (of the month) number, and a Seconds number.</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN135"
>Finding Today's Date</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="n">Now</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Now</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- A parameter-less function returning the current time value.</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;The current date is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Month</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="n">Now</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">The</span> <span class="n">current</span> <span class="n">date</span> <span class="kr">is</span> <span class="mi">2002</span>  <span class="mi">2</span> <span class="mi">25</span>
<span class="c1">------------------------------</span>
<span class="n">Now</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">This_Year</span>  <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">This_Month</span> <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">This_Day</span>   <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">This_Seconds</span> <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>

<span class="n">Split</span><span class="p">(</span><span class="n">Date</span> <span class="p">=&gt;</span> <span class="n">Now</span><span class="p">,</span> <span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span>
      <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">This_Seconds</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;The current date is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">The</span> <span class="n">current</span> <span class="n">date</span> <span class="kr">is</span> <span class="mi">2002</span>  <span class="mi">2</span> <span class="mi">25</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN138"
>Converting DMYHMS to Epoch Seconds</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada does not directly deal with minutes. Minutes are contained in the</span>
<span class="c1">-- Seconds value, which is the number of seconds into the day for the current</span>
<span class="c1">-- time. Seconds is a value from 0.0 through 86400.0</span>
<span class="n">This_Year</span>    <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">This_Month</span>   <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">This_Day</span>     <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">This_Seconds</span> <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>
<span class="n">The_Time</span>     <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">This_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">This_Month</span><span class="p">,</span>
                    <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">This_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">This_Seconds</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Year_Number is an integer from 1901 through 2099</span>
<span class="c1">-- Month_Number is an integer from 1 through 12</span>
<span class="c1">-- Day_Number is an integer from 1 through 31</span>
<span class="c1">-- Day_Duration is a Fixed Point type from 0.0 through 86400.0</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN141"
>Converting Epoch Seconds to DMYHMS</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="n">The_Time</span>     <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">The_Year</span>     <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">The_Month</span>    <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">The_Day</span>      <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">The_Seconds</span>  <span class="p">:</span> <span class="n">Day_Duration</span><span class="p">;</span>
<span class="n">The_Minutes</span>  <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="n">The_Hour</span>     <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="n">Seconds</span>      <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="n">Split</span><span class="p">(</span><span class="n">Date</span> <span class="p">=&gt;</span> <span class="n">The_Time</span><span class="p">,</span> <span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span>
      <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="n">The_Seconds</span><span class="p">);</span>
<span class="n">The_Hour</span> <span class="p">:=</span> <span class="n">The_Seconds</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">;</span>
<span class="n">The_Minutes</span> <span class="p">:=</span> <span class="p">(</span><span class="n">The_Seconds</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3600</span> <span class="o">*</span> <span class="n">The_Hour</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
<span class="n">Seconds</span> <span class="p">:=</span> <span class="n">The_Seconds</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN144"
>Adding to or Subtracting from a Date</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Time addition involves adding a Duration to a Time.</span>
<span class="c1">-- A Duration is a total number of seconds.</span>
<span class="n">Birthtime</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">Interval</span>  <span class="p">:</span> <span class="kt">Duration</span><span class="p">;</span>
<span class="kr">Then</span>      <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Birthtime</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="mi">1973</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Day</span> <span class="p">=&gt;</span> <span class="mi">18</span><span class="p">,</span>
             <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="mf">3.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">)</span> <span class="o">+</span>  <span class="c1">-- 3:45:50</span>
                         <span class="p">(</span><span class="mf">45.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">50.0</span><span class="p">));</span>
<span class="n">Interval</span> <span class="p">:=</span> <span class="mf">5.0</span> <span class="o">+</span>               <span class="c1">-- 5 seconds</span>
            <span class="p">(</span><span class="mf">17.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span>     <span class="c1">-- 17 minutes</span>
            <span class="p">(</span><span class="mf">2.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">)</span> <span class="o">+</span>    <span class="c1">-- 2 hours</span>
            <span class="p">(</span><span class="mf">55.0</span> <span class="o">*</span> <span class="mf">86400.0</span><span class="p">);</span>   <span class="c1">-- 55 days</span>
<span class="kr">Then</span> <span class="p">:=</span> <span class="n">Birthtime</span> <span class="o">+</span> <span class="n">Interval</span><span class="p">;</span> <span class="c1">--</span>
<span class="c1">-- or</span>
<span class="kr">Then</span> <span class="p">:=</span> <span class="n">Interval</span> <span class="o">+</span> <span class="n">Birthtime</span><span class="p">;</span>

<span class="n">Put</span><span class="p">(</span><span class="s">&quot;Then is &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Month</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="kr">Then</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">5</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="kr">Then</span><span class="p">)</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">New_Line</span><span class="p">;</span>

<span class="kr">Then</span> <span class="kr">is</span> <span class="mi">3</span> <span class="mi">14</span> <span class="mi">1973</span>  <span class="mi">6</span><span class="p">:</span> <span class="mi">2</span><span class="p">:</span><span class="mi">55</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN147"
>Difference of Two Dates</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="n">Seconds</span> <span class="p">:</span> <span class="kt">Duration</span><span class="p">;</span>
<span class="n">Recent</span>  <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">Earlier</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">Seconds</span> <span class="p">:=</span> <span class="n">Recent</span> <span class="o">-</span> <span class="n">Earlier</span><span class="p">;</span>

<span class="n">Earlier</span> <span class="p">:=</span> <span class="n">Recent</span> <span class="o">-</span> <span class="n">Seconds</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN150"
>Day in a Week/Month/Year or Week Number</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada provides no standard subprogram for calculation of week number, day of</span>
<span class="c1">-- week, Julian Date, or Month name.</span>
<span class="c1">-- Those calculations can be performed, with month names localized to the</span>
<span class="c1">-- current locale, by simple user defined functions.</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN153"
>Parsing Dates and Times from Strings</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="n">date</span> <span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">&quot;1998-06-03&quot;</span><span class="p">;</span> <span class="c1">-- YYYY-MM-DD format</span>
<span class="n">The_Year</span> <span class="p">:</span> <span class="n">Year_Number</span><span class="p">;</span>
<span class="n">The_Month</span> <span class="p">:</span> <span class="n">Month_Number</span><span class="p">;</span>
<span class="n">The_Day</span> <span class="p">:</span> <span class="n">Day_Number</span><span class="p">;</span>
<span class="n">Index</span> <span class="p">:</span> <span class="kt">Positive</span><span class="p">;</span>

<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">,</span> <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span> <span class="c1">-- Get YYYY as an integer</span>
<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">(</span><span class="n">Index</span> <span class="o">+</span> <span class="mf">2.</span><span class="p">.</span><span class="n">date</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">),</span>  <span class="c1">-- Get MM skipping first &quot;-&quot;</span>
    <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span>
<span class="n">Get</span><span class="p">(</span><span class="n">From</span> <span class="p">=&gt;</span> <span class="n">date</span><span class="p">(</span><span class="n">Index</span> <span class="o">+</span> <span class="mf">2.</span><span class="p">.</span><span class="n">date</span><span class="p">&#39;</span><span class="na">Last</span><span class="p">),</span>  <span class="c1">-- Get DD skipping second &quot;-&quot;</span>
    <span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Last</span> <span class="p">=&gt;</span> <span class="n">Index</span><span class="p">);</span>
<span class="c1">-- Calculate the time value at midnight of that date</span>
<span class="n">The_Time</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="n">The_Year</span><span class="p">,</span> <span class="n">Month</span> <span class="p">=&gt;</span> <span class="n">The_Month</span><span class="p">,</span>
                    <span class="n">Day</span> <span class="p">=&gt;</span> <span class="n">The_Day</span><span class="p">,</span> <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="mf">0.0</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN156"
>Printing a Date</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">function</span> <span class="nf">Month_Name</span><span class="p">(</span><span class="nv">Month</span> <span class="p">: </span><span class="nv">Month_Number</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Months</span> <span class="kr">is</span> <span class="p">(</span><span class="nv">JAN</span><span class="p">,</span> <span class="nv">FEB</span><span class="p">,</span> <span class="nv">MAR</span><span class="p">,</span> <span class="nv">APR</span><span class="p">,</span> <span class="nv">MAY</span><span class="p">,</span> <span class="nv">JUN</span><span class="p">,</span> <span class="nv">JUL</span><span class="p">,</span> <span class="nv">AUG</span><span class="p">,</span> <span class="nv">SEP</span><span class="p">,</span> <span class="nv">OCT</span><span class="p">,</span>
                        <span class="nv">NOV</span><span class="p">,</span> <span class="nv">DEC</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="c1">-- convert month number to enumeration value then convert enumeration</span>
   <span class="c1">-- value to a string</span>
   <span class="kr">return</span> <span class="n">Months</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Months</span><span class="p">&#39;</span><span class="na">Val</span><span class="p">(</span><span class="n">Month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
<span class="kr">end</span> <span class="nf">Month_Name</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">SEP</span> <span class="mi">21</span> <span class="mi">15</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">36</span> <span class="mi">1997</span>
<span class="c1">-------------------------------</span>
<span class="n">The_Time</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">The_Time</span> <span class="p">:=</span> <span class="n">Time_Of</span><span class="p">(</span><span class="n">Year</span> <span class="p">=&gt;</span> <span class="mi">1997</span><span class="p">,</span>
                    <span class="n">Month</span> <span class="p">=&gt;</span> <span class="mi">9</span><span class="p">,</span>
                    <span class="n">Day</span>   <span class="p">=&gt;</span> <span class="mi">21</span><span class="p">,</span>
                    <span class="n">Seconds</span> <span class="p">=&gt;</span> <span class="mf">36.0</span> <span class="o">+</span>
                               <span class="p">(</span><span class="mf">33.0</span> <span class="o">*</span> <span class="mf">60.0</span><span class="p">)</span> <span class="o">+</span>
                               <span class="p">(</span><span class="mf">15.0</span> <span class="o">*</span> <span class="mf">3600.0</span><span class="p">));</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Month_Name</span><span class="p">(</span><span class="n">Month</span><span class="p">(</span><span class="n">The_Time</span><span class="p">))</span> <span class="o">&amp;</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Day</span><span class="p">(</span><span class="n">The_Time</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">))</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span>
    <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Seconds</span><span class="p">(</span><span class="n">The_Time</span><span class="p">)</span> <span class="ow">mod</span> <span class="mi">60</span><span class="p">,</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Year</span><span class="p">(</span><span class="n">The_Time</span><span class="p">),</span> <span class="n">Width</span> <span class="p">=&gt;</span> <span class="mi">5</span><span class="p">);</span>
<span class="n">New_Line</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN159"
>High-Resolution Timers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- High resolution time is provided by the Ada.Real_Time package.</span>
<span class="c1">-- High resolution time values shall be sufficient to uniquely represent the</span>
<span class="c1">-- range of real times from program start up to 50 years later.</span>
<span class="c1">-- Tick (the avearage time interval during which the clock value remains constant)</span>
<span class="c1">-- shall be no greater than 1 millisecond. Time_Unit (the smallest amount of real</span>
<span class="c1">-- time representable by the time type) shall be less than or equal to 20</span>
<span class="c1">-- microseconds.</span>

<span class="kn">with</span> <span class="nn">Ada.Real_Time</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Real_Time</span><span class="p">;</span>

<span class="n">t0</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>
<span class="n">t1</span> <span class="p">:</span> <span class="n">Time</span><span class="p">;</span>

<span class="n">t0</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- Get initial time stamp;</span>
<span class="c1">-- Perform some operation</span>
<span class="n">t1</span> <span class="p">:=</span> <span class="n">Clock</span><span class="p">;</span> <span class="c1">-- Get ending time stamp;</span>

<span class="n">elapsed</span> <span class="p">:</span> <span class="n">Time_Span</span><span class="p">;</span>

<span class="n">elapsed</span> <span class="p">:=</span> <span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">;</span> <span class="c1">-- Time in seconds i.e 0.0015</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN162"
>Short Sleeps</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- sleeps are achieved in Ada using the &quot;delay&quot; statement.</span>
<span class="c1">-- The parameter to the delay command is a Duration expressing a number of</span>
<span class="c1">-- seconds.</span>

<span class="kr">delay</span> <span class="mf">0.0025</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN165"
>Program: hopdelta</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- To Be Done</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="numbers.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="arrays.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Numbers</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Arrays</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>