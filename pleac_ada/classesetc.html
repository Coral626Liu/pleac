<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Classes, Objects, and Ties</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Ada"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Packages, Libraries, and Modules"
HREF="packagesetc.html"><LINK
REL="NEXT"
TITLE="Database Access"
HREF="dbaccess.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Ada</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="packagesetc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="dbaccess.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CLASSESETC"
>13. Classes, Objects, and Ties</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN704"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada separates aspects of classes into packages, for encapsulation, and</span>
<span class="c1">-- tagged types, for type inheritance and type expansion.</span>
<span class="c1">-- Ada does not have constructors or destructors.</span>

<span class="kn">with</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Strings.Unbounded</span><span class="p">;</span>

<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Creating an instance of a class</span>

<span class="n">Charley</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>

<span class="c1">-- Using a class</span>

<span class="n">SetName</span><span class="p">(</span><span class="n">Charley</span><span class="p">,</span> <span class="s">&quot;Charles&quot;</span><span class="p">);</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">Charley</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>

<span class="n">Put_Line</span><span class="p">(</span><span class="n">GetName</span><span class="p">(</span><span class="n">Charley</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; is &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">GetAge</span><span class="p">(</span><span class="n">Charley</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot; years old.&quot;</span><span class="p">);</span>
<span class="c1">-- Charles is 15 years old.</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN707"
>Constructing an Object</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Objects can be constructed on the stack, or dynamically</span>

<span class="c1">-- Constructing an object on the stack</span>
<span class="n">Student</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>

<span class="c1">-- Constructing an object dynamically</span>
<span class="kd">type</span> <span class="kt">Person_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Person</span><span class="p">;</span>

<span class="n">Student_P</span> <span class="p">:</span> <span class="n">Person_Ptr</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Person</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN710"
>Destroying an Object</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Only dynamically allocated objects need to be destroyed.</span>
<span class="c1">-- Instantiate an instance of Unchecked_Deallocation for the type</span>

<span class="kd">procedure</span> <span class="nf">free</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Ada</span><span class="p">.</span><span class="n">Unchecked_Deallocation</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">Person_Ptr</span><span class="p">);</span>

<span class="n">Student_P</span> <span class="p">:</span> <span class="n">Person_Ptr</span> <span class="p">:=</span> <span class="kr">new</span> <span class="n">Person</span><span class="p">;</span>

<span class="n">free</span><span class="p">(</span><span class="n">Student_p</span><span class="p">);</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN713"
>Managing Instance Data</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Public instance data can be accessed directly</span>
<span class="c1">-- Private instance data can only be accessed directly by subprograms defined</span>
<span class="c1">-- in the same package as the type definition.</span>

<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN716"
>Managing Class Data</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Class data is defined in the package body, and is not accessable by any</span>
<span class="c1">-- subprograms outside the package body.</span>
<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Counters</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Modular_Counter</span> <span class="kr">is</span> <span class="ow">mod</span> <span class="mi">100</span><span class="p">;</span>
   <span class="n">Internal_Counter</span> <span class="p">:</span> <span class="n">Modular_Counter</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="c1">--....</span>
<span class="kr">end</span> <span class="nf">Counters</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN719"
>Using Classes as Structs</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- Ada allows public definition of records without tags.</span>
<span class="c1">-- These approximate structs in C.</span>

<span class="kd">package</span> <span class="nc">Complex_Nums</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Complex_Number</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Real</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
      <span class="n">Imaginary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Complex_Nums</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN722"
>Cloning Objects</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="c1">-- cloning dynamically allocated objects</span>
<span class="n">P1</span> <span class="p">:</span> <span class="kr">new</span> <span class="n">Person_Ptr</span><span class="p">;</span>
<span class="n">P2</span> <span class="p">:</span> <span class="kr">new</span> <span class="n">Person_Ptr</span><span class="p">;</span>
<span class="n">P2</span><span class="p">.</span><span class="kr">all</span> <span class="p">:=</span> <span class="n">P1</span><span class="p">.</span><span class="kr">all</span><span class="p">;</span>

<span class="c1">-- cloning stack based objects</span>
<span class="n">P1</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>
<span class="n">P2</span> <span class="p">:</span> <span class="n">Person</span> <span class="p">:=</span> <span class="n">P1</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN725"
>Calling Methods Indirectly</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN728"
>Determining Subclass Membership</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Salaried_Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Employee</span> <span class="kr">with</span> <span class="kd">private</span><span class="p">;</span>
<span class="kd">type</span> <span class="kt">Person_Pointer</span> <span class="kr">is</span> <span class="kr">access</span> <span class="n">Person</span><span class="p">&#39;</span><span class="na">Class</span><span class="p">;</span>

<span class="n">P</span> <span class="p">:</span> <span class="n">Person_Pointer</span><span class="p">;</span>

<span class="kr">if</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">Employee</span> <span class="kr">then</span>
   <span class="c1">-- P points to a member of Employee or Salaried_Employee</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN731"
>Writing an Inheritable Class</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">package</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kd">private</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">);</span>
   <span class="kd">function</span> <span class="nf">Get_Name</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kd">private</span>
   <span class="kd">type</span> <span class="kt">Person</span> <span class="kr">is</span> <span class="kr">tagged</span> <span class="kr">record</span>
      <span class="n">Age</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Name</span> <span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="n">Null_Unbounded_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">People</span> <span class="kr">is</span>
   <span class="kd">procedure</span> <span class="nf">SetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Age</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Natural</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span> <span class="p">:=</span> <span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">SetAge</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetAge</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Natural</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">Subject</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetAge</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">SetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">out</span> <span class="nv">Person</span><span class="p">;</span> <span class="nv">Name</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="n">Subject</span><span class="p">.</span><span class="n">name</span> <span class="p">:=</span> <span class="n">To_Unbounded_String</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">SetName</span><span class="p">;</span>

   <span class="kd">procedure</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Person</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="kr">return</span> <span class="n">To_String</span><span class="p">(</span><span class="n">Subject</span><span class="p">.</span><span class="n">GetName</span><span class="p">);</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">People</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">Dude</span> <span class="p">:</span> <span class="n">Person</span><span class="p">;</span>
<span class="n">SetName</span><span class="p">(</span><span class="n">Dude</span><span class="p">,</span> <span class="s">&quot;Jason&quot;</span><span class="p">);</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">Dude</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- inheriting from Person</span>
<span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kr">record</span>
   <span class="n">Salary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="kr">end record</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">emp1</span> <span class="p">:</span> <span class="n">Employee</span><span class="p">;</span>
<span class="c1">-------------------------------</span>
<span class="n">SetName</span><span class="p">(</span><span class="n">emp1</span><span class="p">,</span> <span class="s">&quot;Jason&quot;</span><span class="p">);</span> <span class="c1">-- call the inherited procedures</span>
<span class="n">SetAge</span><span class="p">(</span><span class="n">emp1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>       <span class="c1">-- to access the inherited private fields</span>
<span class="n">emp1</span><span class="p">.</span><span class="n">Salary</span> <span class="p">:=</span> <span class="mf">200.0</span><span class="p">;</span> <span class="c1">-- access the public salary field</span>
<span class="n">Put_Line</span><span class="p">(</span><span class="n">GetName</span><span class="p">(</span><span class="n">emp1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; is age &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">GetAge</span><span class="p">(</span><span class="n">emp1</span><span class="p">))</span> <span class="o">&amp;</span>
         <span class="s">&quot;, the salary is &quot;</span> <span class="o">&amp;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">emp1</span><span class="p">.</span><span class="n">Salary</span><span class="p">));</span>
<span class="c1">-------------------------------</span>
<span class="c1">-- Ada does not provide any built in tagged types</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN734"
>Accessing Overridden Methods</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">package</span> <span class="nc">Employees</span> <span class="kr">is</span>
   <span class="kd">subtype</span> <span class="kt">Title_String</span> <span class="kr">is</span> <span class="kt">string</span><span class="p">(</span><span class="nv">1</span><span class="p">..</span><span class="nv">20</span><span class="p">);</span>
   <span class="kd">type</span> <span class="kt">Employee</span> <span class="kr">is</span> <span class="kr">new</span> <span class="n">Person</span> <span class="kr">with</span> <span class="kr">record</span>
      <span class="n">Salary</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">Title</span>  <span class="p">:</span> <span class="n">Title_String</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Employee</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Employees</span><span class="p">;</span>

<span class="kd">package</span> <span class="kd">body</span> <span class="nc">Employees</span> <span class="kr">is</span>
   <span class="kd">function</span> <span class="nf">GetName</span><span class="p">(</span><span class="nv">Subject</span> <span class="p">: </span><span class="nv">Employee</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">String</span> <span class="kr">is</span>
   <span class="kr">begin</span>
      <span class="c1">-- call the inherited GetName function:</span>
      <span class="kr">return</span> <span class="n">GetName</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">Subject</span><span class="p">))</span> <span class="o">&amp;</span> <span class="s">&quot; : &quot;</span> <span class="o">&amp;</span> <span class="n">Title</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">GetName</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Employees</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN737"
>Generating Attribute Methods Using AUTOLOAD</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN740"
>Solving the Data Inheritance Problem</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN743"
>Coping with Circular Data Structures</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN746"
>Overloading Operators</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------------------------------------------------------------------------</span>
<span class="kd">type</span> <span class="kt">Nums_Array</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="mf">1.</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">Integer</span><span class="p">;</span>

<span class="c1">-- Overload the &quot;+&quot; operator to allow addition of integers and items of</span>
<span class="c1">-- type Num_Array</span>

<span class="kd">function</span> <span class="nf">&quot;+&quot;</span> <span class="p">(</span><span class="nv">left</span> <span class="p">: </span><span class="nv">Num_Array</span><span class="p">;</span> <span class="nv">Right</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Num_Array</span><span class="p">;</span>
<span class="kd">function</span> <span class="nf">&quot;+&quot;</span> <span class="p">(</span><span class="nv">left</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">Right</span> <span class="p">: </span><span class="nv">Num_Array</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Num_Array</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span>
</pre></div>
</body>
</html></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN749"
>Creating Magic Variables with tie</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="packagesetc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="dbaccess.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Packages, Libraries, and Modules</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Database Access</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>