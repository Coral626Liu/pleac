<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Numbers</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Ada"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Strings"
HREF="strings.html"><LINK
REL="NEXT"
TITLE="Dates and Times"
HREF="datesandtimes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Ada</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="strings.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="NUMBERS"
>2. Numbers</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN73"
>Checking Whether a String Is a Valid Number</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span>   <span class="kr">begin</span>
      <span class="n">Int</span> <span class="p">:=</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not an Integer&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>
   <span class="kr">begin</span>
      <span class="n">Flt</span> <span class="p">:=</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not a float&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span>

<span class="c1">-- Ada also allows you to define your own numeric types and check</span>
<span class="c1">-- for valid conversion from a string, including out of range</span>
<span class="c1">-- errors</span>
   <span class="kr">begin</span>
      <span class="n">Small</span> <span class="p">:=</span> <span class="n">Small_Int</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Numeric_String</span><span class="p">);</span>
   <span class="kr">exception</span>
      <span class="kr">when</span> <span class="n">Constraint_Error</span> <span class="p">=&gt;</span>
         <span class="n">Put_Line</span><span class="p">(</span><span class="n">Numeric_String</span> <span class="o">&amp;</span> <span class="s">&quot; is not a Small_Int&quot;</span><span class="p">);</span>
   <span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN76"
>Comparing Floating-Point Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kd">function</span> <span class="nf">equal</span><span class="p">(</span><span class="nv">Num1</span><span class="p">,</span> <span class="nv">Num2</span> <span class="p">: </span><span class="nv">Float</span><span class="p">;</span> <span class="nv">Accuracy</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="kt">Boolean</span> <span class="kr">is</span>
   <span class="n">My_Delta</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">10.0</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">Accuracy</span><span class="p">);</span>
   <span class="n">Diff</span>     <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="kr">abs</span> <span class="p">(</span><span class="n">Num1</span> <span class="o">-</span> <span class="n">Num2</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="kr">return</span> <span class="n">Diff</span> <span class="o">&lt;</span> <span class="n">My_Delta</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">equal</span><span class="p">;</span>
<span class="c1">----------------------------------------------------------------------</span>
<span class="c1">-- Ada offers another form of Real numbers : Fixed point types</span>
<span class="c1">-- You specify the fixed precision of the type in the &quot;delta&quot;</span>
<span class="c1">-- parameter for the type</span>
<span class="c1">-- The following type will have a clearly specified range:</span>
<span class="c1">-- -999_999_999.999 to 999_999_999.999</span>

<span class="kd">type</span> <span class="kt">Real</span> <span class="kr">is</span> <span class="kr">delta</span> <span class="mf">0.001</span> <span class="kr">digits</span> <span class="mi">12</span><span class="p">;</span>

<span class="n">R1</span><span class="p">,</span> <span class="n">R2</span> <span class="p">:</span> <span class="n">Real</span><span class="p">;</span>
<span class="c1">-- [...]</span>
<span class="kr">if</span> <span class="n">R1</span> <span class="o">=</span> <span class="n">R2</span> <span class="kr">then</span>
   <span class="n">Ada</span><span class="p">.</span><span class="n">Text_Io</span><span class="p">.</span><span class="n">Put_Line</span> <span class="p">(</span><span class="n">Real</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">R1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot; equals&quot;</span>
                       <span class="o">&amp;</span> <span class="n">Real</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">R2</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>

<span class="n">wage</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">5.36</span><span class="p">;</span>
<span class="n">week</span> <span class="p">:</span> <span class="kt">Float</span> <span class="p">:=</span> <span class="mf">40.0</span> <span class="o">*</span> <span class="n">wage</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;One week&#39;s wage is: $&quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">week</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN79"
>Rounding Floating-Point Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">declare</span>
   <span class="n">a</span> <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">0.255</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Unrounded: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Rounded: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">------</span>

<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">vals</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">4</span><span class="p">)</span> <span class="kr">of</span> <span class="kt">float</span><span class="p">;</span>
   <span class="n">a</span> <span class="p">:</span> <span class="n">vals</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.3</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="kr">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">&#39;</span><span class="na">range</span> <span class="kr">loop</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Truncation</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Floor</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span><span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Characters</span><span class="p">.</span><span class="n">Latin_1</span><span class="p">.</span><span class="n">HT</span><span class="p">);</span>
      <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Ceiling</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">num</span><span class="p">)),</span> <span class="n">Aft</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">,</span><span class="n">Exp</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">New_Line</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN82"
>Converting Between Binary and Decimal</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- Ada uses the notation Base#value# for a non-decimal value</span>
<span class="c1">-- Thus, a binary number is defined as 2#0011_0110#.</span>
<span class="c1">-- The underscores are optional, for readability only.</span>

<span class="kr">declare</span>
   <span class="n">num</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">2</span><span class="err">#</span><span class="mi">0011_0110</span><span class="err">#</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Decimal: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Binary: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN85"
>Operating on a Series of Integers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">declare</span>
   <span class="n">x</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">5</span><span class="p">;</span>
   <span class="n">y</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">..</span><span class="n">y</span> <span class="kr">loop</span>
   <span class="c1">-- i is set to every Integer from x to y, inclusive</span>
      <span class="kc">null</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="kr">declare</span>
   <span class="n">x</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">5</span><span class="p">;</span>
   <span class="n">y</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">12</span><span class="p">;</span>
   <span class="n">num</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">x</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">loop</span>
   <span class="c1">-- operate on num</span>
      <span class="n">num</span> <span class="p">:=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">-- step size = 7</span>
      <span class="kr">exit</span> <span class="kr">when</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span>

<span class="n">Put</span><span class="p">(</span><span class="s">&quot;Childhood is: &quot;</span><span class="p">);</span>
<span class="kr">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="mf">5.</span><span class="p">.</span><span class="mi">12</span> <span class="kr">loop</span>
   <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">num</span><span class="p">));</span>
<span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="n">New_Line</span><span class="p">;</span>
<span class="c1">---------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN88"
>Working with Roman Numerals</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">---------------</span>
<span class="c1">-- No standard roman numeral package available</span>
<span class="c1">---------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN91"
>Generating Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- Generating random discrete values</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Rand_Range</span> <span class="kr">is</span> <span class="kr">range</span> <span class="mf">25.</span><span class="p">.</span><span class="mi">75</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">Rand_Int</span> <span class="kr">is new</span> <span class="nc">Ada.Numerics.Discrete_Random</span><span class="p">(</span>Rand_Range<span class="p">);</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Rand_Int</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
   <span class="n">Num</span> <span class="p">:</span> <span class="n">Rand_Range</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Rand_Int</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Num</span> <span class="p">:=</span> <span class="n">Rand_Int</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="n">Rand_Range</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">-- Generating a random 8 character password</span>
<span class="kr">declare</span>
   <span class="kd">subtype</span> <span class="kt">alphas</span> <span class="kr">is</span> <span class="kt">Character</span> <span class="kr">range</span> <span class="p">&#39;</span><span class="na">A</span><span class="p">&#39;..&#39;</span><span class="na">z</span><span class="p">&#39;;</span>
   <span class="kd">package</span> <span class="nc">Rand_Alpha</span> <span class="kr">is new</span> <span class="nc">Ada.Numerics.Discrete_Random</span><span class="p">(</span>alphas<span class="p">);</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Rand_Alpha</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
   <span class="n">Password</span> <span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="mi">8</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Rand_Alpha</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Password</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
      <span class="n">Password</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Rand_Alpha</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Random Password: &quot;</span> <span class="o">&amp;</span> <span class="n">Password</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span>

<span class="c1">-- Generating Random Floating Point Numbers</span>
<span class="kr">declare</span>
   <span class="n">seed</span> <span class="p">:</span> <span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="kt">Generator</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="n">Reset</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Random Float: &quot;</span> <span class="o">&amp;</span>
         <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Ada</span><span class="p">.</span><span class="n">Numerics</span><span class="p">.</span><span class="n">Float_Random</span><span class="p">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">--------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN94"
>Generating Different Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------</span>
<span class="c1">-- Ada random number generators are required to yield a period of</span>
<span class="c1">-- at least (2^31)-2 or greater.</span>
<span class="c1">--------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN97"
>Making Numbers Even More Random</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------</span>
<span class="c1">-- Ada does not provide a standard biased random number package</span>
<span class="c1">------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN100"
>Generating Biased Random Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">------------</span>
<span class="c1">-- Using the Cycle parameter of the Elementary Functions to define</span>
<span class="c1">-- a cycle of 0.0..359.99</span>
<span class="kr">declare</span>
   <span class="kn">use</span> <span class="nn">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
   <span class="n">angle</span>   <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">45.0</span><span class="p">;</span>
   <span class="no">degrees</span> <span class="p">:</span> <span class="kr">constant</span> <span class="kt">float</span> <span class="p">:=</span> <span class="mf">360.0</span><span class="p">;</span>
   <span class="n">degreeSine</span> <span class="p">:</span> <span class="kt">float</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">DegreeSine</span> <span class="p">:=</span> <span class="n">sin</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="n">angle</span><span class="p">,</span> <span class="n">Cycle</span> <span class="p">=&gt;</span> <span class="n">degrees</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Sine of &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">&amp;</span>
            <span class="s">&quot; degrees is &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">degreeSine</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN103"
>Doing Trigonometry in Degrees, not Radians</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">declare</span>
   <span class="n">y</span><span class="p">:</span> <span class="kt">float</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">Elm</span> <span class="kr">renames</span> <span class="nc">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">y</span> <span class="p">:=</span> <span class="n">Elm</span><span class="p">.</span><span class="n">Arccos</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="mf">0.7</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;arccos(0.7) = &quot;</span> <span class="o">&amp;</span> <span class="kt">float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN106"
>Calculating More Trigonometric Functions</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- The Ada.Numerics.Elementary_Functions.Log function returns</span>
<span class="c1">-- a natural logarithm when no base is specified, and a log to</span>
<span class="c1">-- the specified base when a base is specified.</span>
<span class="kr">declare</span>
   <span class="kn">use</span> <span class="nn">Ada.Numerics.Elementary_Functions</span><span class="p">;</span>
   <span class="n">answer</span> <span class="p">:</span> <span class="kt">float</span> <span class="p">:=</span> <span class="n">log</span><span class="p">(</span><span class="n">X</span> <span class="p">=&gt;</span> <span class="mf">10000.0</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mf">10.0</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Log10(10000) = &quot;</span> <span class="o">&amp;</span> <span class="kt">Float</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">answer</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN109"
>Taking Logarithms</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- Compute the multiplication of two given matrices.</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Data</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;,</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="kt">Integer</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Matrix</span><span class="p">(</span><span class="nv">Rows</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">;</span> <span class="nv">Cols</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">)</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Mat</span> <span class="p">:</span> <span class="n">Data</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">Rows</span><span class="p">,</span><span class="mf">1.</span><span class="p">.</span><span class="n">Cols</span><span class="p">);</span>
   <span class="kr">end record</span><span class="p">;</span>

   <span class="n">Matrix_Mismatch</span> <span class="p">:</span> <span class="kr">exception</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nf">Mat_Mult</span><span class="p">(</span><span class="nv">Matrix1</span> <span class="p">: </span><span class="nv">Matrix</span><span class="p">;</span>
                     <span class="nv">Matrix2</span> <span class="p">: </span><span class="nv">Matrix</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Matrix</span> <span class="kr">is</span>
      <span class="n">result</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span><span class="p">,</span> <span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span><span class="p">);</span>
   <span class="kr">begin</span>
      <span class="kr">if</span> <span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span> <span class="o">/=</span> <span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">then</span>
         <span class="kr">raise</span> <span class="n">Matrix_Mismatch</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Rows</span> <span class="kr">loop</span>
         <span class="kr">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix2</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">loop</span>
            <span class="kr">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Cols</span> <span class="kr">loop</span>
               <span class="n">result</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="p">:=</span> <span class="n">result</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">+</span> <span class="p">(</span><span class="n">Matrix1</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span>
                         <span class="n">Matrix2</span><span class="p">.</span><span class="n">Mat</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">));</span>
            <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
         <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="kr">return</span> <span class="n">result</span><span class="p">;</span>
   <span class="kr">end</span> <span class="nf">Mat_Mult</span><span class="p">;</span>

   <span class="n">Mat1</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">);</span>
   <span class="n">Mat2</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">3</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">Mat3</span> <span class="p">:</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Rows</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">,</span><span class="n">Cols</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="kr">begin</span>
   <span class="n">Mat1</span><span class="p">.</span><span class="n">Mat</span> <span class="p">:=</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">));</span>
   <span class="n">Mat2</span><span class="p">.</span><span class="n">Mat</span> <span class="p">:=</span> <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
   <span class="n">Mat3</span> <span class="p">:=</span> <span class="n">Mat_Mult</span><span class="p">(</span><span class="n">Mat1</span><span class="p">,</span> <span class="n">Mat2</span><span class="p">);</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN112"
>Multiplying Matrices</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="kr">declare</span>
   <span class="kd">package</span> <span class="nc">Cmplx_Flt</span> <span class="kr">is new</span>
        <span class="nc">Ada.Numerics.Generic_Complex_Types</span><span class="p">(</span>float<span class="p">);</span>
   <span class="kn">use</span> <span class="nn">Cmplx_Flt</span><span class="p">;</span>
   <span class="n">a</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">);</span>
   <span class="n">b</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span> <span class="p">:=</span> <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">);</span>
   <span class="n">c</span> <span class="p">:</span> <span class="n">Cmplx_Flt</span><span class="p">.</span><span class="n">Complex</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">c</span> <span class="p">:=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">;</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN115"
>Using Complex Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- Ada allows representation of any base from 2 through 16 on output</span>
<span class="c1">-- all Integers are stored internally as binary.</span>
<span class="kr">declare</span>
   <span class="n">Num</span> <span class="p">:</span> <span class="kt">Integer</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Gimme a number in decimal, octal, or hex:&quot;</span><span class="p">);</span>
   <span class="n">Get</span><span class="p">(</span><span class="n">Num</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Decimal value: &quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Octal Value: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">8</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">;</span>
   <span class="n">Put</span><span class="p">(</span><span class="s">&quot;Hexadecimal Value: &quot;</span><span class="p">);</span>
   <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Num</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=&gt;</span> <span class="mi">16</span><span class="p">);</span>
   <span class="n">New_Line</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="c1">------</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Enter a file permission in octal: &quot;</span><span class="p">);</span>
   <span class="n">Get</span><span class="p">(</span><span class="n">Num</span><span class="p">);</span>
   <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Decimal Value:&quot;</span> <span class="o">&amp;</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN118"
>Converting Between Octal and Hexadecimal</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-- The Text Editing routines in Ada work for fixed decimal types</span>
<span class="kr">declare</span>
   <span class="kd">type</span> <span class="kt">Large_Type</span> <span class="kr">is</span> <span class="kr">delta</span> <span class="mf">0.01</span> <span class="kr">digits</span> <span class="mi">10</span><span class="p">;</span>
   <span class="kd">package</span> <span class="nc">with_Commas</span> <span class="kr">is new</span>
            <span class="nc">Ada.Text_Io.Editing.Decimal_Output</span><span class="p">(</span>Large_Type<span class="p">);</span>
   <span class="kn">use</span> <span class="nn">with_Commas</span><span class="p">;</span>
   <span class="kn">use</span> <span class="nn">Ada.Text_IO.Editing</span><span class="p">;</span>

   <span class="n">Val</span> <span class="p">:</span> <span class="n">Large_Type</span> <span class="p">:=</span> <span class="mf">12345678.90</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="n">put</span><span class="p">(</span><span class="n">Val</span><span class="p">,</span> <span class="n">To_Picture</span><span class="p">(</span><span class="s">&quot;ZZ_ZZZ_ZZ9.99&quot;</span><span class="p">));</span>
<span class="kr">end</span><span class="p">;</span>
<span class="c1">----------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN121"
>Putting Commas in Numbers</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-----------------</span>
<span class="c1">-- There are no standard Ada regular expression packages,</span>
<span class="c1">-- however, then GNAT compiler does provide some regular expression</span>
<span class="c1">-- packages as extensions.</span>

<span class="kr">end</span> <span class="nf">Pleac_Numbers</span><span class="p">;</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN124"
>Printing Correct Plurals</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c1"></span><span class="c1">-----------------------------------------------------------------</span>
<span class="c1">------- Program Calculating Prime Factors</span>
<span class="c1">-----------------------------------------------------------------</span>
<span class="c1">-----with Ada.Text_Io; use Ada.Text_IO;</span>

<span class="kn">with</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Integer_Text_Io</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">Prime_Factors</span> <span class="kr">is</span>
   <span class="kd">type</span> <span class="kt">Found_List</span> <span class="kr">is</span> <span class="kr">array</span><span class="p">(</span><span class="kt">Positive</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="kt">Natural</span><span class="p">;</span>
   <span class="kd">type</span> <span class="kt">Factor_List</span> <span class="p">(</span><span class="nv">Max_Size</span> <span class="p">: </span><span class="nv">Positive</span><span class="p">)</span> <span class="kr">is</span> <span class="kr">record</span>
      <span class="n">Factors</span> <span class="p">:</span> <span class="n">Found_List</span><span class="p">(</span><span class="mf">1.</span><span class="p">.</span><span class="n">Max_Size</span><span class="p">)</span> <span class="p">:=</span> <span class="p">(</span><span class="kr">Others</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">);</span>
      <span class="n">Num_Found</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kr">end record</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">getFactors</span><span class="p">(</span><span class="nv">n</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Integer</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Factor_List</span> <span class="kr">is</span>
   <span class="n">orig</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">n</span><span class="p">;</span>
   <span class="n">new_n</span> <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">n</span><span class="p">;</span>
   <span class="n">Temp</span> <span class="p">:</span> <span class="n">Factor_List</span><span class="p">(</span><span class="n">Max_Size</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
   <span class="n">sqi</span>  <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">4</span><span class="p">;</span>
   <span class="n">i</span>    <span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kr">begin</span>
   <span class="kr">while</span> <span class="n">sqi</span> <span class="o">&lt;=</span> <span class="n">new_n</span> <span class="kr">loop</span>
     <span class="kr">while</span> <span class="p">(</span><span class="n">new_n</span> <span class="ow">mod</span> <span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">loop</span>
        <span class="n">new_n</span> <span class="p">:=</span> <span class="n">new_n</span> <span class="o">/</span> <span class="n">i</span><span class="p">;</span>
        <span class="kr">if</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">then</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kr">else</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
           <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">sqi</span> <span class="p">:=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">;</span>
      <span class="n">i</span> <span class="p">:=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
   <span class="kr">if</span> <span class="p">(</span><span class="n">new_n</span> <span class="o">/=</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">new_n</span> <span class="o">/=</span> <span class="n">orig</span><span class="p">)</span> <span class="kr">then</span>
      <span class="n">Temp</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">new_n</span><span class="p">)</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="p">:=</span> <span class="n">Temp</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">return</span> <span class="n">Temp</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">getFactors</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">Display_Factors</span><span class="p">(</span><span class="nv">Num</span> <span class="p">: </span><span class="nv">Integer</span><span class="p">;</span> <span class="nv">Item</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">Factor_List</span><span class="p">)</span> <span class="kr">is</span>
<span class="kr">begin</span>
   <span class="n">Put</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">Num</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;: &quot;</span><span class="p">);</span>
   <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Num_Found</span> <span class="o">=</span> <span class="mi">0</span> <span class="kr">then</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;PRIME&quot;</span><span class="p">);</span>
   <span class="kr">else</span>
      <span class="kr">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">&#39;</span><span class="na">Range</span> <span class="kr">loop</span>
         <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">/=</span> <span class="mi">0</span> <span class="kr">then</span>
            <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">index</span><span class="p">,</span> <span class="n">width</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
            <span class="kr">if</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="kr">then</span>
               <span class="n">Put</span><span class="p">(</span><span class="s">&quot;^&quot;</span><span class="p">);</span>
               <span class="n">Put</span><span class="p">(</span><span class="n">Item</span> <span class="p">=&gt;</span> <span class="n">Item</span><span class="p">.</span><span class="n">Factors</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">width</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">);</span>
            <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
            <span class="n">Ada</span><span class="p">.</span><span class="n">Text_Io</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
         <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
      <span class="n">New_Line</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Display_Factors</span><span class="p">;</span>

<span class="kr">begin</span>
   <span class="kr">if</span> <span class="n">Argument_Count</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="kr">then</span>
      <span class="n">Put_Line</span><span class="p">(</span><span class="s">&quot;Usage: &quot;</span> <span class="o">&amp;</span> <span class="n">Command_Name</span> <span class="o">&amp;</span> <span class="s">&quot; number...&quot;</span><span class="p">);</span>
      <span class="kr">return</span><span class="p">;</span>
   <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
   <span class="kr">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="mf">1.</span><span class="p">.</span><span class="n">Argument_Count</span> <span class="kr">loop</span>
     <span class="n">Display_Factors</span><span class="p">(</span><span class="kt">Positive</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Argument</span><span class="p">(</span><span class="n">arg</span><span class="p">)),</span>
                     <span class="n">getFactors</span><span class="p">(</span><span class="kt">Positive</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Argument</span><span class="p">(</span><span class="n">arg</span><span class="p">))));</span>
   <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<span class="kr">end</span> <span class="nf">Prime_Factors</span><span class="p">;</span>
<span class="c1">------------------------------------------------------------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN127"
>Program: Calculating Prime Factors</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="strings.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Strings</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Dates and Times</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>