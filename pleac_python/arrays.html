<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Arrays</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PLEAC-Python"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Dates and Times"
HREF="datesandtimes.html"><LINK
REL="NEXT"
TITLE="Hashes"
HREF="hashes.html"><style type="text/css">td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }

  </style></head
><BODY TEXT="#cecece" BGCOLOR="#4f6f6f" LINK="#f5deb3" VLINK="#d5ae83"
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PLEAC-Python</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ARRAYS"
>4. Arrays</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN170"
>Introduction</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># Python does not automatically flatten lists, in other words</span>
<span class="c"># in the following, non-nested contains four elements and</span>
<span class="c"># nested contains three elements, the third element of which</span>
<span class="c"># is itself a list containing two elements:</span>
<span class="n">non_nested</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;this&quot;</span><span class="p">,</span> <span class="s">&quot;that&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;other&quot;</span><span class="p">]</span>
<span class="n">nested</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;this&quot;</span><span class="p">,</span> <span class="s">&quot;that&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;other&quot;</span><span class="p">]]</span>
<span class="c">#-----------------------------</span>
<span class="n">tune</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;The&quot;</span><span class="p">,</span> <span class="s">&quot;Star-Spangled&quot;</span><span class="p">,</span> <span class="s">&quot;Banner&quot;</span><span class="p">]</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN173"
>Specifying a List In Your Program</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;quick&quot;</span><span class="p">,</span> <span class="s">&quot;brown&quot;</span><span class="p">,</span> <span class="s">&quot;fox&quot;</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="s">&quot;Why are you teasing me?&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="n">text</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">    The boy stood on the burning deck,</span>
<span class="s">    It was as hot as glass.</span>
<span class="s">&quot;&quot;&quot;</span>
<span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)]</span>
<span class="c">#-----------------------------</span>
<span class="n">biglist</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;mydatafile&quot;</span><span class="p">)]</span>
<span class="c">#-----------------------------</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&quot;The Mines of Moria&quot;</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&#39;The Mines of Moria&#39;</span>
<span class="c">#-----------------------------</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Gandalf&quot;</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&quot;Speak, &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot;, and enter!&quot;</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&quot;Speak, </span><span class="si">%s</span><span class="s">, and welcome!&quot;</span> <span class="o">%</span> <span class="n">name</span>
<span class="c">#-----------------------------</span>
<span class="n">his_host</span> <span class="o">=</span> <span class="s">&quot;www.python.org&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">host_info</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;nslookup &quot;</span> <span class="o">+</span> <span class="n">his_host</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c"># NOTE: not really relevant to Python (no magic &#39;$$&#39; variable)</span>
<span class="n">python_info</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;ps </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">shell_info</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;ps $$&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="c"># NOTE: not really relevant to Python (no automatic interpolation)</span>
<span class="n">banner</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Costs&quot;</span><span class="p">,</span> <span class="s">&quot;only&quot;</span><span class="p">,</span> <span class="s">&quot;$4.95&quot;</span><span class="p">]</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&quot;Costs only $4.95&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="n">brax</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot; &#39; &quot; ( ) &lt; &gt; { } [ ] &quot;&quot;&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>            <span class="c">#&quot;&quot;&quot;</span>
<span class="n">brax</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s">&quot;&quot;&quot;&#39;&quot;()&lt;&gt;{}[]&quot;&quot;&quot;</span><span class="p">)</span>                         <span class="c">#&quot;&quot;&quot;</span>
<span class="n">rings</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;They&#39;re  &quot;Nenya Narya Vilya&quot;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>    <span class="c">#&#39;&#39;&#39;</span>
<span class="n">tags</span>   <span class="o">=</span> <span class="s">&#39;LI TABLE TR TD A IMG H1 P&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">sample</span> <span class="o">=</span> <span class="s">r&#39;The backslash (\) is often used in regular expressions.&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="c">#-----------------------------</span>
<span class="n">banner</span> <span class="o">=</span> <span class="s">&quot;The backslash (</span><span class="se">\\</span><span class="s">) is often used in regular expressions.&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="n">ships</span> <span class="o">=</span> <span class="s">u&quot;Niсa Pinta Santa Marнa&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>          <span class="c"># WRONG (only three ships)</span>
<span class="n">ships</span> <span class="o">=</span> <span class="p">[</span><span class="s">u&quot;Niсa&quot;</span><span class="p">,</span> <span class="s">u&quot;Pinta&quot;</span><span class="p">,</span> <span class="s">u&quot;Santa Marнa&quot;</span><span class="p">]</span>        <span class="c"># right</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN176"
>Printing a List with Commas</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="k">def</span> <span class="nf">commify_series</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
        <span class="k">return</span> <span class="s">&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot; and &quot;</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot;, and &quot;</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">commify_series</span><span class="p">([])</span>
<span class="n">commify_series</span><span class="p">([</span><span class="s">&quot;red&quot;</span><span class="p">])</span>
<span class="n">commify_series</span><span class="p">([</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">])</span>
<span class="n">commify_series</span><span class="p">([</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">])</span>
<span class="c">#-----------------------------</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;yellow&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;I have&quot;</span><span class="p">,</span> <span class="n">mylist</span><span class="p">,</span> <span class="s">&quot;marbles.&quot;</span>
<span class="k">print</span> <span class="s">&quot;I have&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mylist</span><span class="p">),</span> <span class="s">&quot;marbles.&quot;</span>
<span class="c">#=&gt; I have [&#39;red&#39;, &#39;yellow&#39;, &#39;green&#39;] marbles.</span>
<span class="c">#=&gt; I have red yellow green marbles.</span>

<span class="c">#-----------------------------</span>
<span class="c">#!/usr/bin/env python</span>
<span class="c"># commify_series - show proper comma insertion in list output</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span> <span class="s">&#39;just one thing&#39;</span><span class="p">,</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;Mutt Jeff&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;Peter Paul Mary&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;To our parents&#39;</span><span class="p">,</span> <span class="s">&#39;Mother Theresa&#39;</span><span class="p">,</span> <span class="s">&#39;God&#39;</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;pastrami&#39;</span><span class="p">,</span> <span class="s">&#39;ham and cheese&#39;</span><span class="p">,</span> <span class="s">&#39;peanut butter and jelly&#39;</span><span class="p">,</span> <span class="s">&#39;tuna&#39;</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;recycle tired, old phrases&#39;</span><span class="p">,</span> <span class="s">&#39;ponder big, happy thoughts&#39;</span> <span class="p">),</span>
    <span class="p">(</span> <span class="s">&#39;recycle tired, old phrases&#39;</span><span class="p">,</span>
      <span class="s">&#39;ponder big, happy thoughts&#39;</span><span class="p">,</span>
      <span class="s">&#39;sleep and dream peacefully&#39;</span> <span class="p">),</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">commify_series</span><span class="p">(</span><span class="n">terms</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">terms</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">&quot;,&quot;</span> <span class="ow">in</span> <span class="n">term</span><span class="p">:</span>
            <span class="n">sepchar</span> <span class="o">=</span> <span class="s">&quot;; &quot;</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sepchar</span> <span class="o">=</span> <span class="s">&quot;, &quot;</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
        <span class="k">return</span> <span class="s">&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">terms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&quot; and &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s%s</span><span class="s">and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sepchar</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">terms</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="n">sepchar</span><span class="p">,</span> <span class="n">terms</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;The list is: </span><span class="si">%s</span><span class="s">.&quot;</span> <span class="o">%</span> <span class="n">commify_series</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c">#=&gt; The list is: just one thing.</span>
<span class="c">#=&gt; The list is: Mutt and Jeff.</span>
<span class="c">#=&gt; The list is: Peter, Paul, and Mary.</span>
<span class="c">#=&gt; The list is: To our parents, Mother Theresa, and God.</span>
<span class="c">#=&gt; The list is: pastrami, ham and cheese, peanut butter and jelly, and tuna.</span>
<span class="c">#=&gt; The list is: recycle tired, old phrases and ponder big, happy thoughts.</span>
<span class="c">#=&gt; The list is: recycle tired, old phrases; ponder big, happy thoughts; and</span>
<span class="c">#   sleep and dream peacefully.</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN179"
>Changing Array Size</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># Python allocates more space than is necessary every time a list needs to</span>
<span class="c"># grow and only shrinks lists when more than half the available space is</span>
<span class="c"># unused.  This means that adding or removing an element will in most cases</span>
<span class="c"># not force a reallocation.</span>

<span class="k">del</span> <span class="n">mylist</span><span class="p">[</span><span class="n">size</span><span class="p">:]</span>         <span class="c"># shrink mylist</span>
<span class="n">mylist</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>   <span class="c"># grow mylist by appending &#39;size&#39; None elements</span>

<span class="c"># To add an element to the end of a list, use the append method:</span>
<span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="c"># To insert an element, use the insert method:</span>
<span class="n">mylist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c"># Insert 10 at the beginning of the list</span>

<span class="c"># To extend one list with the contents of another, use the extend method:</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">mylist</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>

<span class="c"># To insert the contents of one list into another, overwriting zero or </span>
<span class="c"># more elements, specify a slice:</span>
<span class="n">mylist</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">list2</span>   <span class="c"># Don&#39;t overwrite anything; grow mylist if needed</span>
<span class="n">mylist</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">list2</span>   <span class="c"># Overwrite mylist[2] and grow mylist if needed</span>

<span class="c"># To remove one element from the middle of a list:</span>
<span class="c"># To remove elements from the middle of a list:</span>
<span class="k">del</span> <span class="n">mylist</span><span class="p">[</span><span class="n">idx1</span><span class="p">:</span><span class="n">idx2</span><span class="p">]</span>  <span class="c"># 0 or more</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mylist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>    <span class="c"># remove mylist[idx] and assign it to x</span>

<span class="c"># You cannot assign to or get a non-existent element:</span>
<span class="c"># &gt;&gt;&gt; x = []</span>
<span class="c"># &gt;&gt;&gt; x[4] = 5</span>
<span class="c">#</span>
<span class="c"># Traceback (most recent call last):</span>
<span class="c">#   File &quot;&lt;pyshell#1&gt;&quot;, line 1, in -toplevel-</span>
<span class="c">#     x[4] = 5</span>
<span class="c"># IndexError: list assignment index out of range</span>
<span class="c">#</span>
<span class="c"># &gt;&gt;&gt; print x[1000]</span>
<span class="c">#</span>
<span class="c"># Traceback (most recent call last):</span>
<span class="c">#  File &quot;&lt;pyshell#16&gt;&quot;, line 1, in -toplevel-</span>
<span class="c">#    print x[1000]</span>
<span class="c"># IndexError: list index out of range</span>
<span class="c">#-----------------------------</span>
<span class="k">def</span> <span class="nf">what_about_that_list</span><span class="p">(</span><span class="n">terms</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;The list now has&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">),</span> <span class="s">&quot;elements.&quot;</span>
    <span class="k">print</span> <span class="s">&quot;The index of the last element is&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;(or -1).&quot;</span>
    <span class="k">print</span> <span class="s">&quot;Element #3 is </span><span class="si">%s</span><span class="s">.&quot;</span> <span class="o">%</span> <span class="n">terms</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

<span class="n">people</span> <span class="o">=</span> <span class="s">&quot;Crosby Stills Nash Young&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">what_about_that_list</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c">#=&gt; The list now has 4 elements.</span>
<span class="c">#=&gt; The index of the last element is 3 (or -1).</span>
<span class="c">#=&gt; Element #3 is Young.</span>
<span class="c">#-----------------------------</span>
<span class="n">people</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="n">what_about_that_list</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">people</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10000</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">people</span><span class="p">))</span>
<span class="c">#-----------------------------</span>
<span class="c">#&gt;&gt;&gt; people += [None] * (10000 - len(people))</span>
<span class="c">#&gt;&gt;&gt; what_about_that_list(people)</span>
<span class="c">#The list now has 10000 elements.</span>
<span class="c">#The index of the last element is 9999 (or -1).</span>
<span class="c">#Element #3 is None.</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182"
>Doing Something with Every Element in a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="k">pass</span> <span class="c"># do something with item</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">bad_users</span><span class="p">:</span>
    <span class="n">complain</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">=</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">all_users</span><span class="p">:</span>
    <span class="n">disk_space</span> <span class="o">=</span> <span class="n">get_usage</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>    <span class="c"># find out how much disk space in use</span>
    <span class="k">if</span> <span class="n">disk_space</span> <span class="o">&gt;</span> <span class="n">MAX_QUOTA</span><span class="p">:</span>      <span class="c"># if it&#39;s more than we want ...</span>
        <span class="n">complain</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>              <span class="c"># ... then object vociferously</span>
<span class="c">#-----------------------------</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;who&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s">&quot;dalke&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">line</span><span class="p">,</span>  <span class="c"># or print line[:-1]</span>

<span class="c"># or:</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;who&quot;</span><span class="p">)</span>
                   <span class="k">if</span> <span class="s">&quot;dalke&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">]),</span>

<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">myfile</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span> <span class="c"># Split on whitespace</span>
        <span class="k">print</span> <span class="n">word</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>     <span class="c"># reverse word</span>
    <span class="k">print</span>

<span class="c"># pre 2.3:</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">myfile</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span> <span class="c"># Split on whitespace</span>
        <span class="n">chars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>    <span class="c"># Turn the string into a list of characters</span>
        <span class="n">chars</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chars</span><span class="p">),</span>
    <span class="k">print</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;i =&quot;</span><span class="p">,</span> <span class="n">item</span>
<span class="c">#-----------------------------</span>
<span class="c"># NOTE: you can&#39;t modify in place the way Perl does:</span>
<span class="c"># data = [1, 2, 3]</span>
<span class="c"># for elem in data:</span>
<span class="c">#     elem -= 1</span>
<span class="c">#print data</span>
<span class="c">#=&gt;[1, 2, 3]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
<span class="k">print</span> <span class="n">data</span>
<span class="c">#=&gt;[0, 1, 2]</span>

<span class="c"># or</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">elem</span> <span class="o">-</span> <span class="mi">1</span>
<span class="c">#-----------------------------</span>
<span class="c"># NOTE: strings are immutable in Python so this doesn&#39;t translate well.</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">mydict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">mydict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN185"
>Iterating Over an Array by Reference</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Apple&quot;</span><span class="p">,</span> <span class="s">&quot;Blackberry&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">fruits</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">fruit</span><span class="p">,</span> <span class="s">&quot;tastes good in a pie.&quot;</span>
<span class="c">#=&gt; Apple tastes good in a pie.</span>
<span class="c">#=&gt; Blackberry tastes good in a pie.</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fruits</span><span class="p">)):</span>
    <span class="k">print</span> <span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s">&quot;tastes good in a pie.&quot;</span>

<span class="c"># If you must explicitly index, use enumerate():</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fruits</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">) </span><span class="si">%s</span><span class="s"> tastes good in a pie.&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fruit</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">rogue_cats</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Morris&quot;</span><span class="p">,</span> <span class="s">&quot;Felix&quot;</span><span class="p">]</span>
<span class="n">namedict</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;felines&quot;</span><span class="p">:</span> <span class="n">rogue_cats</span> <span class="p">}</span>
<span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">namedict</span><span class="p">[</span><span class="s">&quot;felines&quot;</span><span class="p">]:</span>
    <span class="k">print</span> <span class="n">cat</span><span class="p">,</span> <span class="s">&quot;purrs hypnotically.&quot;</span>
<span class="k">print</span> <span class="s">&quot;--More--</span><span class="se">\n</span><span class="s">You are controlled.&quot;</span>
<span class="c">#-----------------------------</span>
<span class="c"># As noted before, if you need an index, use enumerate() and not this:</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">namedict</span><span class="p">[</span><span class="s">&quot;felines&quot;</span><span class="p">])):</span>
    <span class="k">print</span> <span class="n">namedict</span><span class="p">[</span><span class="s">&quot;felines&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="s">&quot;purrs hypnotically.&quot;</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN188"
>Extracting Unique Elements from a List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="n">uniq</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">mylist</span><span class="p">))</span>
<span class="c">#-----------------------------</span>
<span class="c"># See http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/259174</span>
<span class="c"># for a more heavyweight version of a bag</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">seen</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">uniq</span> <span class="o">=</span> <span class="n">seen</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">uniq</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">seen</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">uniq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
<span class="c">#-----------------------------</span>
<span class="c"># generate a list of users logged in, removing duplicates</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">usernames</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;who&quot;</span><span class="p">)]</span>
<span class="n">uniq</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">usernames</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;users logged in:&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">uniq</span><span class="p">)</span>

<span class="c"># DON&#39;T DO THIS:</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">ucnt</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;who&quot;</span><span class="p">):</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  <span class="c"># Get the first word</span>
    <span class="n">ucnt</span><span class="p">[</span><span class="n">username</span><span class="p">]</span> <span class="o">=</span> <span class="n">ucnt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="c"># record the users&#39; presence</span>

<span class="c"># extract and print unique keys</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">ucnt</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">users</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;users logged in:&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN191"
>Finding Elements in One Array but Not Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># assume a_list and b_list are already loaded</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">b_list</span><span class="p">]</span>

<span class="c"># A slightly more complex Pythonic version using sets - if you had a few</span>
<span class="c"># lists, subtracting sets would be clearer than the listcomp version above</span>
<span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span>
<span class="n">b_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b_list</span><span class="p">)</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a_set</span> <span class="o">-</span> <span class="n">b_set</span><span class="p">)</span>  <span class="c"># Elements in a_set but not in b_set</span>

<span class="c"># DON&#39;T DO THIS.</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>                 <span class="c"># lookup table to test membership of B</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="p">[]</span>                <span class="c"># answer</span>

<span class="c">#    build lookup table</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">b_list</span><span class="p">:</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c">#    find only elements in a_list and not in b_list</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
        <span class="c"># it&#39;s not in &#39;seen&#39;, so add to &#39;aonly&#39;</span>
        <span class="n">aonly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS.  There&#39;s lots of ways not to do it.</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>   <span class="c"># lookup table</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c"># answer</span>

<span class="c">#     build lookup table - unnecessary and poor Python style</span>
<span class="p">[</span><span class="n">seen</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">b_list</span><span class="p">]</span>

<span class="n">aonly</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">]</span>

<span class="c">#-----------------------------</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">a_list</span><span class="p">))</span>

<span class="c"># DON&#39;T DO THIS.</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">aonly</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
        <span class="n">aonly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>                    <span class="c"># mark as seen</span>
<span class="c">#-----------------------------</span>
<span class="n">mydict</span><span class="p">[</span><span class="s">&quot;key1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mydict</span><span class="p">[</span><span class="s">&quot;key2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c">#-----------------------------</span>
<span class="n">mydict</span><span class="p">[(</span><span class="s">&quot;key1&quot;</span><span class="p">,</span> <span class="s">&quot;key2&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="n">seen</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

<span class="c"># DON&#39;T DO THIS pre-2.3:</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">B</span><span class="p">:</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">term</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="n">seen</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">B</span><span class="p">:</span>
    <span class="n">seen</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN194"
>Computing Union, Intersection, or Difference of Unique Lists</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>

<span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">b_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="n">union</span> <span class="o">=</span> <span class="n">a_set</span> <span class="o">|</span> <span class="n">b_set</span>   <span class="c"># or a_set.union(b_set)</span>
<span class="n">isect</span> <span class="o">=</span> <span class="n">a_set</span> <span class="o">&amp;</span> <span class="n">b_set</span>   <span class="c"># or a_set.intersection(b_set) </span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">a_set</span> <span class="o">^</span> <span class="n">b_set</span>    <span class="c"># or a_set.symmetric_difference(b_set)</span>


<span class="c"># DON&#39;T DO THIS:</span>
<span class="n">union_list</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">isect_list</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">diff</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">union_dict</span> <span class="o">=</span> <span class="p">{};</span> <span class="n">isect_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">count</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="n">union_dict</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">union_dict</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="n">isect_dict</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">union_dict</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">union_list</span> <span class="o">=</span> <span class="n">union_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">isect_list</span> <span class="o">=</span> <span class="n">isect_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">union</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">isect</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">union</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">union</span> <span class="o">=</span> <span class="n">union</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">isect</span> <span class="o">=</span> <span class="n">isect</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="n">count</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">count</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">union</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">isect</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">diff</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">count</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">union</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">count</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">isect</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">diff</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS:</span>
<span class="n">isect</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">diff</span> <span class="o">=</span> <span class="p">[];</span> <span class="n">union</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">count</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">count</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">e</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">count</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">union</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">diff</span><span class="p">,</span> <span class="n">isect</span><span class="p">][</span><span class="n">num</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN197"
>Appending One Array to Another</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># &quot;append&quot; for a single term and</span>
<span class="c"># &quot;extend&quot; for many terms</span>
<span class="n">mylist1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">mylist2</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">mylist1</span> <span class="o">=</span> <span class="n">mylist1</span> <span class="o">+</span> <span class="n">mylist2</span>
<span class="n">mylist1</span> <span class="o">+=</span> <span class="n">mylist2</span>
<span class="c">#-----------------------------</span>
<span class="n">members</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Time&quot;</span><span class="p">,</span> <span class="s">&quot;Flies&quot;</span><span class="p">]</span>
<span class="n">initiates</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;An&quot;</span><span class="p">,</span> <span class="s">&quot;Arrow&quot;</span><span class="p">]</span>
<span class="n">members</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">initiates</span><span class="p">)</span>
<span class="c"># members is now [&quot;Time&quot;, &quot;Flies&quot;, &quot;An&quot;, &quot;Arrow&quot;]</span>
<span class="c">#-----------------------------</span>
<span class="n">members</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Like&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">initiates</span>
<span class="k">print</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">members</span><span class="p">)</span>
<span class="n">members</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Fruit&quot;</span><span class="p">]</span>           <span class="c"># or members[1] = &quot;Fruit&quot;</span>
<span class="n">members</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;Banana&quot;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">members</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c">#=&gt; Time Flies Like An Arrow</span>
<span class="c">#=&gt; Fruit Flies Like A Banana</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN200"
>Reversing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># reverse mylist into revlist</span>

<span class="n">revlist</span> <span class="o">=</span> <span class="n">mylist</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c"># or</span>
<span class="n">revlist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">mylist</span><span class="p">))</span>

<span class="c"># or pre-2.3</span>
<span class="n">revlist</span> <span class="o">=</span> <span class="n">mylist</span><span class="p">[:]</span>    <span class="c"># shallow copy</span>
<span class="n">revlist</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">mylist</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c"># do something with elem</span>

<span class="c"># or</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
    <span class="k">pass</span> <span class="c"># do something with elem</span>

<span class="c"># if you need the index and the list won&#39;t take too much memory:</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">mylist</span><span class="p">))):</span>
    <span class="k">pass</span>

<span class="c"># If you absolutely must explicitly index:</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">pass</span>
<span class="c">#-----------------------------</span>
<span class="n">descending</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN203"
>Processing Multiple Elements of an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># remove n elements from the front of mylist</span>
<span class="n">mylist</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>       <span class="c"># or del mylist[:n]</span>

<span class="c"># remove n elements from front of mylist, saving them into front</span>
<span class="n">front</span><span class="p">,</span> <span class="n">mylist</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">mylist</span><span class="p">[:</span><span class="n">n</span><span class="p">],</span> <span class="p">[]</span>

<span class="c"># remove 1 element from the front of mylist, saving it in front:</span>
<span class="n">front</span> <span class="o">=</span> <span class="n">mylist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c"># remove n elements from the end of mylist</span>
<span class="n">mylist</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[]</span>      <span class="c"># or del mylist[-n:]</span>

<span class="c"># remove n elements from the end of mylist, saving them in end</span>
<span class="n">end</span><span class="p">,</span> <span class="n">mylist</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:]</span> <span class="o">=</span> <span class="n">mylist</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:],</span> <span class="p">[]</span>

<span class="c"># remove 1 element from the end of mylist, saving it in end:</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">mylist</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

<span class="c">#-----------------------------</span>
<span class="k">def</span> <span class="nf">shift2</span><span class="p">(</span><span class="n">terms</span><span class="p">):</span>
    <span class="n">front</span> <span class="o">=</span> <span class="n">terms</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">terms</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">front</span>

<span class="k">def</span> <span class="nf">pop2</span><span class="p">(</span><span class="n">terms</span><span class="p">):</span>
    <span class="n">back</span> <span class="o">=</span> <span class="n">terms</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">terms</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">back</span>
<span class="c">#-----------------------------</span>
<span class="n">friends</span> <span class="o">=</span> <span class="s">&quot;Peter Paul Mary Jim Tim&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">this</span><span class="p">,</span> <span class="n">that</span> <span class="o">=</span> <span class="n">shift2</span><span class="p">(</span><span class="n">friends</span><span class="p">)</span>
<span class="c"># &#39;this&#39; contains Peter, &#39;that&#39; has Paul, and</span>
<span class="c"># &#39;friends&#39; has Mary, Jim, and Tim</span>

<span class="n">beverages</span> <span class="o">=</span> <span class="s">&quot;Dew Jolt Cola Sprite Fresca&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">pair</span> <span class="o">=</span> <span class="n">pop2</span><span class="p">(</span><span class="n">beverages</span><span class="p">)</span>
<span class="c"># pair[0] contains Sprite, pair[1] has Fresca,</span>
<span class="c"># and &#39;beverages&#39; has (Dew, Jolt, Cola)</span>

<span class="c"># In general you probably shouldn&#39;t do things that way because it&#39;s </span>
<span class="c"># not clear from these calls that the lists are modified.</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN206"
>Finding the First List Element That Passes a Test</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">criterion</span><span class="p">:</span>
        <span class="k">pass</span>    <span class="c"># do something with matched item</span>
        <span class="k">break</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">pass</span>     <span class="c"># unfound</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mylist</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">criterion</span><span class="p">:</span>
        <span class="k">pass</span>    <span class="c"># do something with elem found at mylist[idx]</span>
        <span class="k">break</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">pass</span> <span class="c">## unfound</span>
<span class="c">#-----------------------------</span>
<span class="c"># Assuming employees are sorted high-&gt;low by wage.</span>
<span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">employees</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">employee</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="s">&#39;engineer&#39;</span><span class="p">:</span>
        <span class="n">highest_engineer</span> <span class="o">=</span> <span class="n">employee</span>
        <span class="k">break</span>

<span class="k">print</span> <span class="s">&quot;Highest paid engineer is:&quot;</span><span class="p">,</span> <span class="n">highest_engineer</span><span class="o">.</span><span class="n">name</span>
<span class="c">#-----------------------------</span>
<span class="c"># If you need the index, use enumerate:</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">employee</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">employees</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">employee</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="s">&#39;engineer&#39;</span><span class="p">:</span>
        <span class="n">highest_engineer</span> <span class="o">=</span> <span class="n">employee</span>
        <span class="k">break</span>
<span class="k">print</span> <span class="s">&quot;Highest paid engineer is: #</span><span class="si">%s</span><span class="s"> - </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">highest_engineer</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>


<span class="c"># The following is rarely appropriate:</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">criterion</span><span class="p">:</span>
        <span class="k">pass</span>    <span class="c"># do something</span>
        <span class="k">break</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">pass</span> <span class="c">## not found</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN209"
>Finding All Elements in an Array Matching Certain Criteria</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">term</span> <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">mylist</span> <span class="k">if</span> <span class="n">test</span><span class="p">(</span><span class="n">term</span><span class="p">)]</span>
<span class="c">#-----------------------------</span>
<span class="n">matching</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">test</span><span class="p">(</span><span class="n">term</span><span class="p">):</span>
        <span class="n">matching</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">bigs</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span> <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">1000000</span><span class="p">]</span>
<span class="n">pigs</span> <span class="o">=</span> <span class="p">[</span><span class="n">user</span> <span class="k">for</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="n">users</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mf">1e7</span><span class="p">]</span>
<span class="c">#-----------------------------</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s">&quot;who&quot;</span><span class="p">)</span> 
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;gnat &quot;</span><span class="p">)]</span>
<span class="c">#-----------------------------</span>
<span class="n">engineers</span> <span class="o">=</span> <span class="p">[</span><span class="n">employee</span> <span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">employees</span>
                 <span class="k">if</span> <span class="n">employee</span><span class="o">.</span><span class="n">position</span> <span class="o">==</span> <span class="s">&quot;Engineer&quot;</span><span class="p">]</span>
<span class="c">#-----------------------------</span>
<span class="n">secondary_assistance</span> <span class="o">=</span> <span class="p">[</span><span class="n">applicant</span> <span class="k">for</span> <span class="n">applicant</span> <span class="ow">in</span> <span class="n">applicants</span>
                            <span class="k">if</span> <span class="mi">26000</span> <span class="o">&lt;=</span> <span class="n">applicant</span><span class="o">.</span><span class="n">income</span> <span class="o">&lt;</span> <span class="mi">30000</span><span class="p">]</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN212"
>Sorting an Array Numerically</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_list</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c"># pids is an unsorted list of process IDs</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">signal</span><span class="o">,</span> <span class="nn">time</span>
<span class="k">for</span> <span class="n">pid</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pids</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">pid</span>

<span class="n">pid</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Select a process ID to kill: &quot;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="s">&quot;Exiting ... &quot;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">signal</span><span class="o">.</span><span class="n">SIGKILL</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">err</span><span class="o">.</span><span class="n">errno</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>  <span class="c"># was it already killed?</span>
        <span class="k">raise</span>
<span class="c">#-----------------------------</span>
<span class="n">descending</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unsorted_list</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">allnums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">allnums</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>              <span class="c"># inplace</span>
<span class="c">#-----------------------------</span>
<span class="c"># pre 2.3</span>
<span class="n">allnums</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>                          <span class="c"># inplace</span>
<span class="n">allnums</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>                       <span class="c"># inplace</span>
<span class="c">#or</span>
<span class="n">allnums</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">allnums</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c"># reallocating</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN215"
>Sorting a List by Computable Field</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="n">ordered</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unordered</span><span class="p">,</span> <span class="nb">cmp</span><span class="o">=</span><span class="n">compare</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">ordered</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unordered</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">compute</span><span class="p">)</span>

<span class="c"># ...which is somewhat equivalent to: </span>
<span class="n">precomputed</span> <span class="o">=</span> <span class="p">[(</span><span class="n">compute</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">unordered</span><span class="p">]</span>
<span class="n">precomputed</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">cmp</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">ordered</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">precomputed</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS.</span>
<span class="k">def</span> <span class="nf">functional_sort</span><span class="p">(</span><span class="n">mylist</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
    <span class="n">mylist</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mylist</span>

<span class="n">ordered</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">functional_sort</span><span class="p">([(</span><span class="n">compute</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">unordered</span><span class="p">],</span>
                                        <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">cmp</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
<span class="c">#-----------------------------</span>
<span class="n">ordered</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">employees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">employees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> earns $</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">employee</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">employee</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="n">sorted_employees</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">employees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
<span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">sorted_employees</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> earns $</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">employee</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">employee</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>

<span class="c"># load bonus</span>
<span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">sorted_employees</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">bonus</span><span class="p">(</span><span class="n">employee</span><span class="o">.</span><span class="n">ssn</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">employee</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;got a bonus!&quot;</span>
<span class="c">#-----------------------------</span>
<span class="n">sorted_employees</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">employees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">age</span><span class="p">)):</span>
<span class="c">#-----------------------------</span>
<span class="c"># NOTE: Python should allow access to the pwd fields by name</span>
<span class="c"># as well as by position.</span>
<span class="kn">import</span> <span class="nn">pwd</span>
<span class="c"># fetch all users</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwall</span><span class="p">()</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">print</span> <span class="n">user</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c">#-----------------------------</span>
<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[:</span><span class="mi">1</span><span class="p">])</span>
<span class="c">#-----------------------------</span>
<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS.</span>
<span class="n">temp</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">]</span>
<span class="n">temp</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">cmp</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">sorted_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">temp</span><span class="p">]</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS.</span>
<span class="k">def</span> <span class="nf">functional_sort</span><span class="p">(</span><span class="n">mylist</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
    <span class="n">mylist</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mylist</span>

<span class="n">sorted_fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">functional_sort</span><span class="p">(</span>
              <span class="p">[(</span><span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&quot;(\d+)&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">],</span>
                                   <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">cmp</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
<span class="c">#-----------------------------</span>
<span class="n">entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;/etc/passwd&quot;</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
    <span class="k">print</span> <span class="n">entry</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN218"
>Implementing a Circular List</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="k">for</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]):</span>
    <span class="k">print</span> <span class="s">&quot;Handling process&quot;</span><span class="p">,</span> <span class="n">process</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># pre 2.3:</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="k">class</span> <span class="nc">Circular</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Cannot use an empty list&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">elem</span>

<span class="n">circular</span> <span class="o">=</span> <span class="n">Circular</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="k">for</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">circular</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Handling process&quot;</span><span class="p">,</span> <span class="n">process</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># DON&#39;T DO THIS. All those pops and appends mean that the list needs to be </span>
<span class="c"># constantly reallocated.  This is rather bad if your list is large:</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="k">class</span> <span class="nc">Circular</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Cannot use an empty list&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">head</span>

<span class="n">circular</span> <span class="o">=</span> <span class="n">Circular</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">process</span> <span class="o">=</span> <span class="n">circular</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">&quot;Handling process&quot;</span><span class="p">,</span> <span class="n">process</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN221"
>Randomizing an Array</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="c"># generate a random permutation of mylist in place</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN224"
>Program: words</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">make_columns</span><span class="p">(</span><span class="n">mylist</span><span class="p">,</span> <span class="n">screen_width</span><span class="o">=</span><span class="mi">78</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">mylist</span><span class="p">:</span>
        <span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">])</span>
        <span class="n">maxlen</span> <span class="o">+=</span> <span class="mi">1</span>   <span class="c"># to make extra space</span>

        <span class="n">cols</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">screen_width</span><span class="o">/</span><span class="n">maxlen</span><span class="p">)</span> 
        <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span><span class="o">/</span><span class="n">cols</span>

        <span class="c"># pre-create mask for faster computation</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%%</span><span class="s">-</span><span class="si">%d</span><span class="s">s &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">maxlen</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="n">mask</span><span class="o">%</span><span class="n">elem</span>
                       <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">[</span><span class="n">n</span><span class="p">::</span><span class="n">rows</span><span class="p">]]</span>
            <span class="k">yield</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">make_columns</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readlines</span><span class="p">(),</span> <span class="n">screen_width</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">row</span>


<span class="c"># A more literal translation</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c"># subroutine to check whether at last item on line</span>
<span class="k">def</span> <span class="nf">EOL</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">item</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">cols</span> <span class="o">==</span> <span class="mi">0</span>

<span class="c"># Might not be portable to non-linux systems</span>
<span class="k">def</span> <span class="nf">getwinsize</span><span class="p">():</span>
    <span class="c"># Use the curses module if installed</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">curses</span>
        <span class="n">stdscr</span> <span class="o">=</span> <span class="n">curses</span><span class="o">.</span><span class="n">initscr</span><span class="p">()</span>
        <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">stdscr</span><span class="o">.</span><span class="n">getmaxyx</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">cols</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c"># Nope, so deal with ioctl directly.  What value for TIOCGWINSZ?</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">termios</span>
        <span class="n">TIOCGWINSZ</span> <span class="o">=</span> <span class="n">termios</span><span class="o">.</span><span class="n">TIOCGWINSZ</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="n">TIOCGWINSZ</span> <span class="o">=</span> <span class="mh">0x40087468</span>  <span class="c"># This is Linux specific</span>

    <span class="kn">import</span> <span class="nn">struct</span><span class="o">,</span> <span class="nn">fcntl</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s">&quot;HHHH&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">fcntl</span><span class="o">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="n">TIOCGWINSZ</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">80</span>
    <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s">&quot;HHHH&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cols</span>

<span class="n">cols</span> <span class="o">=</span> <span class="n">getwinsize</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readlines</span><span class="p">()]</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">maxlen</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>

<span class="n">maxlen</span> <span class="o">+=</span> <span class="mi">1</span>       <span class="c"># to make extra space</span>

<span class="c"># determine boundaries of screen</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">(</span><span class="n">cols</span> <span class="o">/</span> <span class="n">maxlen</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">1</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">+</span><span class="n">cols</span><span class="p">)</span> <span class="o">/</span> <span class="n">cols</span>

<span class="c"># pre-create mask for faster computation</span>
<span class="n">mask</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%%</span><span class="s">-</span><span class="si">%d</span><span class="s">s &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">maxlen</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># now process each item, picking out proper piece for this position</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span> <span class="o">*</span> <span class="n">cols</span><span class="p">):</span>
    <span class="n">target</span> <span class="o">=</span> <span class="p">(</span><span class="n">item</span> <span class="o">%</span> <span class="n">cols</span><span class="p">)</span> <span class="o">*</span> <span class="n">rows</span> <span class="o">+</span> <span class="p">(</span><span class="n">item</span><span class="o">/</span><span class="n">cols</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">target</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">mask</span> <span class="o">%</span> <span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">mask</span> <span class="o">%</span> <span class="s">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">EOL</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>  <span class="c"># don&#39;t blank-pad to EOL</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">piece</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">EOL</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">EOL</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
  <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN227"
>Program: permute</A
></H2
><TABLE
BORDER="0"
BGCOLOR="#2F4F4F"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><font color="#f5deb3" size="+1"><span class="c"></span><span class="c">#-----------------------------</span>
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">*=</span> <span class="n">n</span>
        <span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">s</span>   
<span class="c">#-----------------------------</span>
<span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="n">alist</span><span class="p">,</span> <span class="n">blist</span><span class="o">=</span><span class="p">[]):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">alist</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">blist</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">alist</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">permute</span><span class="p">(</span><span class="n">alist</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">alist</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:],</span> <span class="n">blist</span> <span class="o">+</span> <span class="p">[</span><span class="n">elem</span><span class="p">]):</span>
            <span class="k">yield</span> <span class="n">elem</span>

<span class="k">for</span> <span class="n">permutation</span> <span class="ow">in</span> <span class="n">permute</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)):</span>
    <span class="k">print</span> <span class="n">permutation</span>
<span class="c">#-----------------------------</span>
<span class="c"># DON&#39;T DO THIS</span>
<span class="kn">import</span> <span class="nn">fileinput</span>

<span class="c"># Slightly modified from</span>
<span class="c">#   http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/66463</span>
<span class="k">def</span> <span class="nf">print_list</span><span class="p">(</span><span class="n">alist</span><span class="p">,</span> <span class="n">blist</span><span class="o">=</span><span class="p">[]):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">alist</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">blist</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alist</span><span class="p">)):</span>
        <span class="n">blist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">print_list</span><span class="p">(</span><span class="n">alist</span><span class="p">,</span> <span class="n">blist</span><span class="p">)</span>
        <span class="n">alist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">blist</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fileinput</span><span class="o">.</span><span class="n">input</span><span class="p">():</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">print_list</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="c">#-----------------------------</span>
<span class="k">class</span> <span class="nc">FactorialMemo</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="bp">self</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ret</span>

<span class="n">factorial</span> <span class="o">=</span> <span class="n">FactorialMemo</span><span class="p">()</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setrecursionlimit</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">factorial</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">f1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
<span class="n">factorial</span><span class="p">(</span><span class="mi">2100</span><span class="p">)</span>                 <span class="c"># First 2000 values are cached already</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">f1</span> <span class="o">-</span> <span class="n">start</span>
<span class="k">print</span> <span class="s">&quot;Slow first time:&quot;</span><span class="p">,</span> <span class="n">f1</span>
<span class="k">print</span> <span class="s">&quot;Quicker the second time:&quot;</span><span class="p">,</span> <span class="n">f2</span>
<span class="c">#-----------------------------</span>

<span class="k">class</span> <span class="nc">MemoizedPermutations</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="n">alist</span><span class="p">,</span> <span class="p">[])</span>
        
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alist</span><span class="p">,</span> <span class="n">blist</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">alist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">blist</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">alist</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="n">alist</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">alist</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:],</span> <span class="n">blist</span> <span class="o">+</span> <span class="p">[</span><span class="n">elem</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">idx</span><span class="p">]]</span>


<span class="n">p5</span> <span class="o">=</span> <span class="n">MemoizedPermutations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="n">words</span> <span class="o">=</span> <span class="s">&quot;This sentence has five words&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">print</span> <span class="n">p5</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p5</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="mi">81</span><span class="p">)</span>
<span class="c">#-----------------------------</span></PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datesandtimes.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="hashes.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dates and Times</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Hashes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>