<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>Enscript Output</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<A NAME="top">
<A NAME="file1">
<H1>tmp.data</H1>

<PRE>
<I><FONT COLOR="#B22222"># -*- picolisp -*-
</FONT></I><I><FONT COLOR="#B22222"># @@PLEAC@@_NAME
</FONT></I><I><FONT COLOR="#B22222"># @@SKIP@@ PicoLisp
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_WEB
</FONT></I><I><FONT COLOR="#B22222"># @@SKIP@@ http://picolisp.com
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.0
</FONT></I><I><FONT COLOR="#B22222"># PicoLisp has no special string type. Instead, symbols are used. Syntactically,
</FONT></I><I><FONT COLOR="#B22222"># &quot;transient&quot; symbols resemble strings in other languages. Also, there is no
</FONT></I><I><FONT COLOR="#B22222"># separate character type. Instead, characters are represented by strings of
</FONT></I><I><FONT COLOR="#B22222"># length 1 (using 1 .. 3 bytes (UTF-8)).
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq String <B><FONT COLOR="#BC8F8F">&quot;^J&quot;</FONT></B>)             <I><FONT COLOR="#B22222"># a newline character
</FONT></I>(setq String <B><FONT COLOR="#BC8F8F">&quot;\^J&quot;</FONT></B>)            <I><FONT COLOR="#B22222"># two characters, '^' and 'J'
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: <B><FONT COLOR="#BC8F8F">&quot;Jon \&quot;Maddog\&quot; Orwant&quot;</FONT></B>      <I><FONT COLOR="#B22222"># literal double quotes
</FONT></I>-&gt; <B><FONT COLOR="#BC8F8F">&quot;Jon \&quot;Maddog\&quot; Orwant&quot;</FONT></B>

<I><FONT COLOR="#B22222"># Single quotes do not delimit strings, and are not special inside strings
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: <B><FONT COLOR="#BC8F8F">&quot;This is a multiline string
containing a newline&quot;</FONT></B>
-&gt; <B><FONT COLOR="#BC8F8F">&quot;This is a multiline string^Jcontaining a newline&quot;</FONT></B>

: <B><FONT COLOR="#BC8F8F">&quot;This is a multiline string \
without a newline&quot;</FONT></B>
-&gt; <B><FONT COLOR="#BC8F8F">&quot;This is a multiline string without a newline&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.1
</FONT></I><I><FONT COLOR="#B22222"># First 'chop' the string to convert it to a list of characters, and then use
</FONT></I><I><FONT COLOR="#B22222"># the rich set of list processing functions. Optionally, you can 'pack' the
</FONT></I><I><FONT COLOR="#B22222"># result to a string (not necessary in many cases, as many functions that expect
</FONT></I><I><FONT COLOR="#B22222"># a string also accept a list of characters).
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># get a 5-byte string, skip 3, then grab 2 8-byte strings, then the rest
</FONT></I>: (let S (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;This is a suitable string&quot;</FONT></B>)
   (prinl (cut 5 <B><FONT COLOR="#BC8F8F">'S))
   (cut 3 '</FONT></B>S)
   (prinl (cut 8 <B><FONT COLOR="#BC8F8F">'S))
   (prinl (cut 8 '</FONT></B>S))
   (prinl S) )
This
a suitab
<B><FONT COLOR="#A020F0">le</FONT></B> strin
g
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># split at five byte boundaries
</FONT></I>: (make (<B><FONT COLOR="#A020F0">for</FONT></B> (S (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;This is what you have&quot;</FONT></B>)  S)
   (<B><FONT COLOR="#A020F0">link</FONT></B> (<B><FONT COLOR="#A020F0">pack</FONT></B> (cut 5 <B><FONT COLOR="#BC8F8F">'S))) ) )
-&gt; (&quot;This &quot; &quot;is wh&quot; &quot;at yo&quot; &quot;u hav&quot; &quot;e&quot;)
#-----------------------------
(let S (chop &quot;This is what you have&quot;)
   (prinl (car S))
   (prinl (tail 2 (head 4 S)))
   (prinl (tail -13 S))
   (prinl (tail 1 S))
   (prinl (tail 4 S))
   (prinl (head 3 (tail 8 S))) )
T
is
you have
e
have
you
#-----------------------------
# You can test for substrings with '</FONT></B>pre?<B><FONT COLOR="#BC8F8F">' and '</FONT></B><B><FONT COLOR="#A020F0">sub</FONT></B>?<B><FONT COLOR="#BC8F8F">'
: (pre? &quot;a&quot; &quot;abc&quot;)
-&gt; &quot;abc&quot;

: (sub? &quot;bc&quot; &quot;abcdef&quot;)
-&gt; &quot;abcdef&quot;

:  (sub? &quot;x&quot; &quot;abc&quot;)
-&gt; NIL

# or use the '</FONT></B>match<B><FONT COLOR="#BC8F8F">' function
: (match '</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;b&quot;</FONT></B> @X <B><FONT COLOR="#BC8F8F">&quot;d&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;e&quot;</FONT></B>) (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;abcde&quot;</FONT></B>))
-&gt; T
: @X
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;c&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># substitute &quot;at&quot; for &quot;is&quot;, restricted to first five characters
</FONT></I>: (match <B><FONT COLOR="#BC8F8F">'(@A &quot;i&quot; &quot;s&quot; @Z) (head 5 (chop &quot;Me is You&quot;))) (pack @A &quot;at&quot; @Z)
-&gt; &quot;Me at&quot;
#-----------------------------
# exchange the first and last letters in a string
: (let S (chop &quot;make a hat&quot;)
   (xchg S (tail 1 S))
   (pack S) )
-&gt; &quot;take a ham&quot;
#-----------------------------
# extract column
: (pack (tail 6 (head 12 (chop &quot;To be or not to be&quot;))))
-&gt; &quot;or not&quot;
#-----------------------------
# skip every second character
: (pack (filter prog2 (chop &quot;To be or not to be&quot;) '</FONT></B>(T NIL .)))
-&gt; <B><FONT COLOR="#BC8F8F">&quot;T eo o ob&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.2
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># Use B if B is true, else C
</FONT></I>(setq A (<B><FONT COLOR="#A020F0">or</FONT></B> B C))

<I><FONT COLOR="#B22222"># set X to Y unless X is already true
</FONT></I>(default X Y)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># use B if B is defined, else C
</FONT></I>(setq A (<B><FONT COLOR="#A020F0">or</FONT></B> (fun? B) C))
(def <B><FONT COLOR="#BC8F8F">'A (or (fun? B) C))
#-----------------------------
(setq Dir (or (opt) &quot;/tmp&quot;))
#-----------------------------
(setq Dir (if (argv) (car @) &quot;/tmp&quot;))
#-----------------------------
# find the user name on Unix systems
(setq User
   (or
      (sys &quot;USER&quot;)
      (sys &quot;LOGNAME&quot;)
      (native &quot;@&quot; &quot;getlogin&quot; '</FONT></B>S)  <I><FONT COLOR="#B22222"># 'native' only in 64-bits
</FONT></I>      (car (native <B><FONT COLOR="#BC8F8F">&quot;@&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;getpwuid&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">'(S) UserID))
      (pack &quot;Unknown uid number &quot; UserID) ) )
#-----------------------------
: (default StartingPoint &quot;Greenwich&quot;)
-&gt; &quot;Greenwich&quot;
#-----------------------------
(setq A (if B B C))            # assign B if nonempty, else C
#-----------------------------

# @@PLEAC@@_1.3
#-----------------------------
(xchg '</FONT></B>Var1 <B><FONT COLOR="#BC8F8F">'Var2)
#-----------------------------
(setq Temp A  A B  B Temp)
#-----------------------------
(setq A &quot;alpha&quot;  B &quot;omega&quot;) (xchg '</FONT></B>A <B><FONT COLOR="#BC8F8F">'B)
#-----------------------------
: (setq Alpha '</FONT></B>January Beta <B><FONT COLOR="#BC8F8F">'March Production '</FONT></B>August)
-&gt; August
: (setq Alpha Beta  Beta Production  Production Alpha)
-&gt; March
: Alpha
-&gt; March
: Beta
-&gt; August
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.4
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(char Character) -&gt; Number
(char Number) -&gt; Character
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let Num 101
   (prinl <B><FONT COLOR="#BC8F8F">&quot;Number &quot;</FONT></B> Num <B><FONT COLOR="#BC8F8F">&quot; is character &quot;</FONT></B> (char Num)) )
Number 101 is character e
-&gt; <B><FONT COLOR="#BC8F8F">&quot;e&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (mapcar char (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;sample&quot;</FONT></B>))
-&gt; (115 97 109 112 108 101)

: (<B><FONT COLOR="#A020F0">pack</FONT></B> (mapcar char (115 97 109 112 108 101)))
-&gt; <B><FONT COLOR="#BC8F8F">&quot;sample&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (<B><FONT COLOR="#A020F0">pack</FONT></B>
   (mapcar
      <B><FONT COLOR="#BC8F8F">'((C) (char (inc (char C))))
      (chop &quot;HAL&quot;) ) )
-&gt; &quot;IBM&quot;
#-----------------------------

# @@PLEAC@@_1.5
#-----------------------------
(for Char (chop String)
   (doSomethingWith Char) )
#-----------------------------
: (prinl &quot;unique chars are: &quot; (sort (uniq (chop &quot;an apple a day&quot;))))
unique chars are:  adelnpy

# Analog to Perl
: (let Seen NIL
   (for C (chop &quot;an apple a day&quot;)
      (accu '</FONT></B>Seen C 1) )
   (<B><FONT COLOR="#A020F0">pack</FONT></B> (<B><FONT COLOR="#A020F0">sort</FONT></B> (mapcar car Seen))) )
-&gt; <B><FONT COLOR="#BC8F8F">&quot; adelnpy&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (sum char (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;an apple a day&quot;</FONT></B>))
-&gt; 1248
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/sum">download the following standalone program</a></font>
</FONT></I><I><FONT COLOR="#B22222">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
</FONT></I><I><FONT COLOR="#B22222"># sum - compute 16-bit checksum of all input files
</FONT></I>
(let Sum 0
   (<B><FONT COLOR="#A020F0">while</FONT></B> (opt)
      (in @
         (<B><FONT COLOR="#A020F0">while</FONT></B> (char) (inc <B><FONT COLOR="#BC8F8F">'Sum (char @))) ) )
   (println (% Sum 65535)) )

(bye)

#-----------------------------
$ ./sum lib.l lib/misc.l
52659
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/slowcat">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
# slowcat - emulate a   s l o w   line printer
# usage: slowcat [-DELAY] [files ...]

(let Delay (ifn (lt0 (format (car (argv)))) 1 (opt) (- @))
   (for F (argv)
      (for C (in F (till))
         (prin C)
         (wait (* 5 Delay)) ) ) )

(bye)

#-----------------------------

# @@PLEAC@@_1.6
#-----------------------------
(setq
   RevChars (flip (chop String))
   RevWords (glue &quot; &quot; (flip (split (chop String) &quot; &quot;))) )
#-----------------------------
# reverse word order
: (glue &quot; &quot;
   (flip
      (split (chop &quot;Yoda said, \&quot;can you see this?\&quot;&quot;) &quot; &quot;) ) )
-&gt; &quot;this?\&quot; see you \&quot;can said, Yoda&quot;
#-----------------------------
: (de palindrome? (S)
   (= (setq S (chop S)) (reverse S)) )
: (palindrome? &quot;reviver&quot;)
-&gt; T
#-----------------------------
: (in &quot;/usr/share/dict/words&quot;
   (until (eof)
      (let L (line)
         (and
            (&gt; (length L) 5)
            (= L (reverse L))
            (prinl L) ) ) ) )
deified
redder
#-----------------------------

# @@PLEAC@@_1.7
#-----------------------------
(let Str (line)
   (use (@A @Z)                        # Expand tabs
      (while (match '</FONT></B>(@A <B><FONT COLOR="#BC8F8F">&quot;^I&quot;</FONT></B> @Z) Str)
         (setq Str
            (conc
               @A
               (need (- 8 (% (<B><FONT COLOR="#A020F0">length</FONT></B> @A) 8)) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>)
               @Z ) ) ) )
   Str )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(let Str (line)
   (make                               <I><FONT COLOR="#B22222"># Compress tabs
</FONT></I>      (<B><FONT COLOR="#A020F0">while</FONT></B> (nth Str 9)
         (let S (trim (cut 8 <B><FONT COLOR="#BC8F8F">'Str))
            (chain S)
            (or (= 8 (length S)) (link &quot;^I&quot;)) ) )
      (and Str (chain @)) ) )
#-----------------------------

# @@PLEAC@@_1.8
#-----------------------------
: (let Dept 123
   (prinl &quot;You owe &quot; Dept &quot; to me.&quot;)
   (pack &quot;You owe &quot; Dept &quot; to me.&quot;) )
You owe 123 to me.
-&gt; &quot;You owe 123 to me.&quot;
#-----------------------------
: (text &quot;I am @1 high and @2 long&quot; 24 80)
-&gt; &quot;I am 24 high and 80 long&quot;
#-----------------------------
(let (@Rows 24  @Cols 80)
   (fill '</FONT></B>(I am @Rows high <B><FONT COLOR="#A020F0">and</FONT></B> @Cols long)) )
-&gt; (I am 24 high <B><FONT COLOR="#A020F0">and</FONT></B> 80 long)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># expand variables in 'Lst', but put an error message in
</FONT></I><I><FONT COLOR="#B22222"># if the variable isn't defined
</FONT></I>(let (@Rows 24  Lst <B><FONT COLOR="#BC8F8F">'(I am @Rows high and @Cols long))
   (for Var (fish pat? Lst)
      (unless (val Var)
         (set Var (pack &quot;[NO VARIABLE: &quot; Var &quot;]&quot;)) ) )
   (fill Lst) )
-&gt; (I am 24 high and &quot;[NO VARIABLE: @Cols]&quot; long)
#-----------------------------

# @@PLEAC@@_1.9
#-----------------------------
: (uppc &quot;bo peep&quot;)
-&gt; &quot;BO PEEP&quot;
: (lowc &quot;JOHN&quot;)
-&gt; &quot;john&quot;
: (let S (chop &quot;dromedary&quot;) (pack (uppc (car S)) (cdr S)))
-&gt; &quot;Dromedary&quot;
#-----------------------------
# capitalize each word'</FONT></B><B><FONT COLOR="#A020F0">s</FONT></B> first character, downcase the rest
(let Str <B><FONT COLOR="#BC8F8F">&quot;thIS is a loNG liNE&quot;</FONT></B>
   (glue <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>
      (mapcar
         <B><FONT COLOR="#BC8F8F">'((W) (cons (uppc (car W)) (mapcar lowc (cdr W))))
         (split (chop Str) &quot; &quot;) ) ) )
-&gt; &quot;This Is A Long Line&quot;
#-----------------------------
(when (= (uppc A) (uppc B))
   (prinl &quot;A and B are the same&quot;) )
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/randcap">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
# randcap: filter to randomly capitalize 20% of the letters

(in NIL
   (while (char)
      (let C @
         (prin (if (=0 (rand 0 4)) (uppc C) C)) ) ) )

(bye)

#-----------------------------

# @@PLEAC@@_1.10
#-----------------------------
: (let N 7
   (prinl &quot;I have &quot; (+ N 2) &quot; guanacos.&quot;)
   (pack &quot;I have &quot; (+ N 2) &quot; guanacos.&quot;) )
I have 9 guanacos.
-&gt; &quot;I have 9 guanacos.&quot;
#-----------------------------
: (let N 7
   (text &quot;I have @1 guanacos.&quot; (+ N 2)) )
#-----------------------------
(mail &quot;localhost&quot; 25 &quot;Your Bank&quot; Naughty &quot;Subject&quot;
   (prinl &quot;Dear &quot; Naughty)
   &quot;&quot;
   (prinl &quot;Today, you bounced check number &quot; (+ 500 (rand 0 99)) &quot; to us.&quot;)
   &quot;Your account is now closed.&quot;
   &quot;&quot;
   &quot;Sincerely,&quot;
   &quot;the management&quot; )
#-----------------------------

# @@PLEAC@@_1.11
#-----------------------------
(de myhere (Target)  # The built-in '</FONT></B>here<B><FONT COLOR="#BC8F8F">' cannot be used
   (char)
   (setq Target (chop Target))
   (make
      (for (L (line)  (and L (&lt;&gt; L Target))  (line))
         (link L) ) ) )
#-----------------------------
(setq Var (mapcar clip (myhere &quot;HERE_TARGET&quot;)))
   your text
   goes here
HERE_TARGET

# or with two steps
(setq Var (myhere &quot;HERE_TARGET&quot;))
   your text
   goes here
HERE_TARGET
(setq Var (mapcar clip Var))
#-----------------------------
(prinl &quot;Here'</FONT></B><B><FONT COLOR="#A020F0">s</FONT></B> your poem:<B><FONT COLOR="#BC8F8F">&quot;)
(prinl)
(let (Str (prog (char) (line))  Cnt 1)
   (for (S Str  (and S (sp? (car S)))  (cdr S))
      (inc 'Cnt) )
   (loop
      (prinl (nth Str Cnt))
      (T (eof))
      (setq Str (line))
      (T (=  '`(chop &quot;</FONT></B>EVER_ON_AND_ON<B><FONT COLOR="#BC8F8F">&quot;) Str)) ) )
   Now far ahead the Road has gone,
      And I must follow, if I can,
   Pursuing it with eager feet,
      Until it joins some larger way
   Where many paths and errands meet.
      And whither then? I cannot say.
            --Bilbo in /usr/src/perl/pp_ctl.c
EVER_ON_AND_ON
#-----------------------------

# @@PLEAC@@_1.12
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/wrapdemo">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

(load &quot;</FONT></B>@lib/misc.l<B><FONT COLOR="#BC8F8F">&quot;)

(let Input
   (chop
      (wrap 17
         (conc (need 4 &quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;)
            (chop
               &quot;</FONT></B>Folding <B><FONT COLOR="#A020F0">and</FONT></B> splicing is the work of an editor, \
               <B><FONT COLOR="#A020F0">not</FONT></B> a mere collection of silicon \
               <B><FONT COLOR="#A020F0">and</FONT></B> \
               mobile electrons!<B><FONT COLOR="#BC8F8F">&quot; ) ) ) )
   (prinl (replace Input &quot;</FONT></B>^J<B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>^J  <B><FONT COLOR="#BC8F8F">&quot;)) )

(bye)

#-----------------------------

# @@PLEAC@@_1.13
#-----------------------------
# backslash
: (let (CharList '(a d g)  Str &quot;</FONT></B>abcdefghi<B><FONT COLOR="#BC8F8F">&quot;)
   (pack
      (mapcar
         '((C) (pack (and (member C CharList) &quot;</FONT></B>\\&quot;) C))
         (<B><FONT COLOR="#A020F0">chop</FONT></B> Str) ) ) )
-&gt; <B><FONT COLOR="#BC8F8F">&quot;\\abc\\def\\ghi&quot;</FONT></B>

<I><FONT COLOR="#B22222"># double
</FONT></I>: (let (CharList <B><FONT COLOR="#BC8F8F">'(a d g)  Str &quot;abcdefghi&quot;)
   (pack
      (mapcar
         '</FONT></B>((C) (<B><FONT COLOR="#A020F0">pack</FONT></B> (<B><FONT COLOR="#A020F0">and</FONT></B> (member C CharList) C) C))
         (<B><FONT COLOR="#A020F0">chop</FONT></B> Str) ) ) )
-&gt; <B><FONT COLOR="#BC8F8F">&quot;aabcddefgghi&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.14
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(trim (<B><FONT COLOR="#A020F0">chop</FONT></B> String))  <I><FONT COLOR="#B22222"># Remove trailing white space
</FONT></I>(clip (<B><FONT COLOR="#A020F0">chop</FONT></B> String))  <I><FONT COLOR="#B22222"># Remove white space from both ends
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># print what's typed, but surrounded by &gt;&lt; symbols
</FONT></I>(in NIL
   (<B><FONT COLOR="#A020F0">until</FONT></B> (<B><FONT COLOR="#A020F0">eof</FONT></B>)
      (prinl <B><FONT COLOR="#BC8F8F">&quot;&gt;&quot;</FONT></B> (clip (line)) <B><FONT COLOR="#BC8F8F">&quot;&lt;&quot;</FONT></B>) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_1.15
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> (I . Line)
   (let *Uni T
      (str
         <B><FONT COLOR="#BC8F8F">&quot;XYZZY,\&quot;\&quot;,\&quot;O'Reilly, Inc\&quot;,\&quot;Wall, Larry\&quot;,\&quot;a \
         \\\&quot;glug\\\&quot; bit,\&quot;,5,  \&quot;Error, Core Dumped\&quot;&quot;</FONT></B> ) )
   (prinl I <B><FONT COLOR="#BC8F8F">&quot; : &quot;</FONT></B> Line) )
1 : XYZZY
2 :
3 : O<B><FONT COLOR="#BC8F8F">'Reilly, Inc
4 : Wall, Larry
5 : a &quot;glug&quot; bit,
6 : 5
7 : Error, Core Dumped
#-----------------------------

# @@PLEAC@@_1.16
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/soundex">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

(load &quot;@lib/misc.l&quot;)

(de soundex (Str)
   (pack
      (pad -4
         (cons
            (uppc (char (char Str)))
            (head 3
               (let Last NIL
                  (extract
                     '</FONT></B>((C)
                        (<B><FONT COLOR="#A020F0">and</FONT></B>
                           (setq C
                              (case (uppc C)
                                 (<B><FONT COLOR="#BC8F8F">`(chop &quot;BFPV&quot;) &quot;1&quot;)
                                 (`</FONT></B>(<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;CGJKQSXZ&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot;2&quot;</FONT></B>)
                                 ((<B><FONT COLOR="#BC8F8F">&quot;D&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;T&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot;3&quot;</FONT></B>)
                                 (<B><FONT COLOR="#BC8F8F">&quot;L&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;4&quot;</FONT></B>)
                                 ((<B><FONT COLOR="#BC8F8F">&quot;M&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;N&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot;5&quot;</FONT></B>)
                                 (<B><FONT COLOR="#BC8F8F">&quot;R&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;6&quot;</FONT></B>) ) )
                           (&lt;&gt; Last C)
                           (setq Last C) ) )
                     (cdr (<B><FONT COLOR="#A020F0">chop</FONT></B> Str)) ) ) ) ) ) ) )

(prin <B><FONT COLOR="#BC8F8F">&quot;Lookup user: &quot;</FONT></B>)
(flush)
(let (User (clip (in NIL (line T)))  Code (soundex User))
   (<B><FONT COLOR="#A020F0">while</FONT></B> (native <B><FONT COLOR="#BC8F8F">&quot;@&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;getpwent&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">'(S S I I S S S))  # '</FONT></B>native<B><FONT COLOR="#BC8F8F">' only in 64-bits
      (let Lst @
         (when (or (= Code (soundex (car Lst))) (= Code (soundex (get Lst 5))))
            (println Lst) ) ) ) )

(bye)

#-----------------------------
$ ./soundexUsers
Lookup user: sshd
(&quot;sshd&quot; &quot;x&quot; 71 65 &quot;SSH daemon&quot; &quot;/var/lib/sshd&quot; &quot;/bin/false&quot;)
#-----------------------------

# @@PLEAC@@_1.17
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/fixstyle">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
# Use: ./fixstyle [-v] &lt;infile &gt;outfile

(and (= &quot;-v&quot; (opt)) (on *Verbose))

(de Data
   (&quot;analysed&quot; . &quot;analyzed&quot;)
   (&quot;built-in&quot; . &quot;builtin&quot;)
   (&quot;chastized&quot; . &quot;chastised&quot;)
   (&quot;commandline&quot; . &quot;command-line&quot;)
   (&quot;de-allocate&quot; . &quot;deallocate&quot;)
   (&quot;dropin&quot; . &quot;drop-in&quot;)
   (&quot;hardcode&quot; . &quot;hard-code&quot;)
   (&quot;meta-data&quot; . &quot;metadata&quot;)
   (&quot;multicharacter&quot; . &quot;multi-character&quot;)
   (&quot;multiway&quot; . &quot;multi-way&quot;)
   (&quot;non-empty&quot; . &quot;nonempty&quot;)
   (&quot;non-profit&quot; . &quot;nonprofit&quot;)
   (&quot;non-trappable&quot; . &quot;nontrappable&quot;)
   (&quot;pre-define&quot; . &quot;predefine&quot;)
   (&quot;preextend&quot; . &quot;pre-extend&quot;)
   (&quot;re-compiling&quot; . &quot;recompiling&quot;)
   (&quot;reenter&quot; . &quot;re-enter&quot;)
   (&quot;turnkey&quot; . &quot;turn-key&quot;) )

(in NIL
   (while (apply echo '</FONT></B><B><FONT COLOR="#BC8F8F">`(mapcar car Data))
      (let (Key @  Val (get Data Key))
         (when *Verbose
            (out 2 (prinl Key &quot; =&gt; &quot; Val)) )
         (prin Val) ) ) )

(bye)

#-----------------------------

# @@PLEAC@@_1.18
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch01/psgrep">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

# Use: psgrep 'lisp-expression'
#
# Takes a single optional argument:
# An arbitrary lisp expression without the outermost parentheses
#
# For example:
#    psgrep '= &quot;Ss+&quot; STAT'
#    psgrep 'and (&gt; SIZE 10000) (= TT &quot;tty1&quot;)'
#    psgrep 'member UID (101 102 104 106)'
#
# The variables (case-sensitive!) have the
# same names as the column headers

(load &quot;@lib/misc.l&quot;)

(de PsFields
   (F         1  &quot;flags&quot;   NIL (read))
   (UID       6  &quot;uid&quot;     NIL (read))
   (PID       6  &quot;pid&quot;     NIL (read))
   (PPID      6  &quot;ppid&quot;    NIL (read))
   (PRI       4  &quot;pri&quot;     NIL (read))
   (NI        4  &quot;nice&quot;    NIL (read))
   (NIL       1)
   (SIZE      5  &quot;size&quot;    NIL (read))
   (NIL       1)
   (RSS       5  &quot;rss&quot;     NIL (read))
   (NIL       1)
   (WCHAN    -7  &quot;wchan&quot;   NIL (skip) (till &quot; &quot; T))
   (STAT     -5  &quot;stat&quot;    NIL (skip) (till &quot; &quot; T))
   (TT       -9  &quot;tty&quot;     NIL (skip) (till &quot; &quot; T))
   (TIME      8  &quot;time&quot;    (tim$ TIME T) (skip) ($tim (till &quot; &quot; T)))
   (NIL       1)
   (COMMAND -30  &quot;command&quot; NIL (char) (line T)) )

(let Cond (or (str (opt)) T)
   (in (list 'ps &quot;hax&quot; &quot;-o&quot; (glue &quot;,&quot; (extract caddr PsFields)))
      (let Fmt (mapcar cadr PsFields)
         (apply tab (mapcar car PsFields) Fmt)
         (bind (mapcar car PsFields)
            (until (eof)
               (for Fld PsFields
                  (when (car Fld)
                     (set @ (run (cddddr Fld))) ) )
               (when (eval Cond)
                  (apply tab
                     (mapcar
                        '((Fld) (or (eval (cadddr Fld)) (val (car Fld))))
                        PsFields )
                     Fmt ) ) ) ) ) ) )

(bye)

#-----------------------------


# @@PLEAC@@_2.1
#-----------------------------
# PicoLisp has only a single numeric type, the bignum.
# The function 'format' returns NIL if the argument is
# not a legal number
: (format &quot;12345&quot;)
-&gt; 12345                       # is a number
: (format &quot;123a5&quot;)
-&gt; NIL                         # is not
#-----------------------------
: (format &quot;1234.5678&quot;)
-&gt; 1235
: (format &quot;1234,5678&quot; 2 &quot;,&quot;)
-&gt; 123457
: (format &quot;-1,234.5&quot; 2 &quot;.&quot; &quot;,&quot;)
-&gt; -123450
#-----------------------------

# @@PLEAC@@_2.2
# PicoLisp has no real floating point numbers
# Only scaled (fixpoint) integers
#-----------------------------
: (= (format &quot;1234.5678&quot; 2) (format &quot;1234.572&quot; 2))
-&gt; T
#-----------------------------

# @@PLEAC@@_2.3
#-----------------------------
: (format &quot;1234.5678&quot;)
-&gt; 1235
: (format &quot;1234.5678&quot; 2)
-&gt; 123457

: (scl 3)
-&gt; 3
: (setq A 0.255)
-&gt; 255
: (prinl &quot;Unrounded: &quot; (format A *Scl) &quot;^JRounded: &quot; (round A 2))
Unrounded: 0.255
Rounded: 0.26
-&gt; &quot;0.26&quot;
#-----------------------------
: (scl 1)
-&gt; 1
: (let Fmt (7 7 7 7)
   (tab Fmt &quot;number&quot; &quot;int&quot; &quot;floor&quot; &quot;ceil&quot;)
   (for N (3.3 3.5 3.7 -3.3)
      (tab Fmt
         (format N *Scl)
         (format (* 1.0 (/ N 1.0)) *Scl)
         (format (* 1.0 (*/ (- N 0.5) 1.0)) *Scl)
         (format (* 1.0 (*/ (+ N 0.5) 1.0)) *Scl) ) ) )
 number    int  floor   ceil
    3.3    3.0    3.0    4.0
    3.5    3.0    3.0    4.0
    3.7    3.0    3.0    4.0
   -3.3   -3.0   -4.0   -3.0
-&gt; NIL
#-----------------------------

# @@PLEAC@@_2.4
#-----------------------------
: (bin 54)
-&gt; &quot;110110&quot;
: (bin &quot;110110&quot;)
-&gt; 54
#-----------------------------

# @@PLEAC@@_2.5
#-----------------------------
: (prin &quot;Infancy is: &quot;) (for N 3 (printsp (dec N))) (prinl)
Infancy is: 0 1 2
#-----------------------------
: (prin &quot;Toddling is: &quot;) (println 3 4)
Toddling is: 3 4
#-----------------------------
: (prin &quot;Childhood is: &quot;) (apply println (range 5 12))
Childhood is: 5 6 7 8 9 10 11 12
# or
: (prin &quot;Childhood is: &quot;) (mapc printsp (range 5 12)) (prinl)
Childhood is: 5 6 7 8 9 10 11 12
# or
: (prin &quot;Childhood is: &quot;) (for (N 5 (&gt;= 12 N) (inc N)) (printsp N)) (prinl)
#-----------------------------

# @@PLEAC@@_2.6
#-----------------------------
: (de roman (N)
   (pack
      (make
         (mapc
            '((C D)
               (while (&gt;= N D)
                  (dec 'N D)
                  (link C) ) )
            '(M CM D CD C XC L XL X IX V IV I)
            (1000 900 500 400 100 90 50 40 10 9 5 4 1) ) ) ) )
-&gt; roman

: (prinl &quot;Roman for fifteen is &quot; (roman 15))
Roman for fifteen is XV
-&gt; &quot;XV&quot;

: (de arabic (R)
   (let N 0
      (for (L (chop (uppc R))  L)
         (find
            '((C D)
               (when (head C L)
                  (cut (length C) 'L)
                  (inc 'N D) ) )
            '`</FONT></B>(mapcar <B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">'(M CM D CD C XC L XL X IX V IV I))
            (1000 900 500 400 100 90 50 40 10 9 5 4 1) ) )
      N ) )
-&gt; arabic

: (prinl &quot;Converted back, &quot; (roman 15) &quot; is &quot; (arabic (roman 15)))
Converted back, XV is 15
-&gt; 15
#-----------------------------

# @@PLEAC@@_2.7
#-----------------------------
: (rand)
-&gt; 643875838651014379
#-----------------------------
: (rand 1 6)  # Dice
-&gt; 3
#-----------------------------
: (rand 900000 999999)
-&gt; 989901
#-----------------------------
: (rand T)  # Boolean
-&gt; NIL
: (rand T)
-&gt; T
#-----------------------------
: (setq Password
   (pack
      (head 8
         (by '</FONT></B>(NIL (<B><FONT COLOR="#A020F0">rand</FONT></B>)) <B><FONT COLOR="#A020F0">sort</FONT></B>
            (conc
               (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;!@$%\^&amp;*&quot;</FONT></B>)
               (mapcar char
                  (conc
                     (range <B><FONT COLOR="#BC8F8F">`(char &quot;A&quot;) `</FONT></B>(char <B><FONT COLOR="#BC8F8F">&quot;Z&quot;</FONT></B>))
                     (range <B><FONT COLOR="#BC8F8F">`(char &quot;a&quot;) `</FONT></B>(char <B><FONT COLOR="#BC8F8F">&quot;z&quot;</FONT></B>))
                     (range <B><FONT COLOR="#BC8F8F">`(char &quot;0&quot;) `</FONT></B>(char <B><FONT COLOR="#BC8F8F">&quot;9&quot;</FONT></B>)) ) ) ) ) ) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.8
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (seed 42)
-&gt; 62419389940

: (seed <B><FONT COLOR="#BC8F8F">&quot;Hello world&quot;</FONT></B>)
-&gt; -967786026117696633

: (seed (<B><FONT COLOR="#A020F0">time</FONT></B>))
-&gt; -54340987292621
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.9
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (in <B><FONT COLOR="#BC8F8F">&quot;/dev/urandom&quot;</FONT></B> (rd 12))
-&gt; 50416291644794614409246112035
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.10
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/math.l&quot;</FONT></B>)

(de rand2 ()
   (<B><FONT COLOR="#A020F0">rand</FONT></B> <B><FONT COLOR="#BC8F8F">`(inc -1.0) `</FONT></B>(dec 1.0)) )

(de gaussianRand ()
   (<B><FONT COLOR="#A020F0">use</FONT></B> (U1 U2 W)
      (<B><FONT COLOR="#A020F0">while</FONT></B>
         (&gt;=
            (setq W
               (+
                  (*/ (setq U1 (rand2)) U1 1.0)
                  (*/ (setq U2 (rand2)) U2 1.0) ) )
            1.0 ) )
      (setq W (<B><FONT COLOR="#A020F0">sqrt</FONT></B> (*/ 1.0 -2.0 (<B><FONT COLOR="#A020F0">log</FONT></B> W) W)))
      (*/ U2 W 1.0) ) )

(prinl
   <B><FONT COLOR="#BC8F8F">&quot;You have been hired at $&quot;</FONT></B>
   (round (+ 25.0 (* 2 (gaussianRand))) 2) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.11
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/math.l&quot;</FONT></B>)

(de deg2rad (Deg)
   (*/ Deg pi 180.0) )

(de rad2deg (Rad)
   (*/ Rad 180.0 pi) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.12
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/math.l&quot;</FONT></B>)
:  (<B><FONT COLOR="#A020F0">format</FONT></B> (<B><FONT COLOR="#A020F0">cos</FONT></B> 0.333333) *Scl)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;0.944957&quot;</FONT></B>

:  (<B><FONT COLOR="#A020F0">format</FONT></B> (acos 0.944957) *Scl)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;0.333333&quot;</FONT></B>

: (<B><FONT COLOR="#A020F0">format</FONT></B> (tan pi/2) *Scl)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;3060023.306953&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.13
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/math.l&quot;</FONT></B>)
: (<B><FONT COLOR="#A020F0">format</FONT></B> (<B><FONT COLOR="#A020F0">log</FONT></B> 10.0) *Scl)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;2.302585&quot;</FONT></B>

(de logBase(Base Val)
   (*/ (<B><FONT COLOR="#A020F0">log</FONT></B> Val) 1.0 (<B><FONT COLOR="#A020F0">log</FONT></B> Base)) )

: (<B><FONT COLOR="#A020F0">format</FONT></B> (logBase 10.0 10000.0) *Scl)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;4.000000&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.14
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(de mmult (Mat1 Mat2)
   (<B><FONT COLOR="#A020F0">unless</FONT></B> (= (<B><FONT COLOR="#A020F0">length</FONT></B> Mat1) (<B><FONT COLOR="#A020F0">length</FONT></B> (car Mat2)))
      (quit <B><FONT COLOR="#BC8F8F">&quot;IndexError: matrices don't match&quot;</FONT></B>) )
   (mapcar
      <B><FONT COLOR="#BC8F8F">'((Row)
         (apply mapcar Mat2
            '</FONT></B>(@ (apply + (mapcar * Row (rest)))) ) )
      Mat1 ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (mmult
   <B><FONT COLOR="#BC8F8F">'((3 2 3) (5 9 8))
   '</FONT></B>((4 7) (9 3) (8 8)) )
-&gt; ((54 51) (165 126))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.15
</FONT></I><I><FONT COLOR="#B22222"># PicoLisp doesn't have a complex library, but a set of
</FONT></I><I><FONT COLOR="#B22222"># functions for complex numbers can be easily written
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/math.l&quot;</FONT></B>)

(de addComplex (A B)
   (cons
      (+ (car A) (car B))        <I><FONT COLOR="#B22222"># Real
</FONT></I>      (+ (cdr A) (cdr B)) ) )    <I><FONT COLOR="#B22222"># Imag
</FONT></I>
(de mulComplex (A B)
   (cons
      (-
         (*/ (car A) (car B) 1.0)
         (*/ (cdr A) (cdr B) 1.0) )
      (+
         (*/ (car A) (cdr B) 1.0)
         (*/ (cdr A) (car B) 1.0) ) ) )

(de invComplex (A)
   (let Denom
      (+
         (*/ (car A) (car A) 1.0)
         (*/ (cdr A) (cdr A) 1.0) )
      (cons
         (*/ (car A) 1.0 Denom)
         (- (*/ (cdr A) 1.0 Denom)) ) ) )

(de negComplex (A)
   (cons (- (car A)) (- (cdr A))) )

(de sqrtComplex (A)
   (let
      (R (<B><FONT COLOR="#A020F0">sqrt</FONT></B> (+ (* (car A) (car A)) (* (cdr A) (cdr A))))
         Y (<B><FONT COLOR="#A020F0">sqrt</FONT></B> (* (- R (car A)) 0.5))
         X (*/ (cdr A) 0.5 Y) )
      (cons  <I><FONT COLOR="#B22222"># Return both results
</FONT></I>         (cons X Y)
         (cons (- X) (- Y)) ) ) )

(de fmtComplex (A)
   (<B><FONT COLOR="#A020F0">pack</FONT></B>
      (round (car A) (dec *Scl))
      (<B><FONT COLOR="#A020F0">and</FONT></B> (gt0 (cdr A)) <B><FONT COLOR="#BC8F8F">&quot;+&quot;</FONT></B>)
      (round (cdr A) (dec *Scl))
      <B><FONT COLOR="#BC8F8F">&quot;i&quot;</FONT></B> ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let (A (3.0 . 5.0)  B (2.0 . -2.0))
   (prinl <B><FONT COLOR="#BC8F8F">&quot;c = &quot;</FONT></B> (fmtComplex (mulComplex A B))) )
c = 16.00000+4.00000i
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let D (3.0 . 4.0)
   (prinl <B><FONT COLOR="#BC8F8F">&quot;sqrt(&quot;</FONT></B> (fmtComplex D) <B><FONT COLOR="#BC8F8F">&quot;) = &quot;</FONT></B> (fmtComplex (car (sqrtComplex D)))) )
<B><FONT COLOR="#A020F0">sqrt</FONT></B>(3.00000+4.00000i) = 2.00000+1.00000i
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.16
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(prin <B><FONT COLOR="#BC8F8F">&quot;Gimme a number in decimal, octal, or hex: &quot;</FONT></B>)
(let Num (in NIL (clip (line)))
   (setq Num
      (if2 (= <B><FONT COLOR="#BC8F8F">&quot;0&quot;</FONT></B> (car Num)) (= <B><FONT COLOR="#BC8F8F">&quot;x&quot;</FONT></B> (cadr Num))
         (<B><FONT COLOR="#A020F0">hex</FONT></B> (cddr Num))
         (<B><FONT COLOR="#A020F0">oct</FONT></B> (cdr Num))
         NIL
         (<B><FONT COLOR="#A020F0">format</FONT></B> Num) ) )
   (prinl Num <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> (<B><FONT COLOR="#A020F0">hex</FONT></B> Num) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> (<B><FONT COLOR="#A020F0">oct</FONT></B> Num)) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(prin <B><FONT COLOR="#BC8F8F">&quot;Enter file permission in octal: &quot;</FONT></B>)
(let Permissions (<B><FONT COLOR="#A020F0">oct</FONT></B> (in NIL (clip (line))))
   (prinl <B><FONT COLOR="#BC8F8F">&quot;The decimal value is &quot;</FONT></B> Permissions) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.17
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let Cnt -1740525205
   (prinl
      <B><FONT COLOR="#BC8F8F">&quot;Your web page received &quot;</FONT></B>
      (<B><FONT COLOR="#A020F0">format</FONT></B> Cnt 0 <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;,&quot;</FONT></B>)
      <B><FONT COLOR="#BC8F8F">&quot; accesses last month.&quot;</FONT></B> ) )
Your web page received -1,740,525,205 accesses <B><FONT COLOR="#A020F0">last</FONT></B> month.
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.18
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(prinl <B><FONT COLOR="#BC8F8F">&quot;It took &quot;</FONT></B> Time <B><FONT COLOR="#BC8F8F">&quot; hour&quot;</FONT></B> (<B><FONT COLOR="#A020F0">unless</FONT></B> (= 1 Time) <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>))

(prinl
   Time
   <B><FONT COLOR="#BC8F8F">&quot; hour&quot;</FONT></B> (<B><FONT COLOR="#A020F0">unless</FONT></B> (= 1 Time) <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>)
   (<B><FONT COLOR="#A020F0">if</FONT></B> (= 1 Time) <B><FONT COLOR="#BC8F8F">&quot; is&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot; are&quot;</FONT></B>)
   <B><FONT COLOR="#BC8F8F">&quot; enough.&quot;</FONT></B> )

(prinl <B><FONT COLOR="#BC8F8F">&quot;It took &quot;</FONT></B> Time <B><FONT COLOR="#BC8F8F">&quot; centur&quot;</FONT></B> (<B><FONT COLOR="#A020F0">if</FONT></B> (= 1 Time) <B><FONT COLOR="#BC8F8F">&quot;y&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;ies&quot;</FONT></B>))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(de nounPlural (Str)
   (let (S (<B><FONT COLOR="#A020F0">chop</FONT></B> Str)  @A)
      (cond
         ((find tail <B><FONT COLOR="#BC8F8F">'((s s) (p h) (s h) (c h) (z)) (circ S))
            (pack Str &quot;es&quot;) )
         ((tail '</FONT></B>(f f) S) (<B><FONT COLOR="#A020F0">pack</FONT></B> S <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>))
         ((match <B><FONT COLOR="#BC8F8F">'(@A f) S) (pack @A &quot;ves&quot;))
         ((tail '</FONT></B>(e <B><FONT COLOR="#A020F0">y</FONT></B>) S) (<B><FONT COLOR="#A020F0">pack</FONT></B> S <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>))
         ((match <B><FONT COLOR="#BC8F8F">'(@A y) S) (pack @A &quot;ies&quot;))
         ((match '</FONT></B>(@A i <B><FONT COLOR="#A020F0">x</FONT></B>) S) (<B><FONT COLOR="#A020F0">pack</FONT></B> @A <B><FONT COLOR="#BC8F8F">&quot;ices&quot;</FONT></B>))
         ((<B><FONT COLOR="#A020F0">or</FONT></B> (tail <B><FONT COLOR="#BC8F8F">'(s) S) (tail '</FONT></B>(<B><FONT COLOR="#A020F0">x</FONT></B>) S))
            (<B><FONT COLOR="#A020F0">pack</FONT></B> S <B><FONT COLOR="#BC8F8F">&quot;es&quot;</FONT></B>) )
         (T (<B><FONT COLOR="#A020F0">pack</FONT></B> S <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>)) ) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> S
   (quote
      fish fly ox
      species genus phylum
      cherub radius jockey
      <B><FONT COLOR="#A020F0">index</FONT></B> matrix mythos
      phenomenon formula )
   (prinl <B><FONT COLOR="#BC8F8F">&quot;One &quot;</FONT></B> S <B><FONT COLOR="#BC8F8F">&quot;, two &quot;</FONT></B> (nounPlural S) <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B>) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_2.19
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch02/bigfact">download the following standalone program</a></font>
</FONT></I><I><FONT COLOR="#B22222">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
</FONT></I>
(load <B><FONT COLOR="#BC8F8F">&quot;@lib/misc.l&quot;</FONT></B>)

(de factor (N)
   (make
      (let (D 2  L (1 2 2 . (4 2 4 2 4 6 2 6 .))  M (<B><FONT COLOR="#A020F0">sqrt</FONT></B> N))
         (<B><FONT COLOR="#A020F0">while</FONT></B> (&gt;= M D)
            (<B><FONT COLOR="#A020F0">if</FONT></B> (=0 (% N D))
               (setq M (<B><FONT COLOR="#A020F0">sqrt</FONT></B> (setq N (/ N (<B><FONT COLOR="#A020F0">link</FONT></B> D)))))
               (inc <B><FONT COLOR="#BC8F8F">'D (pop '</FONT></B>L)) ) )
         (<B><FONT COLOR="#A020F0">link</FONT></B> N) ) ) )

(<B><FONT COLOR="#A020F0">while</FONT></B> (opt)
   (let? N (<B><FONT COLOR="#A020F0">format</FONT></B> @)
      (let Factors (factor N)
         (tab (-11 1 -60)
            N
            <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>
            (ifn (cdr Factors)
               <B><FONT COLOR="#BC8F8F">&quot;PRIME&quot;</FONT></B>
               (glue <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>
                  (mapcar
                     <B><FONT COLOR="#BC8F8F">'((L)
                        (if (cdr L)
                           (pack (car L) &quot;**&quot; (length L))
                           (car L) ) )
                     (by prog group Factors) ) ) ) ) ) ) )

(bye)

#-----------------------------
$  ./bigfact 17 60 125 239322000000000000000000
17          PRIME
60          2**2 3 5
125         5**3
239322000000000000000000 2**19 3 5**18 39887
#-----------------------------

# @@PLEAC@@_3.0
# Dates and times are handled in PicoLisp by the built-in '</FONT></B>date<B><FONT COLOR="#BC8F8F">' and '</FONT></B><B><FONT COLOR="#A020F0">time</FONT></B><B><FONT COLOR="#BC8F8F">'
# functions, and additional functions like '</FONT></B>day<B><FONT COLOR="#BC8F8F">' and '</FONT></B>week<B><FONT COLOR="#BC8F8F">', and various
# functions for formatting and localization
#-----------------------------
: (prinl
   &quot;Today is day &quot;
   (- (date) (date (car (date (date))) 1 1) -1)
   &quot; of the current year.&quot; )
Today is day 365 of the current year.
#-----------------------------

# @@PLEAC@@_3.1
#-----------------------------
: (date (date))
-&gt; (2010 12 31)
#-----------------------------
: (prinl &quot;The current date is &quot; (dat$ (date) &quot; &quot;))
The current date is 2010 12 31
#-----------------------------
: (prinl &quot;The current date is &quot; (dat$ (date) &quot;-&quot;))
The current date is 2010-12-31
#-----------------------------
: (prinl (stamp))
2010-12-31 13:31:27
#-----------------------------

# @@PLEAC@@_3.2
#-----------------------------
: (- (+ (* 86400 (date T)) (time T)) (* 86400 (date 1970 1 1)))
-&gt; 1293799342

: (- (+ (* 86400 (date 2010 12 30)) (time 6 57 52)) (* 86400 (date 1970 1 1)))
-&gt; 1293692272

: (- (+ (* 86400 ($dat &quot;20101230&quot;)) ($tim &quot;6:57:52&quot;)) (* 86400 (date 1970 1 1)))
-&gt; 1293692272
#-----------------------------

# @@PLEAC@@_3.3
#-----------------------------
: (let
   (Secs (+ 1293692272 (* 86400 (date 1970 1 1)))
      Date (/ Secs 86400)
      Time (% Secs 86400) )
   (prinl &quot;Date: &quot; (datSym Date) &quot;,  time: &quot; (tim$ Time T)) )
Date: 30dec10,  time: 06:57:52
#-----------------------------

# @@PLEAC@@_3.4
# See also the add/subtract in above epoch calculations
#-----------------------------
: (let D (date)
   (prinl
      &quot;Today: &quot; (day D) &quot;, &quot; (datStr D)
      &quot; -&gt; next week: &quot; (day (inc '</FONT></B>D 7)) <B><FONT COLOR="#BC8F8F">&quot;, &quot;</FONT></B> (datStr D) ) )
Today: Friday, 2010-12-31 -&gt; <B><FONT COLOR="#A020F0">next</FONT></B> week: Friday, 2011-01-07
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.5
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (prinl
   <B><FONT COLOR="#BC8F8F">&quot;Today Jimi Hendrix would be &quot;</FONT></B>
   (- (date) (date 1942 11 27))
   <B><FONT COLOR="#BC8F8F">&quot; days old&quot;</FONT></B> )
Today Jimi Hendrix would be 24871 days old
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.6
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (prinl <B><FONT COLOR="#BC8F8F">&quot;Today is &quot;</FONT></B> (day (date)))
Today is Friday

: (prinl <B><FONT COLOR="#BC8F8F">&quot;Jimi Hendrix was born on a &quot;</FONT></B> (day (date 1942 11 27)))
Jimi Hendrix was born on a Friday
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (prinl <B><FONT COLOR="#BC8F8F">&quot;This is the &quot;</FONT></B> (week (date)) <B><FONT COLOR="#BC8F8F">&quot;th week&quot;</FONT></B>)
This is the 52th week
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (prinl <B><FONT COLOR="#BC8F8F">&quot;This is the &quot;</FONT></B> (cadr (date (date))) <B><FONT COLOR="#BC8F8F">&quot;th month&quot;</FONT></B>)
This is the 12th month
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (prinl <B><FONT COLOR="#BC8F8F">&quot;This is the year &quot;</FONT></B> (car (date (date))))
This is the year 2010
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.7
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># Calculate the days since the epoch
</FONT></I>: (- (date) ($dat <B><FONT COLOR="#BC8F8F">&quot;1998-06-03&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;-&quot;</FONT></B>))
-&gt; 4594
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (date (expDat <B><FONT COLOR="#BC8F8F">&quot;31&quot;</FONT></B>))
-&gt; (2010 12 31)

: (date (expDat <B><FONT COLOR="#BC8F8F">&quot;3112&quot;</FONT></B>))
-&gt; (2010 12 31)

: (date (expDat <B><FONT COLOR="#BC8F8F">&quot;311210&quot;</FONT></B>))
-&gt; (2010 12 31)

: (date (expDat <B><FONT COLOR="#BC8F8F">&quot;31.12.10&quot;</FONT></B>))
-&gt; (2010 12 31)

: (date (expDat <B><FONT COLOR="#BC8F8F">&quot;31.12&quot;</FONT></B>))
-&gt; (2010 12 31)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.8
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(load <B><FONT COLOR="#BC8F8F">&quot;@lib/http.l&quot;</FONT></B>)

: (httpDate (date T) (<B><FONT COLOR="#A020F0">time</FONT></B> T))
Fri, 31 Dec 2010 13:21:03 GMT
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (stamp)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;2010-12-31 14:21:47&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (datStr (date))
-&gt; <B><FONT COLOR="#BC8F8F">&quot;2010-12-31&quot;</FONT></B>

: (locale <B><FONT COLOR="#BC8F8F">&quot;DE&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;de&quot;</FONT></B>)

: (datStr (date))
-&gt; <B><FONT COLOR="#BC8F8F">&quot;31.12.2010&quot;</FONT></B>

: (locale <B><FONT COLOR="#BC8F8F">&quot;JP&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;jp&quot;</FONT></B>)

: (datStr (date))
-&gt; <B><FONT COLOR="#BC8F8F">&quot;2010/12/31&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.9
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (usec)         <I><FONT COLOR="#B22222"># Microseconds
</FONT></I>-&gt; 250502252
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let U (usec)
   (prin <B><FONT COLOR="#BC8F8F">&quot;Press return when ready: &quot;</FONT></B>)
   (line)
   (prinl <B><FONT COLOR="#BC8F8F">&quot;You took &quot;</FONT></B> (<B><FONT COLOR="#A020F0">format</FONT></B> (- (usec) U) 6) <B><FONT COLOR="#BC8F8F">&quot; seconds&quot;</FONT></B>) )
Press <B><FONT COLOR="#A020F0">return</FONT></B> when ready:
You took 2.711455 seconds
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (bench (prin <B><FONT COLOR="#BC8F8F">&quot;Press return when ready: &quot;</FONT></B>) (line))
Press <B><FONT COLOR="#A020F0">return</FONT></B> when ready:
1.332 sec
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># Generate, sort and count 1 million random numbers
</FONT></I>: (bench (<B><FONT COLOR="#A020F0">length</FONT></B> (<B><FONT COLOR="#A020F0">sort</FONT></B> (make (<B><FONT COLOR="#A020F0">do</FONT></B> 1000000 (<B><FONT COLOR="#A020F0">link</FONT></B> (<B><FONT COLOR="#A020F0">rand</FONT></B>)))))))
2.839 sec
-&gt; 1000000
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.10
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">wait</FONT></B> 250)  <I><FONT COLOR="#B22222"># Sleep 0.25 secs
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (key 4000)  <I><FONT COLOR="#B22222"># Wait max. 4 secs for a keypress
</FONT></I>-&gt; <B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B>        <I><FONT COLOR="#B22222"># (pressed &quot;a&quot; after 2 seconds)
</FONT></I>
: (key 4000)
-&gt; NIL        <I><FONT COLOR="#B22222"># (timed out)
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_3.11
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch03/hopdelta">download the following standalone program</a></font>
</FONT></I><I><FONT COLOR="#B22222">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
</FONT></I>
(load <B><FONT COLOR="#BC8F8F">&quot;@lib/misc.l&quot;</FONT></B>)

(in NIL
   (let (Fmt (-21 -21 -9 -10 10)  Sender <B><FONT COLOR="#BC8F8F">&quot;Start&quot;</FONT></B>  LastSecs NIL)
      (tab Fmt <B><FONT COLOR="#BC8F8F">&quot;Sender&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Recipient&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Time&quot;</FONT></B> NIL <B><FONT COLOR="#BC8F8F">&quot;Delta&quot;</FONT></B>)
      (tab Fmt <B><FONT COLOR="#BC8F8F">&quot;------&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;---------&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;----&quot;</FONT></B> NIL <B><FONT COLOR="#BC8F8F">&quot;-----&quot;</FONT></B>)
      (<B><FONT COLOR="#A020F0">for</FONT></B> Lst
         (flip
            (make
               (<B><FONT COLOR="#A020F0">while</FONT></B> (from <B><FONT COLOR="#BC8F8F">&quot;^JReceived: from &quot;</FONT></B>)
                  (let Recipient (till <B><FONT COLOR="#BC8F8F">&quot; ^J&quot;</FONT></B> T)
                     (from <B><FONT COLOR="#BC8F8F">&quot;; &quot;</FONT></B>)
                     (from <B><FONT COLOR="#BC8F8F">&quot;,&quot;</FONT></B>)
                     (let
                        (Day (<B><FONT COLOR="#A020F0">read</FONT></B>)
                           Mon (<B><FONT COLOR="#A020F0">index</FONT></B> (till <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> T) *Mon)
                           Year (<B><FONT COLOR="#A020F0">read</FONT></B>)
                           Tim (till <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> T)
                           Offs (<B><FONT COLOR="#A020F0">read</FONT></B>)
                           Secs (+ (* 86400 (date Year Mon Day)) ($tim Tim)) )
                        (when (num? Offs)
                           (inc <B><FONT COLOR="#BC8F8F">'Secs (*/ 3600 Offs 100)) )
                        (link
                           (list
                              Recipient
                              Tim
                              (dat$ (date Year Mon Day) &quot;/&quot;)
                              Secs ) ) ) ) ) ) )
         #(println (list Day Mon Year Tim '</FONT></B>- Secs))
         (tab Fmt
            Sender
            (car Lst)
            (cadr Lst)
            (caddr Lst)
            (tim$ (- (cadddr Lst) LastSecs) T) )
         (setq Sender (car Lst)  LastSecs (cadddr Lst)) ) ) )

(bye)

<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>$ ./hopdelta &lt;header
Sender               Recipient            Time                    Delta
------               ---------            ----                    -----
Start                app                  15:44:34 2010/12/31
app                  mo-p00-ob.rzone.de   15:44:34 2010/12/31  00:00:00
mo-p00-ob.rzone.de   post.strato.de       15:44:39 2010/12/31  00:00:05
post.strato.de       localhost            15:46:09 2010/12/31  00:01:30
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.0
</FONT></I><I><FONT COLOR="#B22222"># PicoLisp doesn't support arrays as contiguous pieces of memory.
</FONT></I><I><FONT COLOR="#B22222"># Instead, the standard Lisp linked lists are used.
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq Nested <B><FONT COLOR="#BC8F8F">'(this that the other))
(setq Nested '</FONT></B>(this that (the other)))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq Tune <B><FONT COLOR="#BC8F8F">'(&quot;The&quot; &quot;Star-Spangled&quot; &quot;Banner&quot;))
#-----------------------------

# @@PLEAC@@_4.1
#-----------------------------
(setq A '</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;quick&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;brown&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;fox&quot;</FONT></B>))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq A <B><FONT COLOR="#BC8F8F">'(Why are you teasing me?))
#-----------------------------
: (setq Lines (make (char) (while (line T) (link @))))
The boy stood on the burning deck,
It was as hot as glass.

-&gt; (&quot;The boy stood on the burning deck,&quot; &quot;It was as hot as glass.&quot;)
#-----------------------------
(setq Bigarray
   (in &quot;mydatafile&quot;
      (make
         (until (eof)
            (link (line T)) ) ) ) )
#-----------------------------
(setq
   PerlHost &quot;www.perl.com&quot;
   HostInfo (in (list '</FONT></B>nslookup PerlHost) (till NIL T)) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (<B><FONT COLOR="#A020F0">split</FONT></B> (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Costs only $4.95&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>)
-&gt; ((<B><FONT COLOR="#BC8F8F">&quot;C&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;o&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;t&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;s&quot;</FONT></B>) (<B><FONT COLOR="#BC8F8F">&quot;o&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;n&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;l&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;y&quot;</FONT></B>) (<B><FONT COLOR="#BC8F8F">&quot;$&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;4&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;9&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;5&quot;</FONT></B>))

: (mapcar <B><FONT COLOR="#A020F0">pack</FONT></B> (<B><FONT COLOR="#A020F0">split</FONT></B> (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Costs only $4.95&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>))
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;Costs&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;only&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;$4.95&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq Ships <B><FONT COLOR="#BC8F8F">'(&quot;Nia&quot; &quot;Pinta&quot; &quot;Santa Mara&quot;))
#-----------------------------

# @@PLEAC@@_4.2
#-----------------------------
: (pack &quot;The &quot; (glue &quot;, &quot; '</FONT></B>(big brown dirty hungry)) <B><FONT COLOR="#BC8F8F">&quot; fox&quot;</FONT></B>)
-&gt; <B><FONT COLOR="#BC8F8F">&quot;The big, brown, dirty, hungry fox&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq Array <B><FONT COLOR="#BC8F8F">'(red yellow green))

: (prinl &quot;I have &quot; Array &quot; marbles.&quot;)
I have redyellowgreen marbles.

: (prinl &quot;I have &quot; (glue &quot; &quot; Array) &quot; marbles.&quot;)
I have red yellow green marbles.
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch04/commify_series">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
# commify_series - show proper comma insertion in list output

(de Lists
   (&quot;just one thing&quot;)
   (&quot;Mutt&quot; &quot;Jeff&quot;)
   (&quot;Peter&quot; &quot;Paul&quot; &quot;Mary&quot;)
   (&quot;To our parents&quot; &quot;Mother Theresa&quot; &quot;God&quot;)
   (&quot;pastrami&quot; &quot;ham and cheese&quot; &quot;peanut butter and jelly&quot; &quot;tuna&quot;)
   (&quot;recycle tired, old phrases&quot; &quot;ponder big, happy thoughts&quot;)
   (&quot;recycle tired, old phrases&quot; 
      &quot;ponder big, happy thoughts&quot; 
      &quot;sleep and dream peacefully&quot;) )

(de commifySeries (Lst)
   (ifn (cddr Lst)
      (glue &quot; and &quot; Lst)
      (glue (if (find '</FONT></B>((S) (<B><FONT COLOR="#A020F0">sub</FONT></B>? <B><FONT COLOR="#BC8F8F">&quot;,&quot;</FONT></B> S)) Lst) <B><FONT COLOR="#BC8F8F">&quot;; &quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;, &quot;</FONT></B>)
         (conc
            (head -1 Lst)
            (cons (<B><FONT COLOR="#A020F0">pack</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;and &quot;</FONT></B> (<B><FONT COLOR="#A020F0">last</FONT></B> Lst))) ) ) ) )

(<B><FONT COLOR="#A020F0">for</FONT></B> L Lists
   (prinl <B><FONT COLOR="#BC8F8F">&quot;The list is: &quot;</FONT></B> (commifySeries L) <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B>) )

(bye)

<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>The list is: just one thing.
The list is: Mutt <B><FONT COLOR="#A020F0">and</FONT></B> Jeff.
The list is: Peter, Paul, <B><FONT COLOR="#A020F0">and</FONT></B> Mary.
The list is: To our parents, Mother Theresa, <B><FONT COLOR="#A020F0">and</FONT></B> God.
The list is: pastrami, ham <B><FONT COLOR="#A020F0">and</FONT></B> cheese, peanut butter <B><FONT COLOR="#A020F0">and</FONT></B> jelly, <B><FONT COLOR="#A020F0">and</FONT></B> tuna.
The list is: recycle tired, old phrases <B><FONT COLOR="#A020F0">and</FONT></B> ponder big, happy thoughts.
The list is: recycle tired, old phrases; ponder big, happy thoughts; <B><FONT COLOR="#A020F0">and</FONT></B> <B><FONT COLOR="#A020F0">sleep</FONT></B> <B><FONT COLOR="#A020F0">and</FONT></B> dream peacefully.
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.3
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(de whatAboutThatArray ()
   (prinl <B><FONT COLOR="#BC8F8F">&quot;The array now has &quot;</FONT></B> (<B><FONT COLOR="#A020F0">length</FONT></B> People) <B><FONT COLOR="#BC8F8F">&quot; elements.&quot;</FONT></B>)
   (prinl <B><FONT COLOR="#BC8F8F">&quot;Element #4 is `&quot;</FONT></B> (get People 4) <B><FONT COLOR="#BC8F8F">&quot;'.&quot;</FONT></B>) )

(de People
   Crosby Stills Nash Young )

: (whatAboutThatArray)
The array now has 4 elements.
Element <I><FONT COLOR="#B22222">#4 is `Young'.
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(con (tail 2 People))

: (whatAboutThatArray)
The array now has 3 elements.
Element <I><FONT COLOR="#B22222">#4 is `'.
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq People (need -10000 People))

: (whatAboutThatArray)
The array now has 10000 elements.
Element <I><FONT COLOR="#B22222">#4 is `'.
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.4
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> Item List
   (doSomething Item) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> User BadUsers
   (complain User) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> User AllUsers
   (let DiskSpace (getUsage User)
      (when (&gt; DiskSpace MAX_QUOTA)
         (complain User) ) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(in <B><FONT COLOR="#BC8F8F">'(who)
   (while (line T)
      (and (sub? &quot;tchrist&quot; @) (prinl @)) ) )
#-----------------------------
(until (eof)
   (prinl (glue &quot; &quot; (flip (split (line) &quot; &quot;)))) )
#-----------------------------
(for Item Array
   (prinl &quot;i = &quot; Item) )
#-----------------------------
(setq Array (1 2 3))
(map dec Array)

: Array
-&gt; (0 1 2)
#-----------------------------

# @@PLEAC@@_4.5
#-----------------------------
# iterate over elements of list in $ARRAYREF
(map
   '</FONT></B>((L)
      (foo (car L))  <I><FONT COLOR="#B22222"># Do something with the element
</FONT></I>      (set L) )      <I><FONT COLOR="#B22222"># Modify an element (destructively)
</FONT></I>   List )

(<B><FONT COLOR="#A020F0">for</FONT></B> I (<B><FONT COLOR="#A020F0">length</FONT></B> List)
   (doSomethingWith (get List I)) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq
   Fruits <B><FONT COLOR="#BC8F8F">'(Apple Blackberry)
   FruitRef '</FONT></B>Fruits )

: (<B><FONT COLOR="#A020F0">for</FONT></B> Fruit (val FruitRef)
   (prinl Fruit <B><FONT COLOR="#BC8F8F">&quot; tastes good in a pie.&quot;</FONT></B>) )
Apple tastes good in a pie.
Blackberry tastes good in a pie.
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.6
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let Uniq NIL
   (<B><FONT COLOR="#A020F0">for</FONT></B> Item <B><FONT COLOR="#BC8F8F">'(a b c b c d c d e d e f)
      (unless (memq Item Uniq)
         (push '</FONT></B>Uniq Item) ) )
   Uniq )
-&gt; (f e d c b a)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (let Seen NIL
   (<B><FONT COLOR="#A020F0">for</FONT></B> Item <B><FONT COLOR="#BC8F8F">'(a b c b c d c d e d e f)
      (accu '</FONT></B>Seen Item 1) )
   Seen )
-&gt; ((f . 1) (e . 2) (d . 3) (c . 3) (b . 2) (a . 1))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (uniq <B><FONT COLOR="#BC8F8F">'(a b c b c d c d e d e f))
-&gt; (a b c d e f)
#-----------------------------
# generate a list of users logged in, removing duplicates
: (in '</FONT></B>(who)
   (uniq
      (make
         (<B><FONT COLOR="#A020F0">while</FONT></B> (<B><FONT COLOR="#A020F0">split</FONT></B> (line) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>)
            (<B><FONT COLOR="#A020F0">link</FONT></B> (<B><FONT COLOR="#A020F0">pack</FONT></B> (car @))) ) ) ) )
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;tim&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;abu&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;ben&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (println <B><FONT COLOR="#BC8F8F">'Users '</FONT></B>logged <B><FONT COLOR="#BC8F8F">'in: (sort @))
Users logged in: (&quot;abu&quot; &quot;ben&quot; &quot;tim&quot;)
#-----------------------------

# @@PLEAC@@_4.7
#-----------------------------
# find only elements in A and not in B
: (sect '</FONT></B>(a b c d e f) <B><FONT COLOR="#BC8F8F">'(a c f h))
-&gt; (a c f)
#-----------------------------
# Using symbol values
: (setq key1 1  key2 2)
-&gt; 2
: key1
-&gt; 1
: key2
-&gt; 2
#-----------------------------
# Using properties
: (put '</FONT></B>Hash <B><FONT COLOR="#BC8F8F">'key1 1)
-&gt; 1
: (put '</FONT></B>Hash <B><FONT COLOR="#BC8F8F">'key2 2)
-&gt; 2
: (get '</FONT></B>Hash <B><FONT COLOR="#BC8F8F">'key1)
-&gt; 1
#-----------------------------
# Using association lists
: (de Hash (key1 . 1) (key2 . 2))
-&gt; Hash
: (assoc '</FONT></B>key1 Hash)
-&gt; (key1 . 1)
: (asoq <B><FONT COLOR="#BC8F8F">'key1 Hash)
-&gt; (key1 . 1)
: (get Hash '</FONT></B>key1)
-&gt; 1
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># Using index tree
</FONT></I>: (idx <B><FONT COLOR="#BC8F8F">'Hash '</FONT></B>(key1 . 1) T)
-&gt; NIL
: (idx <B><FONT COLOR="#BC8F8F">'Hash '</FONT></B>(key2 . 2) T)
-&gt; NIL
: (lup Hash <B><FONT COLOR="#BC8F8F">'key1)
-&gt; (key1 . 1)
#-----------------------------

# @@PLEAC@@_4.8
#-----------------------------
(setq
   A (1 3 5 6 7 8)
   B (2 3 5 7 9) )
#-----------------------------
# Union
: (uniq (append A B))
-&gt; (1 3 5 6 7 8 2 9)
#-----------------------------
# Intersection
: (sect A B)
-&gt; (3 5 7)
#-----------------------------
# Difference
: (diff A B)
-&gt; (1 6 8)
#-----------------------------

# @@PLEAC@@_4.9
#-----------------------------
(setq
   Members '</FONT></B>(Time Flies)
   Initiates <B><FONT COLOR="#BC8F8F">'(An Arrow) )
#-----------------------------
: (append Members Initiates)  # Non-destructive
-&gt; (Time Flies An Arrow)
#-----------------------------
: (conc Members Initiates)  # Destructive
-&gt; (Time Flies An Arrow)
# '</FONT></B>Members<B><FONT COLOR="#BC8F8F">' is now (Time Flies An Arrow)
#-----------------------------
: (insert 3 Members '</FONT></B>Like)  <I><FONT COLOR="#B22222"># Non-destructive
</FONT></I>-&gt; (Time Flies Like An Arrow)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (set Members <B><FONT COLOR="#BC8F8F">'Fruit)  # Destructive
-&gt; Fruit
: (set (tail 1 Members) '</FONT></B>Banana)
-&gt; Banana
: Members
-&gt; (Fruit Flies An Banana)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.10
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">reverse</FONT></B> List)  <I><FONT COLOR="#B22222"># Non-destructive
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(flip List)  <I><FONT COLOR="#B22222"># Destructive
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (<B><FONT COLOR="#A020F0">sort</FONT></B> (2 8 3 7 5 9 6))
-&gt; (2 3 5 6 7 8 9)
: (by - <B><FONT COLOR="#A020F0">sort</FONT></B> (2 8 3 7 5 9 6))
-&gt; (9 8 7 6 5 3 2)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (flip (<B><FONT COLOR="#A020F0">sort</FONT></B> <B><FONT COLOR="#BC8F8F">'(a 3 1 (1 2 3) d b 4 T NIL (a b c) (x y z) c 2)))
-&gt; (T (x y z) (a b c) (1 2 3) d c b a 4 3 2 1 NIL)
#-----------------------------

# @@PLEAC@@_4.11
#-----------------------------
# remove N elements from front of List
: (setq List '</FONT></B>(a b c d e f g))
-&gt; (a b c d e f g)
: (cut 3 <B><FONT COLOR="#BC8F8F">'List)
-&gt; (a b c)
: List
-&gt; (d e f g)
#-----------------------------
# remove N elements from end of List
: (setq List '</FONT></B>(a b c d e f g))
-&gt; (a b c d e f g)
: (tail 3 List)
-&gt; (e f g)
: (con (nth List 4))
-&gt; NIL
: List
-&gt; (a b c d)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq
   Friends <B><FONT COLOR="#BC8F8F">'(Peter Paul Mary Jim Tim)
   This (pop '</FONT></B>Friends)
   Thas (<B><FONT COLOR="#A020F0">pop</FONT></B> <B><FONT COLOR="#BC8F8F">'Friends) )

: This
-&gt; Peter
: That
-&gt; NIL
: Friends
-&gt; (Mary Jim Tim)
#-----------------------------
(setq
   Beverages '</FONT></B>(Dew Jolt Cola Sprite Fresca)
   Pair (tail 2 Beverages)
   Beverages (head 3 Beverages) )

: Pair
-&gt; (Sprite Fresca)
: Beverages
-&gt; (Dew Jolt Cola)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.12
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(with
   (find
      <B><FONT COLOR="#BC8F8F">'((This) (== '</FONT></B>engineer (: category)))
      Employees )
   (prinl <B><FONT COLOR="#BC8F8F">&quot;Highest paid engineer is: &quot;</FONT></B> (: name))  )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.13
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(de Nums 84598 4439223 248749 2488711 233716 3375644 211118)

: (filter <B><FONT COLOR="#BC8F8F">'((N) (&gt; N 1000000)) Nums)
-&gt; (4439223 2488711 3375644)
#-----------------------------
: (filter &gt; Nums (1000000 .))
-&gt; (4439223 2488711 3375644)
#-----------------------------
(filter '</FONT></B>((This) (== <B><FONT COLOR="#BC8F8F">'Engineer (: position))) Employees)
#-----------------------------

# @@PLEAC@@_4.14
#-----------------------------
# Pids is an unsorted array of process IDs
(sort Pids)
#-----------------------------
# Descending sort
: (flip (sort (4 19 8 4)))
-&gt; (19 8 4 4)

: (sort (4 19 8 4) &gt;)
-&gt; (19 8 4 4)

: (by - sort (4 19 8 4))
-&gt; (19 8 4 4)
#-----------------------------

# @@PLEAC@@_4.15
#-----------------------------
: (by cdr sort '</FONT></B>((4 . 7) (19 . 3) (8 . 1) (4 . 2)))   <I><FONT COLOR="#B22222"># (recommended)
</FONT></I>-&gt; ((8 . 1) (4 . 2) (19 . 3) (4 . 7))

: (<B><FONT COLOR="#A020F0">sort</FONT></B>                                               <I><FONT COLOR="#B22222"># (slower and bigger)
</FONT></I>   <B><FONT COLOR="#BC8F8F">'((4 . 7) (19 . 3) (8 . 1) (4 . 2))
   '</FONT></B>((X Y) (&gt; (cdr Y) (cdr X))) )
-&gt; ((8 . 1) (4 . 2) (19 . 3) (4 . 7))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(<B><FONT COLOR="#A020F0">for</FONT></B> This (by <B><FONT COLOR="#BC8F8F">'((This) (: name)) sort Employees)
    (prinl (: name) &quot; earns $&quot; (: salary)) )
#-----------------------------
(by '</FONT></B>((This) (cons (: name) (: age))) <B><FONT COLOR="#A020F0">sort</FONT></B> Employees)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(by <B><FONT COLOR="#BC8F8F">'((S) (cadr (chop S))) sort Names)
#-----------------------------
(by length sort Strings)
#-----------------------------
(sort
   (in &quot;/etc/passwd&quot;
      (make
         (while (split (line) &quot;:&quot;)
            (link (mix @ 4 3 1)) ) ) ) )
#-----------------------------

# @@PLEAC@@_4.16
#-----------------------------
: (circ '</FONT></B>a)
-&gt; (a .)

: (circ <B><FONT COLOR="#BC8F8F">'a '</FONT></B>b <B><FONT COLOR="#BC8F8F">'c)
-&gt; (a b c .)

: (rot @)
-&gt; (c a b .)
#-----------------------------

# @@PLEAC@@_4.17
#-----------------------------
(by '</FONT></B>(NIL (<B><FONT COLOR="#A020F0">rand</FONT></B>)) <B><FONT COLOR="#A020F0">sort</FONT></B> Lst)  <I><FONT COLOR="#B22222"># OK
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.18
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch04/words">download the following standalone program</a></font>
</FONT></I><I><FONT COLOR="#B22222">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
</FONT></I><I><FONT COLOR="#B22222"># words - gather lines, present in columns
</FONT></I>
(setq
   Data (in NIL
      (make
         (<B><FONT COLOR="#A020F0">until</FONT></B> (<B><FONT COLOR="#A020F0">eof</FONT></B>)
            (<B><FONT COLOR="#A020F0">link</FONT></B> (line T)) ) ) )
   Maxlen (inc (<B><FONT COLOR="#A020F0">length</FONT></B> (maxi <B><FONT COLOR="#A020F0">length</FONT></B> Data)))
   Cols (max (/ (<B><FONT COLOR="#A020F0">or</FONT></B> (<B><FONT COLOR="#A020F0">format</FONT></B> (sys <B><FONT COLOR="#BC8F8F">&quot;COLUMNS&quot;</FONT></B>)) 80) Maxlen) 1)
   Rows (/ (+ (<B><FONT COLOR="#A020F0">length</FONT></B> Data) Cols) Cols)
   Data (make (<B><FONT COLOR="#A020F0">while</FONT></B> Data (<B><FONT COLOR="#A020F0">link</FONT></B> (cut Rows <B><FONT COLOR="#BC8F8F">'Data)))) )

(while (find bool Data)
   (map
      '</FONT></B>((D) (space (- Maxlen (<B><FONT COLOR="#A020F0">length</FONT></B> (prin (<B><FONT COLOR="#A020F0">pop</FONT></B> D))))))
      Data )
   (prinl) )

(bye)

<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_4.18
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(de permute (Lst)
   (ifn (cdr Lst)
      (cons Lst)
      (mapcan
         <B><FONT COLOR="#BC8F8F">'((X)
            (mapcar
               '</FONT></B>((Y) (cons X Y))
               (permute (<B><FONT COLOR="#A020F0">delete</FONT></B> X Lst)) ) )
         Lst ) ) )

: (mapc println (permute <B><FONT COLOR="#BC8F8F">'(man bites dog)))
(man bites dog)
(man dog bites)
(bites man dog)
(bites dog man)
(dog man bites)
(dog bites man)
#-----------------------------
(de factorial (N)
   (apply * (range 1 N)) )

: (for N 15 (tab (-20 -10) N (factorial N)))
1                   1
2                   2
3                   6
4                   24
5                   120
6                   720
7                   5040
8                   40320
9                   362880
10                  3628800
11                  39916800
12                  479001600
13                  6227020800
14                  87178291200
15                  1307674368000

: (factorial 500)
-&gt; 12201368259911100687...00000000000000000000
: (length @)
-&gt; 1135
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch04/permute">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

(load &quot;@lib/simul.l&quot;)  # For '</FONT></B>permute<B><FONT COLOR="#BC8F8F">' function

(in NIL
   (until (eof)
      (for F (permute (split (line) &quot; &quot;))
         (prinl (glue &quot; &quot; F)) ) ) )

(bye)

#-----------------------------

# @@PLEAC@@_5.0
# To associate keys with values, PicoLisp uses (besides the built-in database)
# 1. Symbol properties ('</FONT></B>put<B><FONT COLOR="#BC8F8F">', '</FONT></B>get<B><FONT COLOR="#BC8F8F">', '</FONT></B>:<B><FONT COLOR="#BC8F8F">' etc.)
# 2. Association lists ('</FONT></B>assoc<B><FONT COLOR="#BC8F8F">', '</FONT></B>asoq<B><FONT COLOR="#BC8F8F">', '</FONT></B>get<B><FONT COLOR="#BC8F8F">')
# 3. Binary trees ('</FONT></B>idx<B><FONT COLOR="#BC8F8F">', '</FONT></B>lup<B><FONT COLOR="#BC8F8F">')
# For the examples in this section we use association lists
#-----------------------------
(de Age
   (Nat . 24)
   (Jules . 25)
   (Josh . 17) )
#-----------------------------
(push '</FONT></B>Age
   (cons <B><FONT COLOR="#BC8F8F">'Nat 24)
   (cons '</FONT></B>Jules 25)
   (cons <B><FONT COLOR="#BC8F8F">'Josh 17) )
#-----------------------------
(de FoodColor
   (Apple . &quot;red&quot;)
   (Banana . &quot;yellow&quot;)
   (Lemon . &quot;yellow&quot;)
   (Carrot . &quot;orange&quot;) )
#-----------------------------

# @@PLEAC@@_5.1
#-----------------------------
# FoodColor defined per the introduction
(push '</FONT></B>FoodColor <B><FONT COLOR="#BC8F8F">'(Raspberry . &quot;pink&quot;))

: (prinl &quot;Known foods:&quot;) (for F FoodColor (println (car F)))
Known foods:
Raspberry
Apple
Banana
Lemon
Carrot
#-----------------------------

# @@PLEAC@@_5.2
#-----------------------------
# FoodColor per the introduction
: (for Name '</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;Banana&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;Martini&quot;</FONT></B>)
   (prinl Name (<B><FONT COLOR="#A020F0">if</FONT></B> (assoc Name FoodColor) <B><FONT COLOR="#BC8F8F">&quot; is a food.&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot; is a drink.&quot;</FONT></B>)) )
Banana is a food.
Martini is a drink.
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.3
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(del Key Var)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># FoodColor per the introduction
</FONT></I>(de printFoods ()
   (prin <B><FONT COLOR="#BC8F8F">&quot;Keys: &quot;</FONT></B>)
   (apply println (mapcar car FoodColor))
   (prin <B><FONT COLOR="#BC8F8F">&quot;Values: &quot;</FONT></B>)
   (apply println (mapcar cdr FoodColor)) )

(prinl <B><FONT COLOR="#BC8F8F">&quot;Initially:&quot;</FONT></B>)
(printFoods)
(prinl)
(prinl <B><FONT COLOR="#BC8F8F">&quot;With Banana undef:&quot;</FONT></B>)
(del (assoc <B><FONT COLOR="#BC8F8F">'Banana FoodColor) '</FONT></B>FoodColor)
(printFoods)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>Initially:
Keys: Raspberry Apple Banana Lemon Carrot
Values: <B><FONT COLOR="#BC8F8F">&quot;pink&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;red&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;orange&quot;</FONT></B>

With Banana <B><FONT COLOR="#A020F0">undef</FONT></B>:
Keys: Raspberry Apple Lemon Carrot
Values: <B><FONT COLOR="#BC8F8F">&quot;pink&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;red&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;orange&quot;</FONT></B>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.4
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># FoodColor as per the introduction
</FONT></I>: (<B><FONT COLOR="#A020F0">for</FONT></B> F FoodColor
   (prinl (car F) <B><FONT COLOR="#BC8F8F">&quot; is &quot;</FONT></B> (cdr F)) )
Apple is red
Banana is yellow
Lemon is yellow
Carrot is orange

: (mapc
   <B><FONT COLOR="#BC8F8F">'((Food Color) (prinl Food &quot; is &quot; Color))
   (mapcar car FoodColor)
   (mapcar cdr FoodColor) )
Apple is red
Banana is yellow
Lemon is yellow
Carrot is orange
#-----------------------------
: (for F (sort FoodColor)
   (prinl (car F) &quot; is &quot; (cdr F)) )
Apple is red
Banana is yellow
Carrot is orange
Lemon is yellow
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch05/countfrom">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

(load &quot;@lib/misc.l&quot;)

(in (opt)
   (until (eof)
      (when (match '</FONT></B>(~(<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;From: &quot;</FONT></B>) @From) (line))
         (accu <B><FONT COLOR="#BC8F8F">'From @From 1) ) ) )

(for Person (sort From)
   (prinl (car Person) &quot;: &quot; (cdr Person)) )

(bye)

#-----------------------------

# @@PLEAC@@_5.5
#-----------------------------
# FoodColor as per the introduction
: FoodColor
-&gt; ((Apple . &quot;red&quot;) (Banana . &quot;yellow&quot;) (Lemon . &quot;yellow&quot;) (Carrot . &quot;orange&quot;))

: (mapc println FoodColor)
(Apple . &quot;red&quot;)
(Banana . &quot;yellow&quot;)
(Lemon . &quot;yellow&quot;)
(Carrot . &quot;orange&quot;)

: (for X FoodColor
   (prinl (car X) &quot; =&gt; &quot; (cdr X)) )
Apple =&gt; red
Banana =&gt; yellow
Lemon =&gt; yellow
Carrot =&gt; orange
#-----------------------------

# @@PLEAC@@_5.6
#-----------------------------
(queue '</FONT></B>FoodColor (cons <B><FONT COLOR="#BC8F8F">'Banana &quot;Yellow&quot;))
(queue '</FONT></B>FoodColor (cons <B><FONT COLOR="#BC8F8F">'Apple &quot;Green&quot;))
(queue '</FONT></B>FoodColor (cons <B><FONT COLOR="#BC8F8F">'Lemon &quot;Yellow&quot;))

: FoodColor
-&gt; ((Banana . &quot;Yellow&quot;) (Apple . &quot;Green&quot;) (Lemon . &quot;Yellow&quot;))

# In insertion order, the foods are:
: (for Food FoodColor
   (prinl &quot;   &quot; (car Food)) )
In insertion order, the foods are:
   Banana
   Apple
   Lemon

# Still in insertion order, the foods'</FONT></B> colors are:
: (<B><FONT COLOR="#A020F0">for</FONT></B> Food FoodColor
   (prinl (car Food) <B><FONT COLOR="#BC8F8F">&quot; is colored &quot;</FONT></B> (cdr Food) <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B>) )
Banana is colored Yellow.
Apple is colored Green.
Lemon is colored Yellow.
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.7
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (setq Ttys
   (<B><FONT COLOR="#A020F0">sort</FONT></B>
      (group
         (in <B><FONT COLOR="#BC8F8F">'(who)
            (make
               (while (read)
                  (link (cons @ (read)))
                  (line) ) ) ) ) ) )
-&gt; ((abu tty1 pts/1 pts/3 pts/4 pts/5) (root tty2))

: (for U Ttys
   (prin (car U) &quot;: &quot;)
   (apply println (cdr U)) )
abu: tty1 pts/1 pts/3 pts/4 pts/5
root: tty2
#-----------------------------
(for U Ttys
   (prinl (car U) &quot;: &quot; (length (cdr U)) &quot; ttys.&quot;)
   (for Tty (sort (cdr U))
      (prinl &quot;^I&quot; Tty &quot; (owned by &quot; (car U) &quot;)&quot;) ) )
#-----------------------------
# Delete all pts/3 .. pts/5
(for U Ttys
   (con U (diff (cdr U) '</FONT></B>(pts/3 pts/4 pts/5))) )

: Ttys
-&gt; ((abu tty1 pts/1) (root tty2))
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.8
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq
   Surname <B><FONT COLOR="#BC8F8F">'((Mickey . Mantle) (Babe . Ruth))
   FirstName (mapcar '</FONT></B>((X) (cons (cdr X) (car X))) Surname) )

: (get FirstName <B><FONT COLOR="#BC8F8F">'Mantle)
-&gt; Mickey
#-----------------------------
# <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch05/foodfind">download the following standalone program</a></font>
#!/usr/bin/picolisp /usr/lib/picolisp/lib.l

(ifn (argv Given)
   (out 2 (prinl &quot;usage: foodfind food_or_color&quot;))

   (de Color
      (&quot;Apple&quot; . &quot;red&quot;)
      (&quot;Banana&quot; . &quot;yellow&quot;)
      (&quot;Lemon&quot; . &quot;yellow&quot;)
      (&quot;Carrot&quot; . &quot;orange&quot;) )

   (when (assoc Given Color)
      (prinl Given &quot; is a food with color &quot; (cdr @) &quot;.&quot;) )
   (when (find '</FONT></B>((X) (= Given (cdr X))) Color)
      (prinl (car @) <B><FONT COLOR="#BC8F8F">&quot;  is a food with color &quot;</FONT></B> Given <B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B>) ) )

(bye)

<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># FoodColor as per the introduction
</FONT></I>: (extract
   <B><FONT COLOR="#BC8F8F">'((F) (and (= &quot;yellow&quot; (cdr F)) (car F)))
   FoodColor )
-&gt; (Banana Lemon)
#-----------------------------

# @@PLEAC@@_5.9
#-----------------------------
: (setq FoodColor (sort FoodColor))
-&gt; ((Apple . &quot;red&quot;) (Banana . &quot;yellow&quot;) (Carrot . &quot;orange&quot;) (Lemon . &quot;yellow&quot;))

: (setq FoodColor (by cdr sort FoodColor))
-&gt; ((Carrot . &quot;orange&quot;) (Apple . &quot;red&quot;) (Banana . &quot;yellow&quot;) (Lemon . &quot;yellow&quot;))
#-----------------------------

# @@PLEAC@@_5.10
#-----------------------------
# FoodColor per the introduction
(setq
   DrinkColor '</FONT></B>((Galliano . <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B>) (<B><FONT COLOR="#BC8F8F">&quot;Mai Tai&quot;</FONT></B> . <B><FONT COLOR="#BC8F8F">&quot;blue&quot;</FONT></B>))
   IngestedColor (append FoodColor DrinkColor) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (setq AllColors (uniq (mapcar cdr IngestedColor)))
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;red&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;orange&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;blue&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.11
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># FoodColor per the introduction
</FONT></I><I><FONT COLOR="#B22222"># CitrusColor is a hash mapping citrus food name to its color.
</FONT></I>(de CitrusColor
   (Lemon . <B><FONT COLOR="#BC8F8F">&quot;yellow&quot;</FONT></B>)
   (Orange . <B><FONT COLOR="#BC8F8F">&quot;orange&quot;</FONT></B>)
   (Lime . <B><FONT COLOR="#BC8F8F">&quot;green&quot;</FONT></B>) )

<I><FONT COLOR="#B22222"># build up a list of non-citrus foods
</FONT></I>: (filter <B><FONT COLOR="#BC8F8F">'((F) (not (assoc (car F) CitrusColor))) FoodColor)
-&gt; ((Apple . &quot;red&quot;) (Banana . &quot;yellow&quot;) (Carrot . &quot;orange&quot;))
#-----------------------------

# @@PLEAC@@_5.12
#-----------------------------
(setq Files
   (extract
      '</FONT></B>((File) (<B><FONT COLOR="#A020F0">and</FONT></B> (info File) (cons File (car @))))
      <B><FONT COLOR="#BC8F8F">'(&quot;/etc/termcap&quot;, &quot;/vmunix&quot;, &quot;/bin/cat&quot;) ) )

(prinl &quot;open files &quot; (glue &quot;, &quot; (mapcar car Files)))
(for F Files
   (prinl (car F) &quot; is &quot; (cdr F) &quot; bytes long.&quot;) )
#-----------------------------

# @@PLEAC@@_5.13
#-----------------------------
# Has no meaning in PicoLisp. All data structures grow dynamically.
#-----------------------------

# @@PLEAC@@_5.14
#-----------------------------
: (off Count)
-&gt; NIL
: (for Element '</FONT></B>(a b c b c d)
   (accu <B><FONT COLOR="#BC8F8F">'Count Element 1) )
-&gt; (d . 1)
: Count
-&gt; ((d . 1) (c . 2) (b . 2) (a . 1))
#-----------------------------

# @@PLEAC@@_5.15
#-----------------------------
(de Father
   (Cain . Adam)
   (Abel . Adam)
   (Seth . Adam)
   (Enoch . Cain)
   (Irad . Enoch)
   (Mehujael . Irad)
   (Methusael . Mehujael)
   (Lamech . Methusael)
   (Jubal . Lamech)
   (Tubalcain . Lamech)
   (Enos . Seth) )

(de ancestor (Name)
   (while (assoc Name Father)
      (setq Name (cdr @)) )
   Name )  # Always '</FONT></B>Adam<B><FONT COLOR="#BC8F8F">'

(setq Children
   (mapcar
      '</FONT></B>((L) (cons (cdar L) (mapcar car L)))
      (by cdr group Father) ) )

(de children (Name)
   (prinl Name <B><FONT COLOR="#BC8F8F">&quot; begat &quot;</FONT></B>
      (<B><FONT COLOR="#A020F0">if</FONT></B> (get Children Name)
         (glue <B><FONT COLOR="#BC8F8F">&quot;, &quot;</FONT></B> @)
         <B><FONT COLOR="#BC8F8F">&quot;nobody&quot;</FONT></B> ) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (children <B><FONT COLOR="#BC8F8F">'Adam)
Adam begat Cain, Abel, Seth

: (children '</FONT></B>Enos)
Enos begat nobody
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_5.16
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># <font size="-1"><a href="http://pleac.sourceforge.net/include/picolisp/ch05/dutree">download the following standalone program</a></font>
</FONT></I><I><FONT COLOR="#B22222">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l
</FONT></I><I><FONT COLOR="#B22222"># dutree - print sorted indented rendition of du output
</FONT></I>
(load <B><FONT COLOR="#BC8F8F">&quot;@lib/misc.l&quot;</FONT></B>)

<I><FONT COLOR="#B22222"># Run du, read input, save directories and sizes
</FONT></I>(setq *Dirsize  <I><FONT COLOR="#B22222"># ((name size kids ..) ..)
</FONT></I>   (by <B><FONT COLOR="#A020F0">length</FONT></B> <B><FONT COLOR="#A020F0">sort</FONT></B>
      (in (list <B><FONT COLOR="#BC8F8F">'du (opt))
         (make
            (while (read)
               (skip)
               (link (list (split (line) &quot;/&quot;) @)) ) ) ) ) )

# Assign kids
(for D *Dirsize
   (when (assoc (head -1 (car D)) *Dirsize)
      (conc @ (cons (car D))) ) )

(let Root (car *Dirsize)
   # Figure out how much is taken up in each directory
   # that isn'</FONT></B>t stored in subdirectories.  add a <B><FONT COLOR="#A020F0">new</FONT></B>
   <I><FONT COLOR="#B22222"># fake kid called &quot;.&quot; containing that much
</FONT></I>   (recur (Root)
      (let (Size (cadr Root)  Cursize Size)
         (<B><FONT COLOR="#A020F0">for</FONT></B> Kid (cddr Root)
            (when (assoc Kid *Dirsize)
               (dec <B><FONT COLOR="#BC8F8F">'Cursize (cadr @))
               (recurse @) ) )
         (unless (= Size Cursize)
            (let Dot (append (car Root) '</FONT></B>((<B><FONT COLOR="#BC8F8F">&quot;.&quot;</FONT></B>)))
               (<B><FONT COLOR="#A020F0">push</FONT></B> <B><FONT COLOR="#BC8F8F">'*Dirsize (list Dot Cursize))
               (conc Root (cons Dot)) ) ) ) )
   # Recursively output everything
   (let (Prefix NIL  Width (length (cadr Root)))
      (recur (Root Prefix Width)
         (let Name (last (car Root))
            (prinl Prefix (align Width (cadr Root)) &quot; &quot; Name)
            (let? Kids
               (flip
                  (by cadr sort
                     (mapcar '</FONT></B>((K) (assoc K *Dirsize)) (cddr Root)) ) )
               (setq Prefix (<B><FONT COLOR="#A020F0">pack</FONT></B> Prefix (align Width <B><FONT COLOR="#BC8F8F">&quot;|&quot;</FONT></B>)))
               (setq Width (+ 1 (<B><FONT COLOR="#A020F0">length</FONT></B> Name) (<B><FONT COLOR="#A020F0">length</FONT></B> (cadar Kids))))
               (<B><FONT COLOR="#A020F0">for</FONT></B> Kid Kids
                  (recurse Kid Prefix Width) ) ) ) ) ) )

(bye)

<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_6.0
</FONT></I><I><FONT COLOR="#B22222"># PicoLisp has no strings, and doesn't operate on symbol names directly.
</FONT></I><I><FONT COLOR="#B22222"># (see the &quot;Strings&quot; section). Instead, patterns are applied to lists.
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(match Pattern List)
(fill Pattern [Symbol|List])
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (match <B><FONT COLOR="#BC8F8F">'(@Name had a @Adj lamb) '</FONT></B>(Mary had a little lamb))
-&gt; T
: @Name
-&gt; (Mary)
: @Adj
-&gt; (little)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_6.1
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (replace <B><FONT COLOR="#BC8F8F">'(here in this town) '</FONT></B>this <B><FONT COLOR="#BC8F8F">'that '</FONT></B>town <B><FONT COLOR="#BC8F8F">'village)
-&gt; (here in that village)
#-----------------------------
# strip to basename
: (let F (chop &quot;abc/def/ghi&quot;)
   (prinl (last (split F '</FONT></B>/)))  <I><FONT COLOR="#B22222"># Using 'split'
</FONT></I>   (prinl (stem F <B><FONT COLOR="#BC8F8F">'/)) )        # or '</FONT></B>stem<B><FONT COLOR="#BC8F8F">'
ghi
ghi
#-----------------------------
# Make All Words Title-Cased
: (mapcar
      '</FONT></B>((W) (<B><FONT COLOR="#A020F0">pack</FONT></B> (uppc (car W)) (cdr W)))
      (<B><FONT COLOR="#A020F0">split</FONT></B> (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Mary had a little lamb&quot;</FONT></B>) <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>) )
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;Mary&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Had&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;A&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Little&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Lamb&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>: (glue <B><FONT COLOR="#BC8F8F">'/
   (replace
      (split (chop &quot;/usr/man/man3/foo.1&quot;) &quot;/&quot;)
      '</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;m&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;n&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;3&quot;</FONT></B>)
      <B><FONT COLOR="#BC8F8F">'(&quot;c&quot; &quot;a&quot; &quot;t&quot; &quot;3&quot;) ) )
-&gt; &quot;/usr/man/cat3/foo.1&quot;
#-----------------------------
: (mapcar
   '</FONT></B>((S) (<B><FONT COLOR="#A020F0">pack</FONT></B> (glue <B><FONT COLOR="#BC8F8F">'/ (head -1 (split (chop S) '</FONT></B>/))) <B><FONT COLOR="#BC8F8F">&quot;/lib&quot;</FONT></B>))
   <B><FONT COLOR="#BC8F8F">'(&quot;/usr/bin&quot; &quot;/bin&quot; &quot;/usr/local/bin&quot;) )
-&gt; (&quot;/usr/lib&quot; &quot;/lib&quot; &quot;/usr/local/lib&quot;)
#-----------------------------

# @@PLEAC@@_6.2
#-----------------------------
(not
   (find
      '</FONT></B>((C) (nor (&gt;= <B><FONT COLOR="#BC8F8F">&quot;Z&quot;</FONT></B> C <B><FONT COLOR="#BC8F8F">&quot;A&quot;</FONT></B>) (&gt;= <B><FONT COLOR="#BC8F8F">&quot;z&quot;</FONT></B> C <B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B>)))
      List ) )  <I><FONT COLOR="#B22222"># it is purely alphabetic
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_6.3
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I><I><FONT COLOR="#B22222"># as many non-whitespace bytes as possible
</FONT></I>: (make (find <B><FONT COLOR="#BC8F8F">'((C) (or (sp? C) (nil (link C)))) (chop &quot;abcd efg&quot;)))
-&gt; (&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;)

# as many letters, apostrophes, and hyphens
: (make
   (find
      '</FONT></B>((C)
         (nand
            (<B><FONT COLOR="#A020F0">or</FONT></B> (&gt;= <B><FONT COLOR="#BC8F8F">&quot;Z&quot;</FONT></B> C <B><FONT COLOR="#BC8F8F">&quot;A&quot;</FONT></B>) (&gt;= <B><FONT COLOR="#BC8F8F">&quot;z&quot;</FONT></B> C <B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B>) (<B><FONT COLOR="#A020F0">sub</FONT></B>? C <B><FONT COLOR="#BC8F8F">&quot;`-&quot;</FONT></B>))
            (<B><FONT COLOR="#A020F0">link</FONT></B> C) ) )
      (<B><FONT COLOR="#A020F0">chop</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;ab`c-d/e&quot;</FONT></B>) ) )
-&gt; (<B><FONT COLOR="#BC8F8F">&quot;a&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;b&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;`&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;c&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;-&quot;</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;d&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># ...
</FONT></I>
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_7.0
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(in <B><FONT COLOR="#BC8F8F">&quot;/usr/local/widgets/data&quot;</FONT></B>
   (<B><FONT COLOR="#A020F0">until</FONT></B> (<B><FONT COLOR="#A020F0">eof</FONT></B>)
      (<B><FONT COLOR="#A020F0">and</FONT></B> (<B><FONT COLOR="#A020F0">sub</FONT></B>? <B><FONT COLOR="#BC8F8F">&quot;blue&quot;</FONT></B> (line T)) (prinl @)) ) )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(setq Var (in NIL (till NIL T)))  <I><FONT COLOR="#B22222"># Read standard input till EOF
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(out LogFile ...)

(setq Fd (<B><FONT COLOR="#A020F0">open</FONT></B> LogFile))
...
(<B><FONT COLOR="#A020F0">close</FONT></B> Fd)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(out <B><FONT COLOR="#BC8F8F">&quot;+LogFile&quot;</FONT></B>  <I><FONT COLOR="#B22222"># switch to LOGFILE for output
</FONT></I>   (prinl <B><FONT COLOR="#BC8F8F">&quot;Countdown initiated ...&quot;</FONT></B>) )
<I><FONT COLOR="#B22222"># return to original output
</FONT></I>(prinl <B><FONT COLOR="#BC8F8F">&quot;You have 30 seconds to reach minimum safety distance.&quot;</FONT></B>)
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_7.1
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>(in <B><FONT COLOR="#BC8F8F">&quot;file&quot;</FONT></B>  <I><FONT COLOR="#B22222"># Open for input
</FONT></I>   .. )

(out <B><FONT COLOR="#BC8F8F">&quot;file&quot;</FONT></B>  <I><FONT COLOR="#B22222"># Open for output
</FONT></I>   .. )

(out <B><FONT COLOR="#BC8F8F">&quot;+file&quot;</FONT></B>  <I><FONT COLOR="#B22222"># Open for output (appending)
</FONT></I>   .. )
<I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># @@PLEAC@@_7.2
</FONT></I><I><FONT COLOR="#B22222">#-----------------------------
</FONT></I>
<I><FONT COLOR="#B22222"># Just like any other file, right?
</FONT></I></PRE>
<HR>
<ADDRESS>Generated by <A HREF="http://www.iki.fi/~mtr/genscript/">GNU Enscript 1.6.5.90</A>.</ADDRESS>
</BODY>
</HTML>
